/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./DragDropBase","../Element"],function(D,E){"use strict";var a=D.extend("sap.ui.core.dnd.DragDropInfo",{metadata:{library:"sap.ui.core",interfaces:["sap.ui.core.dnd.IDragInfo","sap.ui.core.dnd.IDropInfo"],properties:{sourceAggregation:{type:"string",defaultValue:null},targetAggregation:{type:"string",defaultValue:null},dropEffect:{type:"sap.ui.core.dnd.DropEffect",defaultValue:"Move"},dropPosition:{type:"sap.ui.core.dnd.DropPosition",defaultValue:"On"},dropLayout:{type:"sap.ui.core.dnd.DropLayout",defaultValue:"Vertical"}},associations:{targetElement:{type:"sap.ui.core.Element",multiple:false}},events:{dragStart:{allowPreventDefault:true},dragEnter:{allowPreventDefault:true},drop:{}}}});a.prototype.isDraggable=function(d){if(!(d instanceof E)||!this.getParent()){return false;}var s=this.getSourceAggregation();if(d===this.getParent()){if(s){return false;}}else if(d.getParent()===this.getParent()){if(!s||s!==d.sParentAggregationName){return false;}}else{return false;}return true;};a.prototype.fireDragStart=function(e,t){var p={target:t,dragSession:e.dragSession,browserEvent:e.originalEvent};return this.fireEvent("dragStart",p,true);};a.prototype.isDroppable=function(d,o){if(!(d instanceof E)){return false;}var t=this.getTargetElement();var v;if(t){v=sap.ui.getCore().byId(t);}else{v=this.getParent();}if(!v){return false;}var T=this.getTargetAggregation();if(T){if(d===v){if(!v.getAggregationDomRef){return false;}var A=v.getAggregationDomRef(T);if(!A||A===o){return false;}if(A.contains(o)){return true;}return false;}else if(!(d.sParentAggregationName===T&&d.getParent()===v)){return false;}}else if(!v.getDomRef||!d.getDomRef||!jQuery.sap.containsOrEquals(v.getDomRef(),d.getDomRef())){return false;}return true;};a.prototype.getCurrentDropPosition=function(e){return this.getDropPosition();};a.prototype.fireDragEnter=function(e,t){var p={target:t,dragSession:e.dragSession,browserEvent:e.originalEvent};return this.fireEvent("dragEnter",p,true);};a.prototype.fireDrop=function(e,d){var p={dragSession:e.dragSession,draggedControl:e.dragSession.draggedControl,droppedControl:e.dragSession.dropControl,dropPosition:d,browserEvent:e.originalEvent};this.fireEvent("drop",p);};return a;},true);
