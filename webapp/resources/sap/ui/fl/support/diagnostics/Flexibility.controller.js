/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/fl/support/Flexibility"],function(C,F,a,b){"use strict";return C.extend("sap.ui.fl.support.diagnostics.Flexibility",{onInit:function(){var v=this.getView();v.byId("Tree").attachItemPress(this.treeItemPressed);},states:{applied:"applied",applicable:"applicable",possibleRootCause:"possibleRootCause",notApplicable:"notApplicable"},onAppSelect:function(e){var s=e.getParameters().selectedItem;var S=s.getKey();this.getView().getViewData().plugin._onAppSelected(S);},refreshApps:function(){this.getView().getViewData().plugin.onRefresh();},formatTreeIcon:function(c,m){var s=this._getChangeState(c,m);switch(s){case this.states.applied:return"sap-icon://message-success";case this.states.possibleRootCause:return"sap-icon://error";case this.states.notApplicable:return"sap-icon://alert";case this.states.applicable:return"sap-icon://question-mark";default:return"";}},_getChangeState:function(c,m){var o=m[c];if(!o){return;}if(!o.isApplicable){return this.states.notApplicable;}if(o.isPossibleRootCause){return this.states.possibleRootCause;}if(o.indexInAppliedChanges!=undefined){return this.states.applied;}},formatChangeVisibility:function(f,c,h){var k=f.id;var v=true;var i=!c[k];if(h&&!i){var o=c[k];v=v&&(!o.isInSubTree||!f.isTopLevelNode);}return v;},treeItemPressed:function(e){var E=e.getSource();var s=E.getSelectedItem();var c=s.data("id");var m=this.getView().getModel("flexChanges").getData()||{};var o={};if(m&&m.changes){o=m.changes[c];}this.getView().getModel("flexChangeDetails").setData(o);}});});
