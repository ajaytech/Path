jQuery.sap.declare('sap.ui.unified.library-all');if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarMonthIntervalRenderer')){
/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
jQuery.sap.declare('sap.ui.unified.CalendarMonthIntervalRenderer');sap.ui.define("sap/ui/unified/CalendarMonthIntervalRenderer",[],function(){"use strict";var C={};C.render=function(r,c){c._iMode=0;var i=c.getId();var t=c.getTooltip_AsString();var m=c.getAggregation("monthsRow");r.write("<div");r.writeControlData(c);r.addClass("sapUiCal");r.addClass("sapUiCalInt");r.addClass("sapUiCalMonthInt");if(c._getShowItemHeader()){r.addClass("sapUiCalIntHead");}r.writeAttribute("tabindex","-1");var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var A={labelledby:{value:"",append:false}};if(c._bPoupupMode){A["role"]="dialog";}r.writeAccessibilityState(c,A);if(t){r.writeAttributeEscaped('title',t);}var w=c.getWidth();if(w&&w!=''){r.addStyle("width",w);r.writeStyles();}r.writeClasses();r.write(">");var h=c.getAggregation("header");r.renderControl(h);r.write("<div id=\""+i+"-content\" class=\"sapUiCalContent\">");r.renderControl(m);r.write("</div>");r.write("<button id=\""+i+"-cancel\" class=\"sapUiCalCancel\" tabindex=\"-1\">");r.write(a.getText("CALENDAR_CANCEL"));r.write("</button>");r.write("<div id=\""+i+"-end\" tabindex=\"0\" style=\"width:0;height:0;position:absolute;right:0;bottom:0;\"></div>");if(c.getPickerPopup()){r.write("<div id=\""+i+"-contentOver\" class=\"sapUiCalContentOver\" style=\"display:none;\"></div>");}r.write("</div>");};return C;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarRenderer')){jQuery.sap.declare('sap.ui.unified.CalendarRenderer');sap.ui.define("sap/ui/unified/CalendarRenderer",[],function(){"use strict";var C={};C.render=function(r,c){c._iMode=0;var I=c.getId();var t=c.getTooltip_AsString();var m=c.getAggregation("month");var w=c.getWidth();r.write("<div");r.writeControlData(c);r.addClass("sapUiCal");if(m.length>1){r.addClass("sapUiCalMulti");}r.writeAttribute("tabindex","-1");var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var A={labelledby:{value:"",append:false}};if(c._bPoupupMode){A["role"]="dialog";}r.writeAccessibilityState(c,A);if(t){r.writeAttributeEscaped('title',t);}if(w){r.addClass("sapUiCalWidth");r.addStyle("width",w);r.writeStyles();}if(c._getSecondaryCalendarType()){r.addClass("sapUiCalSecType");}if(this.addAttributes){this.addAttributes(r,c);}r.writeClasses();r.write(">");var h=c.getAggregation("header");r.renderControl(h);r.write("<div id=\""+I+"-content\" class=\"sapUiCalContent\">");for(var i=0;i<m.length;i++){var M=m[i];r.renderControl(M);}this.renderCalContentOverlay(r,c,I);if(!c._bNamesLengthChecked){var o=c.getAggregation("monthPicker");r.renderControl(o);}r.write("</div>");r.write("<button id=\""+I+"-cancel\" class=\"sapUiCalCancel\" tabindex=\"-1\">");r.write(a.getText("CALENDAR_CANCEL"));r.write("</button>");r.write("<div id=\""+I+"-end\" tabindex=\"0\" style=\"width:0;height:0;position:absolute;right:0;bottom:0;\"></div>");this.renderCalContentAndArrowsOverlay(r,c,I);r.write("</div>");};C.renderCalContentOverlay=function(r,c,i){r.write("<div id=\""+i+"-contentOver\" class=\"sapUiCalContentOver\" style=\"display:none;\"></div>");};C.renderCalContentAndArrowsOverlay=function(r,c,i){};return C;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarTimeIntervalRenderer')){jQuery.sap.declare('sap.ui.unified.CalendarTimeIntervalRenderer');sap.ui.define("sap/ui/unified/CalendarTimeIntervalRenderer",[],function(){"use strict";var C={};C.render=function(r,c){c._iMode=0;var i=c.getId();var t=c.getTooltip_AsString();var T=c.getAggregation("timesRow");r.write("<div");r.writeControlData(c);r.addClass("sapUiCal");r.addClass("sapUiCalInt");r.addClass("sapUiCalTimeInt");if(c._getShowItemHeader()){r.addClass("sapUiCalIntHead");}if(c.getPickerPopup()){r.addClass("sapUiCalIntLarge");}r.writeAttribute("tabindex","-1");var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var A={labelledby:{value:"",append:false}};if(c._bPoupupMode){A["role"]="dialog";}r.writeAccessibilityState(c,A);if(t){r.writeAttributeEscaped('title',t);}var w=c.getWidth();if(w&&w!=''){r.addStyle("width",w);r.writeStyles();}r.writeClasses();r.write(">");var h=c.getAggregation("header");r.renderControl(h);r.write("<div id=\""+i+"-content\" class=\"sapUiCalContent\">");r.renderControl(T);r.write("</div>");r.write("<button id=\""+i+"-cancel\" class=\"sapUiCalCancel\" tabindex=\"-1\">");r.write(a.getText("CALENDAR_CANCEL"));r.write("</button>");r.write("<div id=\""+i+"-end\" tabindex=\"0\" style=\"width:0;height:0;position:absolute;right:0;bottom:0;\"></div>");if(c.getPickerPopup()){r.write("<div id=\""+i+"-contentOver\" class=\"sapUiCalContentOver\" style=\"display:none;\"></div>");}r.write("</div>");};return C;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.ColorPickerRenderer')){jQuery.sap.declare('sap.ui.unified.ColorPickerRenderer');sap.ui.define("sap/ui/unified/ColorPickerRenderer",[],function(){"use strict";var C={};C.render=function(r,c){r.write("<div");r.writeControlData(c);r.writeClasses();r.write(">");r.renderControl(c.getAggregation("_grid"));r.write("</div>");};return C;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.Currency')){jQuery.sap.declare('sap.ui.unified.Currency');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.core.format.NumberFormat');sap.ui.define("sap/ui/unified/Currency",['jquery.sap.global','sap/ui/core/Control','sap/ui/core/format/NumberFormat'],function(q,C,N){"use strict";var a=C.extend("sap.ui.unified.Currency",{metadata:{library:"sap.ui.unified",properties:{value:{type:"float",group:"Appearance",defaultValue:0},currency:{type:"string",group:"Appearance",defaultValue:null},maxPrecision:{type:"int",group:"Appearance",defaultValue:3},useSymbol:{type:"boolean",group:"Appearance",defaultValue:true}}}});a.FIGURE_SPACE='\u2007';a.PUNCTUATION_SPACE='\u2008';a.prototype.init=function(){this._oFormat=N.getCurrencyInstance({showMeasure:false});};a.prototype.exit=function(){this._oFormat=null;this._$Value=null;this._$Currency=null;this._sLastCurrency=null;this._iLastCurrencyDigits=null;this._bRenderNoValClass=null;};a.prototype.onAfterRendering=function(){if(this.$()){this._$Value=this.$().find(".sapUiUfdCurrencyValue");this._$Currency=this.$().find(".sapUiUfdCurrencyCurrency");}};a.prototype.setValue=function(v){if(this.isBound("value")){this._bRenderNoValClass=v==null;if(this.$()){this.$().toggleClass("sapUiUfdCurrencyNoVal",this._bRenderNoValClass);}}this.setProperty("value",v,true);this._renderValue();return this;};a.prototype.unbindProperty=function(p){C.prototype.unbindProperty.apply(this,arguments);if(p==="value"){this._bRenderNoValClass=false;if(this.$()){this.$().toggleClass("sapUiUfdCurrencyNoVal",false);}}};a.prototype.setCurrency=function(v){var c,r;this.setProperty("currency",v,true);this._renderCurrency();c=this._oFormat.oLocaleData.getCurrencyDigits(v);if(q.isNumeric(this._iLastCurrencyDigits)&&this._iLastCurrencyDigits!==c){r=true;}this._iLastCurrencyDigits=c;if(this._sLastCurrency==="*"||v==="*"){r=true;}this._sLastCurrency=v;if(r){this._renderValue();if(v==="*"&&this.$()){this._bRenderNoValClass=false;this.$().toggleClass("sapUiUfdCurrencyNoVal",false);}}return this;};a.prototype.setUseSymbol=function(v){this.setProperty("useSymbol",v,true);this._renderCurrency();return this;};a.prototype.setMaxPrecision=function(v){this.setProperty("maxPrecision",v,true);this._renderValue();return this;};a.prototype._renderValue=function(){if(this._$Value){this._$Value.text(this.getFormattedValue());}};a.prototype._renderCurrency=function(){if(this._$Currency){this._$Currency.text(this._getCurrency());}};a.prototype._getCurrency=function(){return this.getUseSymbol()?this.getCurrencySymbol():this.getCurrency();};a.prototype.getFormattedValue=function(){var c=this.getCurrency(),m,p,i,f;if(c==="*"){return"";}i=this._oFormat.oLocaleData.getCurrencyDigits(c);m=this.getMaxPrecision();m=(m<=0&&i>0?m-1:m);p=m-i;f=this._oFormat.format(this.getValue(),c);if(p==m&&m>0){f+=a.PUNCTUATION_SPACE;}if(p>0){f=q.sap.padRight(f,a.FIGURE_SPACE,f.length+p);}else if(p<0){f=f.substr(0,f.length+p);}return f;};a.prototype.getCurrencySymbol=function(){return this._oFormat.oLocaleData.getCurrencySymbol(this.getCurrency());};a.prototype.getAccessibilityInfo=function(){if(this._bRenderNoValClass){return{};}return{description:(this.getFormattedValue()||"")+" "+(this.getCurrency()||"").trim()};};return a;});};if(!jQuery.sap.isDeclared('sap.ui.unified.CurrencyRenderer')){jQuery.sap.declare('sap.ui.unified.CurrencyRenderer');sap.ui.define("sap/ui/unified/CurrencyRenderer",[],function(){"use strict";var C={};C.render=function(r,c){var t=c.getTooltip_AsString();r.write("<div");r.writeControlData(c);if(t){r.writeAttributeEscaped("title",t);}r.addClass("sapUiUfdCurrency");if(c._bRenderNoValClass){r.addClass("sapUiUfdCurrencyNoVal");}r.writeClasses();r.write(">");r.write("<div");r.addClass("sapUiUfdCurrencyAlign");r.writeClasses();r.write(">");r.write("<span");r.writeAttribute("dir","ltr");r.addClass("sapUiUfdCurrencyValue");r.writeClasses();r.write(">");r.writeEscaped(c.getFormattedValue());r.write("</span>");r.write("<span");r.addClass("sapUiUfdCurrencyCurrency");r.writeClasses();r.write(">");r.writeEscaped(c._getCurrency());r.write("</span>");r.write("</div>");r.write("</div>");};return C;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.MenuRenderer')){jQuery.sap.declare('sap.ui.unified.MenuRenderer');sap.ui.define("sap/ui/unified/MenuRenderer",[],function(){"use strict";var M={};M.render=function(r,m){if(m.oHoveredItem&&m.indexOfItem(m.oHoveredItem)<0){m.oHoveredItem=null;}r.write("<div tabindex=\"-1\" hideFocus=\"true\"");if(m.getTooltip_AsString()){r.writeAttributeEscaped("title",m.getTooltip_AsString());}var a=sap.ui.getCore().getConfiguration().getAccessibility();if(a){r.writeAccessibilityState(m,{role:"menu",disabled:null,labelledby:{value:m.getId()+"-label",append:true}});if(m.oHoveredItem){r.writeAttribute("aria-activedescendant",m.oHoveredItem.getId());}}r.addClass("sapUiMnu");var R=m.getRootMenu();if(R.bUseTopStyle){r.addClass("sapUiMnuTop");}if(R.isCozy()){r.addClass("sapUiSizeCozy");}if(m.bCozySupported){r.addClass("sapUiMnuCozySupport");}r.writeClasses();r.writeControlData(m);r.write(">");M.renderItems(r,m);if(a){r.write("<span id='",m.getId(),"-label' class='sapUiInvisibleText' aria-hidden='true'>");r.writeEscaped(m.getAriaDescription()?m.getAriaDescription():"");r.write("</span>");}r.write("</div>");};M.renderItems=function(r,m){var I=m.getItems();var a=sap.ui.getCore().getConfiguration().getAccessibility();r.write("<ul class=\"sapUiMnuLst");var h=false;var H=false;for(var b=0;b<I.length;b++){if(I[b].getIcon&&I[b].getIcon()){h=true;}if(I[b].getSubmenu()){H=true;}}if(!h){r.write(" sapUiMnuNoIco");}if(!H){r.write(" sapUiMnuNoSbMnu");}r.write("\">");var n=0;for(var i=0;i<I.length;i++){if(I[i].getVisible()&&I[i].render){n++;}}var c=0;for(var i=0;i<I.length;i++){var o=I[i];if(o.getVisible()&&o.render){c++;if(o.getStartsSection()){r.write("<li ");if(a){r.write("role=\"separator\" ");}r.write("class=\"sapUiMnuDiv\"><div class=\"sapUiMnuDivL\"></div><hr><div class=\"sapUiMnuDivR\"></div></li>");}o.render(r,o,m,{bAccessible:a,iItemNo:c,iTotalItems:n});}}r.write("</ul>");};return M;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.ShellLayoutRenderer')){jQuery.sap.declare('sap.ui.unified.ShellLayoutRenderer');sap.ui.define("sap/ui/unified/ShellLayoutRenderer",[],function(){"use strict";var S={};S.render=function(r,s){var i=s.getId();r.write("<div");r.writeControlData(s);r.addClass("sapUiUfdShell");if(s._animation){r.addClass("sapUiUfdShellAnim");}if(!s.getHeaderVisible()){r.addClass("sapUiUfdShellNoHead");}r.addClass("sapUiUfdShellHead"+(s._showHeader?"Visible":"Hidden"));if(s.getShowCurtain()){r.addClass("sapUiUfdShellCurtainVisible");}else{r.addClass("sapUiUfdShellCurtainHidden");r.addClass("sapUiUfdShellCurtainClosed");}r.writeClasses();r.write(">");r.write("<hr id='",i,"-brand' class='sapUiUfdShellBrand'/>");r.write("<header id='",i,"-hdr'  class='sapUiUfdShellHead'");if(sap.ui.getCore().getConfiguration().getAccessibility()){r.writeAttribute("role","banner");}r.write("><div><div id='",i,"-hdrcntnt' class='sapUiUfdShellCntnt'>");if(s.getHeader()){r.renderControl(s.getHeader());}r.write("</div>","</div>","</header>");r.write("<section id='",i,"-curt' class='sapUiUfdShellCntnt sapUiUfdShellCurtain'>");r.write("<div id='",i,"-curtcntnt' class='sapUiUfdShellCntnt'>");r.renderControl(s._curtCont);r.write("</div>");r.write("<span id='",i,"-curt-focusDummyOut' tabindex='0'></span>");r.write("</section>");r.write("<div id='",i,"-cntnt' class='sapUiUfdShellCntnt sapUiUfdShellCanvas sapUiGlobalBackgroundColor sapUiGlobalBackgroundColorForce'>");r.write("<div id='",i,"-strgbg' class='sapUiUfdShellBG"+(s._useStrongBG?" sapUiStrongBackgroundColor":"")+"'></div>");r.write("<div class='sapUiGlobalBackgroundImage sapUiGlobalBackgroundImageForce sapUiUfdShellBG'></div>");r.renderControl(s._cont);r.write("</div>");r.write("<span id='",i,"-main-focusDummyOut' tabindex='"+(s.getShowCurtain()?0:-1)+"'></span>");r.write("</div>");};return S;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.ShellOverlayRenderer')){jQuery.sap.declare('sap.ui.unified.ShellOverlayRenderer');sap.ui.define("sap/ui/unified/ShellOverlayRenderer",[],function(){"use strict";var S={};S.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUiUfdShellOvrly");if(c._opening){r.addClass("sapUiUfdShellOvrlyCntntHidden");r.addClass("sapUiUfdShellOvrlyOpening");}if(c._getAnimActive()){r.addClass("sapUiUfdShellOvrlyAnim");}r.writeClasses();if(sap.ui.getCore().getConfiguration().getAccessibility()){r.writeAccessibilityState(c,{role:"dialog"});}r.write("><span id='",c.getId(),"-focfirst' tabIndex='0'></span><div id='",c.getId(),"-inner'>");r.write("<header class='sapUiUfdShellOvrlyHead'>");r.write("<hr class='sapUiUfdShellOvrlyBrand'/>");r.write("<div class='sapUiUfdShellOvrlyHeadCntnt'");if(sap.ui.getCore().getConfiguration().getAccessibility()){r.writeAttribute("role","toolbar");}r.write("><div id='"+c.getId()+"-hdr-center' class='sapUiUfdShellOvrlyHeadCenter'>");S.renderSearch(r,c);r.write("</div>");var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),C=a.getText("SHELL_OVERLAY_CLOSE");r.write("<a tabindex='0' href='#' id='"+c.getId()+"-close' class='sapUiUfdShellOvrlyHeadClose'");r.writeAttributeEscaped("title",C);if(sap.ui.getCore().getConfiguration().getAccessibility()){r.writeAttribute("role","button");}r.write(">");r.writeEscaped(C);r.write("</a></div></header>");r.write("<div id='"+c.getId()+"-cntnt' class='sapUiUfdShellOvrlyCntnt'>");S.renderContent(r,c);r.write("</div>");r.write("</div><span id='",c.getId(),"-foclast' tabIndex='0'></span></div>");};S.renderSearch=function(r,c){var w=c._getSearchWidth();var s="";if(w>0&&c._opening){s="style='width:"+w+"px'";}r.write("<div id='"+c.getId()+"-search' class='sapUiUfdShellOvrlySearch' "+s+"><div>");var o=c.getSearch();if(o){r.renderControl(o);}r.write("</div></div>");};S.renderContent=function(r,c){r.write("<div>");var C=c.getContent();for(var i=0;i<C.length;i++){r.renderControl(C[i]);}r.write("</div>");};return S;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.ShellRenderer')){jQuery.sap.declare('sap.ui.unified.ShellRenderer');jQuery.sap.require('sap.ui.core.Renderer');sap.ui.define("sap/ui/unified/ShellRenderer",['sap/ui/core/Renderer','./ShellLayoutRenderer'],function(R,S){"use strict";var a=R.extend(S);return a;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.SplitContainerRenderer')){jQuery.sap.declare('sap.ui.unified.SplitContainerRenderer');jQuery.sap.require('sap.ui.core.library');sap.ui.define("sap/ui/unified/SplitContainerRenderer",["sap/ui/core/library"],function(c){"use strict";var O=c.Orientation;var S={};S.render=function(r,C){var i=C.getId();var v=C.getOrientation()==O.Vertical;r.write("<div");r.writeControlData(C);r.addClass("sapUiUfdSpltCont");r.addClass("sapUiUfdSpltCont"+(v?"V":"H"));if(sap.ui.getCore().getConfiguration().getAnimation()){r.addClass("sapUiUfdSpltContAnim");}if(!C.getShowSecondaryContent()){r.addClass("sapUiUfdSpltContPaneHidden");}r.writeClasses();r.write(">");var s=i+"-canvas";r.write("<section id='",s,"' class='sapUiUfdSpltContCanvas'>");this.renderContent(r,s,C.getContent(),C._bRootContent);r.write("</section>");var a=i+"-pane";var w=C.getShowSecondaryContent()?C.getSecondaryContentSize():"0";r.write("<aside id='",a,"' style='width:",w,"'");r.addClass("sapUiUfdSpltContPane");if(!C.getShowSecondaryContent()){r.addClass("sapUiUfdSplitContSecondClosed");}r.writeClasses();r.write(">");this.renderContent(r,a,C.getSecondaryContent(),C._bRootContent);r.write("</aside>");r.write("</div>");};S.renderContent=function(r,I,C,R){r.write("<div id='",I,"cntnt' class='sapUiUfdSpltContCntnt'");if(R){r.writeAttribute("data-sap-ui-root-content","true");}r.write(">");for(var i=0;i<C.length;i++){r.renderControl(C[i]);}r.write("</div>");};return S;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.CalendarDate')){jQuery.sap.declare('sap.ui.unified.calendar.CalendarDate');jQuery.sap.require('sap.ui.base.Object');jQuery.sap.require('sap.ui.core.date.UniversalDate');sap.ui.define("sap/ui/unified/calendar/CalendarDate",['sap/ui/base/Object','sap/ui/core/date/UniversalDate'],function(B,U){"use strict";var C=B.extend("sap.ui.unified.calendar.CalendarDate",{constructor:function(){var A=arguments,j,n,s;switch(A.length){case 0:n=new Date();return this.constructor(n.getFullYear(),n.getMonth(),n.getDate());case 1:case 2:if(!(A[0]instanceof C)){throw"Invalid arguments: the first argument must be of type sap.ui.unified.calendar.CalendarDate.";}s=A[1]?A[1]:A[0]._oUDate.sCalendarType;j=new Date(A[0].valueOf());j.setFullYear(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate());j.setHours(j.getUTCHours(),j.getUTCMinutes(),j.getUTCSeconds(),j.getUTCMilliseconds());this._oUDate=c(j,s);break;case 3:case 4:d(A[0],"Invalid year: "+A[0]);d(A[1],"Invalid month: "+A[1]);d(A[2],"Invalid date: "+A[2]);j=new Date(0,0,1);j.setFullYear(A[0],A[1],A[2]);if(A[3]){s=A[3];}this._oUDate=c(j,s);break;default:throw"Invalid arguments. Accepted arguments are: 1) oCalendarDate, (optional)calendarType"+"or 2) year, month, date, (optional) calendarType"+A;}}});C.prototype.getYear=function(){return this._oUDate.getUTCFullYear();};C.prototype.setYear=function(y){d(y,"Invalid year: "+y);this._oUDate.setUTCFullYear(y);return this;};C.prototype.getMonth=function(){return this._oUDate.getUTCMonth();};C.prototype.setMonth=function(m){d(m,"Invalid month: "+m);this._oUDate.setUTCMonth(m);return this;};C.prototype.getDate=function(){return this._oUDate.getUTCDate();};C.prototype.setDate=function(e){d(e,"Invalid date: "+e);this._oUDate.setUTCDate(e);return this;};C.prototype.getDay=function(){return this._oUDate.getUTCDay();};C.prototype.getCalendarType=function(){return this._oUDate.sCalendarType;};C.prototype.isBefore=function(o){b(o);return this.valueOf()<o.valueOf();};C.prototype.isAfter=function(o){b(o);return this.valueOf()>o.valueOf();};C.prototype.isSameOrBefore=function(o){b(o);return this.valueOf()<=o.valueOf();};C.prototype.isSameOrAfter=function(o){b(o);return this.valueOf()>=o.valueOf();};C.prototype.isSame=function(o){b(o);return this.valueOf()===o.valueOf();};C.prototype.toLocalJSDate=function(){var l=new Date(this._oUDate.getTime());l.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate());l.setHours(0,0,0,0);return l;};C.prototype.toUTCJSDate=function(){var u=new Date(this._oUDate.getTime());u.setUTCHours(0,0,0,0);return u;};C.prototype.toString=function(){return this._oUDate.sCalendarType+": "+this.getYear()+"/"+(this.getMonth()+1)+"/"+this.getDate();};C.prototype.valueOf=function(){return this._oUDate.getTime();};C.fromLocalJSDate=function(j,s){if(jQuery.type(j)!=="date"){throw new Error("Date parameter must be a JavaScript Date object: ["+j+"].");}return new C(j.getFullYear(),j.getMonth(),j.getDate(),s);};function c(D,s){if(s){return U.getInstance(a(D),s);}else{return new U(a(D).getTime());}}function a(D){var u=new Date(Date.UTC(0,0,1));u.setUTCFullYear(D.getFullYear(),D.getMonth(),D.getDate());return u;}function b(o){if(!(o instanceof C)){throw"Invalid calendar date: ["+o+"]. Expected: sap.ui.unified.calendar.CalendarDate";}}function d(v,m){if(v==undefined||v===Infinity||isNaN(v)){throw m;}}return C;});};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.CalendarUtils')){jQuery.sap.declare('sap.ui.unified.calendar.CalendarUtils');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.date.UniversalDate');jQuery.sap.require('sap.ui.core.Locale');jQuery.sap.require('sap.ui.core.LocaleData');sap.ui.define("sap/ui/unified/calendar/CalendarUtils",['jquery.sap.global','sap/ui/core/date/UniversalDate','./CalendarDate','sap/ui/core/Locale','sap/ui/core/LocaleData'],function(q,U,C,L,a){"use strict";var b={};b.MAX_MILLISECONDS=8640000000000000;b.HOURS24=1000*3600*24;b._createLocalDate=function(d,t){var l;if(d){var m;if(d instanceof U){m=d.getJSDate();}else{m=d;}l=new Date(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate());if(m.getFullYear()<1000){l.setFullYear(m.getFullYear());}if(t){l.setHours(m.getUTCHours());l.setMinutes(m.getUTCMinutes());l.setSeconds(m.getUTCSeconds());l.setMilliseconds(m.getUTCMilliseconds());}}return l;};b._createUTCDate=function(d,t){var u;if(d){var m;if(d instanceof U){m=d.getJSDate();}else{m=d;}u=new Date(Date.UTC(m.getFullYear(),m.getMonth(),m.getDate()));if(m.getFullYear()<1000){u.setUTCFullYear(m.getFullYear());}if(t){u.setUTCHours(m.getHours());u.setUTCMinutes(m.getMinutes());u.setUTCSeconds(m.getSeconds());u.setUTCMilliseconds(m.getMilliseconds());}}return u;};b._createUniversalUTCDate=function(d,c,t){var u;if(c){u=U.getInstance(this._createUTCDate(d,t),c);}else{u=new U(this._createUTCDate(d,t).getTime());}return u;};b.calculateWeekNumber=function(d,y,l,o){var w=0;var W=0;var f=o.getFirstDayOfWeek();var c=new L(l);if(c&&(c.getLanguage()=='en'&&c.getRegion()=='US')){var j=new U(d.getTime());j.setUTCFullYear(y,0,1);W=j.getUTCDay();var e=new U(d.getTime());e.setUTCDate(e.getUTCDate()-e.getUTCDay()+W);w=Math.round((e.getTime()-j.getTime())/86400000/7)+1;}else{var t=new U(d.getTime());t.setUTCDate(t.getUTCDate()-f);W=t.getUTCDay();t.setUTCDate(t.getUTCDate()-W+4);var F=new U(t.getTime());F.setUTCMonth(0,1);W=F.getUTCDay();var A=0;if(W>4){A=7;}var g=new U(F.getTime());g.setUTCDate(1-W+4+A);w=Math.round((t.getTime()-g.getTime())/86400000/7)+1;}return w;};b.getFirstDateOfWeek=function(d){var u=new U(d.getTime()),f,F,l=a.getInstance(sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale()),c=l.getFirstDayOfWeek(),w;w=U.getWeekByDate(u.getCalendarType(),u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate());f=U.getFirstDateOfWeek(u.getCalendarType(),w.year,w.week);F=new U(Date.UTC(f.year,f.month,f.day));while(F.getUTCDay()!==c){F.setUTCDate(F.getUTCDate()-1);}return new U(Date.UTC(F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds())).getJSDate();};b.getFirstDateOfMonth=function(d){var n=new U(d.getTime());n.setUTCDate(1);return n;};b._getNumberOfWeeksForYear=function(y){var l=sap.ui.getCore().getConfiguration().getFormatLocale(),o=a.getInstance(new L(l)),c=new Date(Date.UTC(y,0,1)),i=c.getUTCDay(),n=52;if(o.getFirstDayOfWeek()===0){if(i===5||i===6){n=53;}}else{if(i===3||i===4){n=53;}}return n;};b.monthsDiffer=function(d,D){return(d.getMonth()!==D.getMonth()||d.getFullYear()!==D.getFullYear());};b.isDateLastInMonth=function(d){var n=new Date(d.getTime()+24*60*60*1000);return n.getUTCDate()<d.getUTCDate();};b._updateUTCDate=function(d,y,m,D,h,M,s,i){if(q.isNumeric(y)){d.setUTCFullYear(y);}if(q.isNumeric(m)){d.setUTCMonth(m);}if(q.isNumeric(D)){d.setUTCDate(D);}if(q.isNumeric(h)){d.setUTCHours(h);}if(q.isNumeric(M)){d.setUTCMinutes(M);}if(q.isNumeric(s)){d.setUTCSeconds(s);}if(q.isNumeric(i)){d.setUTCMilliseconds(i);}};b._checkJSDateObject=function(d){if(q.type(d)!=="date"){throw new Error("Date must be a JavaScript date object.");}};b._checkYearInValidRange=function(y){if(!q.isNumeric(y)||(y<1||y>9999)){throw new Error("Year must be in valid range (between year 0001 and year 9999).");}};b._isNextMonth=function(d,D){return(d.getMonth()>D.getMonth()&&d.getFullYear()===D.getFullYear())||d.getFullYear()>D.getFullYear();};b._daysInMonth=function(c){this._checkCalendarDate(c);c=new C(c);c.setDate(1);c.setMonth(c.getMonth()+1);c.setDate(0);return c.getDate();};b._isLastDateInMonth=function(c){return c.getDate()===b._daysInMonth(c);};b._getFirstDateOfWeek=function(c){this._checkCalendarDate(c);var j=b.getFirstDateOfWeek(c.toUTCJSDate());j.setFullYear(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate());return C.fromLocalJSDate(j,c.getCalendarType());};b._getFirstDateOfMonth=function(c){this._checkCalendarDate(c);var j=b.getFirstDateOfMonth(c.toUTCJSDate()).getJSDate();j.setFullYear(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate());return C.fromLocalJSDate(j,c.getCalendarType());};b._minDate=function(c){return new C(1,0,1,c);};b._maxDate=function(c){var o=new C(9999,11,1,c);o.setDate(this._daysInMonth(o));return new C(o);};b._isBetween=function(d,s,e,i){this._checkCalendarDate(d);this._checkCalendarDate(s);this._checkCalendarDate(e);if(i){return d.isSameOrAfter(s)&&d.isSameOrBefore(e);}else{return d.isAfter(s)&&d.isBefore(e);}};b._daysBetween=function(f,s){this._checkCalendarDate(f);this._checkCalendarDate(s);return Math.ceil((f.valueOf()-s.valueOf())/(this.HOURS24));};b._isOutside=function(c,s,e){return!this._isBetween(c,s,e,true);};b._isSameMonthAndYear=function(c,o){this._checkCalendarDate(c);this._checkCalendarDate(o);return c.getYear()===o.getYear()&&c.getMonth()===o.getMonth();};b._checkCalendarDate=function(c){if(!c||!(c instanceof C)){throw"Invalid calendar date: ["+c+"]. Expected: sap.ui.unified.calendar.CalendarDate";}};b._getWeek=function(c){this._checkCalendarDate(c);return U.getWeekByDate(c.getCalendarType(),c.getYear(),c.getMonth(),c.getDate());};return b;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.HeaderRenderer')){jQuery.sap.declare('sap.ui.unified.calendar.HeaderRenderer');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/ui/unified/calendar/HeaderRenderer",['jquery.sap.global'],function(q){"use strict";var H={};H.render=function(r,h){var l=sap.ui.getCore().getConfiguration().getLocale().getLanguage();var t=h.getTooltip_AsString();var I=h.getId();var a={};var L=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("CALENDAR_BTN_NEXT");var s=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("CALENDAR_BTN_PREV");r.write("<div");r.writeControlData(h);r.addClass("sapUiCalHead");r.writeClasses();if(t){r.writeAttributeEscaped('title',t);}r.writeAccessibilityState(h);r.write(">");r.write("<button");r.writeAttributeEscaped('id',I+'-prev');r.writeAttributeEscaped("title",s);r.writeAccessibilityState(null,{label:s});r.addClass("sapUiCalHeadPrev");if(!h.getEnabledPrevious()){r.addClass("sapUiCalDsbl");r.writeAttribute('disabled',"disabled");}r.writeAttribute('tabindex',"-1");r.writeClasses();r.write(">");r.writeIcon("sap-icon://slim-arrow-left",null,{title:null});r.write("</button>");var f=-1;var b=-1;var i=0;var B;for(i=0;i<3;i++){if(h["getVisibleButton"+i]()){if(f<0){f=i;}b=i;}}for(i=0;i<3;i++){if(l.toLowerCase()==="ja"||l.toLowerCase()==="zh"){B=2-i;}else{B=i;}this.renderCalendarButtons(r,h,I,f,b,a,B);}r.write("<button");r.writeAttributeEscaped('id',I+'-next');r.writeAttributeEscaped("title",L);r.writeAccessibilityState(null,{label:L});r.addClass("sapUiCalHeadNext");if(!h.getEnabledNext()){r.addClass("sapUiCalDsbl");r.writeAttribute('disabled',"disabled");}r.writeAttribute('tabindex',"-1");r.writeClasses();r.write(">");r.writeIcon("sap-icon://slim-arrow-right",null,{title:null});r.write("</button>");r.write("</div>");};H.renderCalendarButtons=function(r,h,I,f,l,a,i){if(h["getVisibleButton"+i]()){r.write("<button");r.writeAttributeEscaped('id',I+'-B'+i);r.addClass("sapUiCalHeadB");r.addClass("sapUiCalHeadB"+i);if(f==i){r.addClass("sapUiCalHeadBFirst");}if(l==i){r.addClass("sapUiCalHeadBLast");}r.writeAttribute('tabindex',"-1");r.writeClasses();if(h["getAriaLabelButton"+i]()){a["label"]=q.sap.encodeHTML(h["getAriaLabelButton"+i]());}r.writeAccessibilityState(null,a);a={};r.write(">");var t=h["getTextButton"+i]()||"";var A=h["getAdditionalTextButton"+i]()||"";if(A){r.write("<span");r.writeAttributeEscaped('id',I+'-B'+i+"-Text");r.addClass("sapUiCalHeadBText");r.writeClasses();r.write(">");r.writeEscaped(t);r.write("</span>");r.write("<span");r.writeAttributeEscaped('id',I+'-B'+i+"-AddText");r.addClass("sapUiCalHeadBAddText");r.writeClasses();r.write(">");r.writeEscaped(A);r.write("</span>");}else{r.writeEscaped(t);}r.write("</button>");}};return H;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.MonthPickerRenderer')){jQuery.sap.declare('sap.ui.unified.calendar.MonthPickerRenderer');sap.ui.define("sap/ui/unified/calendar/MonthPickerRenderer",[],function(){"use strict";var M={};M.render=function(r,m){var a=m.getMonth();var b=m.getMonths();var s=0;var c=m.getColumns();var t=m.getTooltip_AsString();var l=m._getLocaleData();var I=m.getId();var w="";var d=[];var e=[];var C=m.getPrimaryCalendarType();if(m._bLongMonth||!m._bNamesLengthChecked){d=l.getMonthsStandAlone("wide",C);}else{d=l.getMonthsStandAlone("abbreviated",C);e=l.getMonthsStandAlone("wide",C);}r.write("<div");r.writeControlData(m);r.addClass("sapUiCalMonthPicker");r.writeClasses();if(t){r.writeAttributeEscaped('title',t);}r.writeAccessibilityState(m,{role:"grid",readonly:"true",multiselectable:"false"});r.write(">");var A;if(b>12){b=12;}else if(b<12){s=Math.floor(a/b)*b;if(s+b>12){s=12-b;}}if(c>0){w=(100/c)+"%";}else{w=(100/b)+"%";}for(var i=0;i<b;i++){var f=i+s;A={role:"gridcell"};if(!m._bLongMonth&&m._bNamesLengthChecked){A["label"]=e[f];}if(c>0&&i%c==0){r.write("<div");r.writeAccessibilityState(null,{role:"row"});r.write(">");}r.write("<div");r.writeAttribute("id",I+"-m"+(f));r.addClass("sapUiCalItem");if(f==a){r.addClass("sapUiCalItemSel");A["selected"]=true;}else{A["selected"]=false;}if(f<m._iMinMonth||f>m._iMaxMonth){r.addClass("sapUiCalItemDsbl");A["disabled"]=true;}r.writeAttribute("tabindex","-1");r.addStyle("width",w);r.writeClasses();r.writeStyles();r.writeAccessibilityState(null,A);r.write(">");r.write(d[f]);r.write("</div>");if(c>0&&((i+1)%c==0)){r.write("</div>");}}r.write("</div>");};return M;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.YearPickerRenderer')){jQuery.sap.declare('sap.ui.unified.calendar.YearPickerRenderer');jQuery.sap.require('sap.ui.core.date.UniversalDate');sap.ui.define("sap/ui/unified/calendar/YearPickerRenderer",['sap/ui/unified/calendar/CalendarDate','sap/ui/core/date/UniversalDate'],function(C,U){"use strict";var Y={};Y.render=function(r,y){var t=y.getTooltip_AsString();var I=y.getId();var c=y._getDate();var a=c.getYear();var b=y.getYears();var d=y.getColumns();var w="";r.write("<div");r.writeControlData(y);r.addClass("sapUiCalYearPicker");r.writeClasses();if(t){r.writeAttributeEscaped('title',t);}r.writeAccessibilityState(y,{role:"grid",readonly:"true",multiselectable:"false"});r.write(">");var D=new C(c,y.getPrimaryCalendarType());D.setYear(D.getYear()-Math.floor(b/2));var e=false;var f=y._checkFirstDate(D);if(!f.isSame(D)){D=f;e=true;}if(d>0){w=(100/d)+"%";}else{w=(100/b)+"%";}for(var i=0;i<b;i++){var s=y._oFormatYyyymmdd.format(D.toUTCJSDate(),true);var A={role:"gridcell"};var E=true;if(e){E=y._checkDateEnabled(D);}if(d>0&&i%d==0){r.write("<div");r.writeAccessibilityState(null,{role:"row"});r.write(">");}r.write("<div");r.writeAttribute("id",I+"-y"+s);r.addClass("sapUiCalItem");if(D.getYear()==a){r.addClass("sapUiCalItemSel");A["selected"]=true;}else{A["selected"]=false;}if(!E){r.addClass("sapUiCalItemDsbl");A["disabled"]=true;}r.writeAttribute("tabindex","-1");r.writeAttribute("data-sap-year-start",s);r.addStyle("width",w);r.writeClasses();r.writeStyles();r.writeAccessibilityState(null,A);r.write(">");r.write(y._oYearFormat.format(U.getInstance(D.toUTCJSDate(),D.getCalendarType()),true));r.write("</div>");D.setYear(D.getYear()+1);if(d>0&&((i+1)%d==0)){r.write("</div>");}}r.write("</div>");};return Y;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.library')){jQuery.sap.declare('sap.ui.unified.library');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Core');jQuery.sap.require('sap.ui.base.Object');jQuery.sap.require('jquery.sap.dom');jQuery.sap.require('jquery.sap.script');sap.ui.define("sap/ui/unified/library",['jquery.sap.global','sap/ui/core/Core','sap/ui/base/Object','jquery.sap.dom','jquery.sap.script'],function(q,C,B){"use strict";sap.ui.getCore().initLibrary({name:"sap.ui.unified",version:"1.52.9",dependencies:["sap.ui.core"],types:["sap.ui.unified.CalendarDayType","sap.ui.unified.GroupAppointmentsMode","sap.ui.unified.ContentSwitcherAnimation","sap.ui.unified.ColorPickerMode"],interfaces:["sap.ui.unified.IProcessableBlobs"],controls:["sap.ui.unified.calendar.DatesRow","sap.ui.unified.calendar.Header","sap.ui.unified.calendar.Month","sap.ui.unified.calendar.MonthPicker","sap.ui.unified.calendar.MonthsRow","sap.ui.unified.calendar.TimesRow","sap.ui.unified.calendar.YearPicker","sap.ui.unified.Calendar","sap.ui.unified.CalendarDateInterval","sap.ui.unified.CalendarWeekInterval","sap.ui.unified.CalendarMonthInterval","sap.ui.unified.CalendarTimeInterval","sap.ui.unified.CalendarLegend","sap.ui.unified.CalendarRow","sap.ui.unified.ContentSwitcher","sap.ui.unified.ColorPicker","sap.ui.unified.Currency","sap.ui.unified.FileUploader","sap.ui.unified.Menu","sap.ui.unified.Shell","sap.ui.unified.ShellLayout","sap.ui.unified.ShellOverlay","sap.ui.unified.SplitContainer"],elements:["sap.ui.unified.CalendarAppointment","sap.ui.unified.CalendarLegendItem","sap.ui.unified.DateRange","sap.ui.unified.DateTypeRange","sap.ui.unified.FileUploaderParameter","sap.ui.unified.FileUploaderXHRSettings","sap.ui.unified.MenuItem","sap.ui.unified.MenuItemBase","sap.ui.unified.MenuTextFieldItem","sap.ui.unified.ShellHeadItem","sap.ui.unified.ShellHeadUserItem"]});var t=sap.ui.unified;t.CalendarDayType={None:"None",NonWorking:"NonWorking",Type01:"Type01",Type02:"Type02",Type03:"Type03",Type04:"Type04",Type05:"Type05",Type06:"Type06",Type07:"Type07",Type08:"Type08",Type09:"Type09",Type10:"Type10",Type11:"Type11",Type12:"Type12",Type13:"Type13",Type14:"Type14",Type15:"Type15",Type16:"Type16",Type17:"Type17",Type18:"Type18",Type19:"Type19",Type20:"Type20"};t.StandardCalendarLegendItem={Today:"Today",WorkingDay:"WorkingDay",NonWorkingDay:"NonWorkingDay",Selected:"Selected"};t.CalendarIntervalType={Hour:"Hour",Day:"Day",Month:"Month",Week:"Week",OneMonth:"One Month"};t.GroupAppointmentsMode={Collapsed:"Collapsed",Expanded:"Expanded"};t.CalendarAppointmentVisualization={Standard:"Standard",Filled:"Filled"};t.ContentSwitcherAnimation={None:"None",Fade:"Fade",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",Rotate:"Rotate",SlideRight:"SlideRight",SlideOver:"SlideOver"};t.ColorPickerMode={HSV:"HSV",HSL:"HSL"};t._ContentRenderer=B.extend("sap.ui.unified._ContentRenderer",{constructor:function(c,s,o,a){B.apply(this);this._id=s;this._cntnt=o;this._ctrl=c;this._rm=sap.ui.getCore().createRenderManager();this._cb=a||function(){};},destroy:function(){this._rm.destroy();delete this._rm;delete this._id;delete this._cntnt;delete this._cb;delete this._ctrl;if(this._rerenderTimer){q.sap.clearDelayedCall(this._rerenderTimer);delete this._rerenderTimer;}B.prototype.destroy.apply(this,arguments);},render:function(){if(!this._rm){return;}if(this._rerenderTimer){q.sap.clearDelayedCall(this._rerenderTimer);}this._rerenderTimer=q.sap.delayedCall(0,this,function(){var $=q.sap.byId(this._id);var d=$.length>0;if(d){if(typeof(this._cntnt)==="string"){var c=this._ctrl.getAggregation(this._cntnt,[]);for(var i=0;i<c.length;i++){this._rm.renderControl(c[i]);}}else{this._cntnt(this._rm);}this._rm.flush($[0]);}this._cb(d);});}});t._iNumberOfOpenedShellOverlays=0;if(!t.ColorPickerHelper){t.ColorPickerHelper={isResponsive:function(){return false;},factory:{createLabel:function(){throw new Error("no Label control available");},createInput:function(){throw new Error("no Input control available");},createSlider:function(){throw new Error("no Slider control available");},createRadioButtonGroup:function(){throw new Error("no RadioButtonGroup control available");},createRadioButtonItem:function(){throw new Error("no RadioButtonItem control available");}},bFinal:false};}if(!t.FileUploaderHelper){t.FileUploaderHelper={createTextField:function(i){throw new Error("no TextField control available!");},setTextFieldContent:function(T,w){throw new Error("no TextField control available!");},createButton:function(){throw new Error("no Button control available!");},addFormClass:function(){return null;},bFinal:false};}t.calendar=t.calendar||{};return t;});};if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarDateIntervalRenderer')){jQuery.sap.declare('sap.ui.unified.CalendarDateIntervalRenderer');jQuery.sap.require('sap.ui.core.Renderer');sap.ui.define("sap/ui/unified/CalendarDateIntervalRenderer",['sap/ui/core/Renderer','./CalendarRenderer'],function(R,C){"use strict";var a=R.extend(C);a.renderCalContentOverlay=function(){};a.renderCalContentAndArrowsOverlay=function(r,c,i){if(c.getPickerPopup()){r.write("<div id=\""+i+"-contentOver\" class=\"sapUiCalContentOver\" style=\"display:none;\"></div>");}};a.addAttributes=function(r,c){r.addClass("sapUiCalInt");r.addClass("sapUiCalDateInt");var d=c._getDays();if(d>c._getDaysLarge()){r.addClass("sapUiCalIntLarge");}if(d>c._iDaysMonthHead){r.addClass("sapUiCalIntHead");}};return a;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarLegend')){jQuery.sap.declare('sap.ui.unified.CalendarLegend');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.InvisibleText');sap.ui.define("sap/ui/unified/CalendarLegend",['jquery.sap.global','sap/ui/core/Control','./library','sap/ui/Device','sap/ui/core/InvisibleText'],function(q,C,l,D,I){"use strict";var a=l.CalendarDayType;var S=l.StandardCalendarLegendItem;var b=C.extend("sap.ui.unified.CalendarLegend",{metadata:{library:"sap.ui.unified",properties:{columnWidth:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'120px'}},aggregations:{items:{type:"sap.ui.unified.CalendarLegendItem",multiple:true,singularName:"item"},_standardItems:{type:"sap.ui.unified.CalendarLegendItem",multiple:true,visibility:"hidden"}}}});b.prototype.init=function(){this._addStandardItems(b._All_Standard_Items);};b.prototype.onAfterRendering=function(){if(D.browser.msie){if(D.browser.version<10){q(".sapUiUnifiedLegendItem").css("width",this.getColumnWidth()+4+"px").css("display","inline-block");}}};b.prototype._addStandardItems=function(s,r){var i,c=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),d=this.getId();if(r){this.destroyAggregation("_standardItems");}for(i=0;i<s.length;i++){var o=new sap.ui.unified.CalendarLegendItem(d+"-"+s[i],{text:c.getText(b._Standard_Items_TextKeys[s[i]])});this.addAggregation("_standardItems",o);}};b._All_Standard_Items=[S.Today,S.Selected,S.WorkingDay,S.NonWorkingDay];b._Standard_Items_TextKeys={"Today":"LEGEND_TODAY","Selected":"LEGEND_SELECTED","WorkingDay":"LEGEND_NORMAL_DAY","NonWorkingDay":"LEGEND_NON_WORKING_DAY"};b.prototype._getItemType=function(i,c){var t=i.getType(),n,f;if(t&&t!==a.None){return t;}f=this._getUnusedItemTypes(c);n=c.filter(function(d){return!d.getType()||d.getType()===a.None;}).indexOf(i);if(n<0){q.sap.log.error('Legend item is not in the legend',this);return t;}if(f[n]){t=f[n];}else{t="Type"+(Object.keys(a).length+n-f.length-1);}return t;};b.prototype._getItemByType=function(t){var o,c=this.getItems(),i;for(i=0;i<c.length;i++){if(this._getItemType(c[i],c)===t){o=c[i];break;}}return o;};b.prototype._getUnusedItemTypes=function(c){var f=q.extend({},a),t,i;delete f[a.None];delete f[a.NonWorking];for(i=0;i<c.length;i++){t=c[i].getType();if(f[t]){delete f[t];}}return Object.keys(f);};b.typeARIATexts={};b.getTypeAriaText=function(t){var r,T;if(t.indexOf("Type")!==0){return;}if(!b.typeARIATexts[t]){r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");T=r.getText("LEGEND_UNNAMED_TYPE",parseInt(t.slice(4),10).toString());b.typeARIATexts[t]=new I({text:T});b.typeARIATexts[t].toStatic();}return b.typeARIATexts[t];};return b;});};if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarLegendItem')){jQuery.sap.declare('sap.ui.unified.CalendarLegendItem');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/ui/unified/CalendarLegendItem",['sap/ui/core/Element','./library'],function(E,l){"use strict";var C=l.CalendarDayType;var a=E.extend("sap.ui.unified.CalendarLegendItem",{metadata:{library:"sap.ui.unified",properties:{text:{type:"string",group:"Misc",defaultValue:null},type:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:C.None},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}}}});return a;});};if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarLegendRenderer')){jQuery.sap.declare('sap.ui.unified.CalendarLegendRenderer');sap.ui.define("sap/ui/unified/CalendarLegendRenderer",['sap/ui/unified/CalendarLegend'],function(C){"use strict";var a={};a.render=function(r,l){var s=l.getAggregation("_standardItems"),c=l.getItems(),i,I,b;r.write("<div");r.writeControlData(l);r.addClass("sapUiUnifiedLegend");r.writeClasses();r.write(">");this.renderItemsHeader(r,l);if(s||c){r.write("<div");r.addClass("sapUiUnifiedLegendItems");r.writeClasses();b=l.getColumnWidth();r.writeAttribute("style","column-width:"+b+";-moz-column-width:"+b+";-webkit-column-width:"+b+";");r.writeStyles();r.write(">");if(s){I=l.getId().length+1;for(i=0;i<s.length;++i){var d="sapUiUnifiedLegend"+s[i].getId().slice(I);this.renderLegendItem(r,d,s[i],["sapUiUnifiedLegendSquareColor"]);}}if(c){for(i=0;i<c.length;i++){this.renderLegendItem(r,"sapUiCalLegDayType"+l._getItemType(c[i],c).slice(4),c[i],["sapUiUnifiedLegendSquareColor"]);}}r.write("</div>");}this.renderAdditionalContent(r,l);r.write("</div>");};a.renderLegendItem=function(r,c,i,b){var t=i.getText();var T=i.getTooltip_AsString();r.write("<div");r.writeElementData(i);if(T){r.writeAttributeEscaped('title',T);}r.addClass("sapUiUnifiedLegendItem");r.addClass(c);r.writeClasses();r.write(">");r.write("<div");r.addClass("sapUiUnifiedLegendSquare");r.writeClasses();r.write(">");this.renderColor(r,i.getColor(),b);r.write("</div>");r.write("<div");r.writeAttribute("id",i.getId()+"-Text");r.addClass("sapUiUnifiedLegendDescription");r.writeClasses();r.write(">");r.writeEscaped(t);r.write("</div></div>");};a.renderItemsHeader=function(r,l){};a.renderAdditionalContent=function(r,l){};a.renderColor=function(r,c,b){r.write("<div");for(var i=0;i<b.length;i++){r.addClass(b[i]);}if(c){r.addStyle("background-color",c);r.writeStyles();}r.writeClasses();r.write("></div>");};a.addCalendarTypeAccInfo=function(A,t,l){var T,s;if(l){var L=l._getItemByType(t);if(L){T=L.getText();}}if(T){A["label"]=A["label"]?A["label"]+"; "+T:T;}else{s=C.getTypeAriaText(t);if(s){A["describedby"]=A["describedby"]?A["describedby"]+" "+s.getId():s.getId();}}};return a;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarRow')){jQuery.sap.declare('sap.ui.unified.CalendarRow');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.LocaleData');jQuery.sap.require('sap.ui.core.date.UniversalDate');jQuery.sap.require('sap.ui.core.InvisibleText');jQuery.sap.require('sap.ui.core.format.DateFormat');jQuery.sap.require('sap.ui.core.ResizeHandler');jQuery.sap.require('sap.ui.core.Locale');sap.ui.define("sap/ui/unified/CalendarRow",['jquery.sap.global','sap/ui/core/Control','sap/ui/Device','sap/ui/core/LocaleData','sap/ui/unified/calendar/CalendarUtils','sap/ui/core/date/UniversalDate','./library','sap/ui/core/InvisibleText','sap/ui/core/format/DateFormat','sap/ui/core/ResizeHandler','sap/ui/core/Locale'],function(q,C,D,L,a,U,l,I,b,R,c){"use strict";var d=l.CalendarDayType;var e=l.CalendarAppointmentVisualization;var G=l.GroupAppointmentsMode;var f=l.CalendarIntervalType;var g=C.extend("sap.ui.unified.CalendarRow",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},intervals:{type:"int",group:"Appearance",defaultValue:12},intervalType:{type:"sap.ui.unified.CalendarIntervalType",group:"Appearance",defaultValue:f.Hour},showSubIntervals:{type:"boolean",group:"Appearance",defaultValue:false},showIntervalHeaders:{type:"boolean",group:"Appearance",defaultValue:true},showEmptyIntervalHeaders:{type:"boolean",group:"Appearance",defaultValue:true},nonWorkingDays:{type:"int[]",group:"Misc",defaultValue:null},nonWorkingHours:{type:"int[]",group:"Misc",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},checkResize:{type:"boolean",group:"Behavior",defaultValue:true},updateCurrentTime:{type:"boolean",group:"Behavior",defaultValue:true},groupAppointmentsMode:{type:"sap.ui.unified.GroupAppointmentsMode",group:"Appearance",defaultValue:G.Collapsed},appointmentsReducedHeight:{type:"boolean",group:"Appearance",defaultValue:false},appointmentsVisualization:{type:"sap.ui.unified.CalendarAppointmentVisualization",group:"Appearance",defaultValue:e.Standard}},aggregations:{appointments:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"appointment"},intervalHeaders:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"intervalHeader"},groupAppointments:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"groupAppointment",visibility:"hidden"},_nonWorkingDates:{type:"sap.ui.unified.DateRange",multiple:true,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{parameters:{appointment:{type:"sap.ui.unified.CalendarAppointment"},appointments:{type:"sap.ui.unified.CalendarAppointment[]"},multiSelect:{type:"boolean"},domRefId:{type:"string"}}},startDateChange:{},leaveRow:{parameters:{type:{type:"string"}}},intervalSelect:{parameters:{startDate:{type:"object"},endDate:{type:"object"},subInterval:{type:"boolean"}}}}}});g.PCROW_FOREIGN_KEY_NAME="relatedToPCRowDateRange";g.AGGR_NONWORKING_DATES_NAME="_nonWorkingDates";g.prototype.init=function(){this._bRTL=sap.ui.getCore().getConfiguration().getRTL();this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");if(!g._oStaticAppointmentText){g._oStaticAppointmentText=new I({text:this._oRb.getText("APPOINTMENT")});g._oStaticAppointmentText.toStatic();g._oStaticTentativeText=new I({text:this._oRb.getText("APPOINTMENT_TENTATIVE")});g._oStaticTentativeText.toStatic();}if(!g._oStaticSelectedText){g._oStaticSelectedText=new I({text:this._oRb.getText("APPOINTMENT_SELECTED")});g._oStaticSelectedText.toStatic();}this._oFormatAria=b.getDateTimeInstance({pattern:"EEEE dd/MM/YYYY 'at' HH:mm:ss a"});this._iHoursMinDelta=1;this._iDaysMinDelta=30;this._iMonthsMinDelta=720;this._aVisibleAppointments=[];this._aVisibleIntervalHeaders=[];this.setStartDate(new Date());this._resizeProxy=q.proxy(this.handleResize,this);};g.prototype.exit=function(){if(this._sResizeListener){R.deregister(this._sResizeListener);this._sResizeListener=undefined;}if(this._sUpdateCurrentTime){q.sap.clearDelayedCall(this._sUpdateCurrentTime);this._sUpdateCurrentTime=undefined;}};g.prototype.onBeforeRendering=function(){m.call(this);p.call(this);u.call(this);if(this._sUpdateCurrentTime){q.sap.clearDelayedCall(this._sUpdateCurrentTime);this._sUpdateCurrentTime=undefined;}};g.prototype.onAfterRendering=function(){v.call(this);this.updateCurrentTimeVisualization();if(this.getCheckResize()&&!this._sResizeListener){this._sResizeListener=R.register(this,this._resizeProxy);}};g.prototype.onThemeChanged=function(j){if(this.getDomRef()){for(var i=0;i<this._aVisibleAppointments.length;i++){var k=this._aVisibleAppointments[i];k.level=-1;}this.handleResize(j);}};g.prototype.invalidate=function(O){if(O&&O instanceof sap.ui.unified.CalendarAppointment){var F=false;for(var i=0;i<this._aVisibleAppointments.length;i++){if(this._aVisibleAppointments[i].appointment==O){F=true;break;}}if(F){this._aVisibleAppointments=[];}}C.prototype.invalidate.apply(this,arguments);};g.prototype.setStartDate=function(S){if(!S){S=new Date();}a._checkJSDateObject(S);var Y=S.getFullYear();a._checkYearInValidRange(Y);this.setProperty("startDate",S);return this;};g.prototype._getStartDate=function(){if(!this._oUTCStartDate){this._oUTCStartDate=a._createUniversalUTCDate(this.getStartDate(),undefined,true);}return this._oUTCStartDate;};g.prototype.setIntervalType=function(i){this.setProperty("intervalType",i);this._aVisibleAppointments=[];return this;};g.prototype.setGroupAppointmentsMode=function(i){this.setProperty("groupAppointmentsMode",i);this._aVisibleAppointments=[];return this;};g.prototype.setAppointmentsReducedHeight=function(i){this.setProperty("appointmentsReducedHeight",i);this._aVisibleAppointments=[];return this;};g.prototype._getAppointmentReducedHeight=function(i){var j=false;if(!D.system.phone&&this.getAppointmentsReducedHeight()&&!i.getText()){j=true;}return j;};g.prototype.onfocusin=function(j){if(q(j.target).hasClass("sapUiCalendarApp")){z.call(this,j.target.id);}else{var V=this._getVisibleAppointments();var F=false;var k;for(var i=0;i<V.length;i++){k=V[i].appointment;if(q.sap.containsOrEquals(k.getDomRef(),j.target)){F=true;k.focus();break;}}if(!F){k=this.getFocusedAppointment();if(k){k.focus();}}}};g.prototype.applyFocusInfo=function(F){if(this._sFocusedAppointmentId){this.getFocusedAppointment().focus();}return this;};g.prototype.onsapleft=function(i){if(q(i.target).hasClass("sapUiCalendarApp")){A.call(this,this._bRTL,1);}i.preventDefault();i.stopPropagation();};g.prototype.onsapright=function(i){if(q(i.target).hasClass("sapUiCalendarApp")){A.call(this,!this._bRTL,1);}i.preventDefault();i.stopPropagation();};g.prototype.onsapup=function(i){this.fireLeaveRow({type:i.type});};g.prototype.onsapdown=function(i){this.fireLeaveRow({type:i.type});};g.prototype.onsaphome=function(i){B.call(this,i);i.preventDefault();i.stopPropagation();};g.prototype.onsapend=function(i){B.call(this,i);i.preventDefault();i.stopPropagation();};g.prototype.onsapselect=function(j){var V=this._getVisibleAppointments();for(var i=0;i<V.length;i++){var k=V[i].appointment;if(q.sap.containsOrEquals(k.getDomRef(),j.target)){w.call(this,k,!j.ctrlKey);break;}}j.stopPropagation();j.preventDefault();};g.prototype.ontap=function(i){var j=this.$("Apps").children(".sapUiCalendarRowAppsInt");var k=0;var F=false;for(k=0;k<j.length;k++){var H=j[k];if(!this._isOneMonthIntervalOnSmallSizes()&&q.sap.containsOrEquals(H,i.target)){F=true;break;}}if(F){E.call(this,k,i.target);}else{this.onsapselect(i);}};g.prototype.onsapselectmodifiers=function(i){this.onsapselect(i);};g.prototype.handleResize=function(i){if(i&&i.size&&i.size.width<=0){return this;}var $=this.$("DummyApp");$.css("display","");v.call(this);return this;};g.prototype.updateCurrentTimeVisualization=function(){var N=this.$("Now");var i=a._createUniversalUTCDate(new Date(),undefined,true);var j=this.getIntervals();var k=this.getIntervalType();var S=this._getStartDate();var F=S.getTime();var H=this._oUTCEndDate;var J=H.getTime();this._sUpdateCurrentTime=undefined;if(i.getTime()<=J&&i.getTime()>=F){var K=s.call(this,k,j,S,H,F,i);var T=0;if(this._bRTL){N.css("right",K+"%");}else{N.css("left",K+"%");}N.css("display","");if(this.getUpdateCurrentTime()){switch(k){case f.Hour:T=60000;break;case f.Day:case f.Week:case f.OneMonth:T=1800000;break;default:T=-1;break;}if(T>0){this._sUpdateCurrentTime=q.sap.delayedCall(T,this,this.updateCurrentTimeVisualization);}}}else{N.css("display","none");}return this;};g.prototype.getFocusedAppointment=function(){var j=x.call(this);var k=this.getAggregation("groupAppointments",[]);var F;var i=0;for(i=0;i<k.length;i++){if(k[i].getId()==this._sFocusedAppointmentId){F=k[i];break;}}if(!F){for(i=0;i<j.length;i++){if(j[i].getId()==this._sFocusedAppointmentId){F=j[i];break;}}}return F;};g.prototype.focusAppointment=function(i){if(!i||!(i instanceof sap.ui.unified.CalendarAppointment)){throw new Error("Appointment must be a CalendarAppointment; "+this);}var j=i.getId();if(this._sFocusedAppointmentId!=j){z.call(this,j);}else{i.focus();}return this;};g.prototype.focusNearestAppointment=function(j){a._checkJSDateObject(j);var k=x.call(this);var N;var P;var F;for(var i=0;i<k.length;i++){N=k[i];if(N.getStartDate()>j){if(i>0){P=k[i-1];}else{P=N;}break;}}if(N){if(P&&Math.abs(N.getStartDate()-j)>=Math.abs(P.getStartDate()-j)){F=P;}else{F=N;}this.focusAppointment(F);}return this;};g.prototype._getVisibleAppointments=function(){return this._aVisibleAppointments;};g.prototype._getVisibleIntervalHeaders=function(){return this._aVisibleIntervalHeaders;};g.prototype._getNonWorkingDays=function(){var N=this.getNonWorkingDays();if(!N){var j=h.call(this);var W=j.getWeekendStart();var k=j.getWeekendEnd();N=[];for(var i=0;i<=6;i++){if((W<=k&&i>=W&&i<=k)||(W>k&&(i>=W||i<=k))){N.push(i);}}}else if(!q.isArray(N)){N=[];}return N;};g.prototype._isOneMonthIntervalOnSmallSizes=function(){return this.getIntervalType()===f.OneMonth&&this.getIntervals()===1;};function _(){if(!this._sLocale){this._sLocale=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString();}return this._sLocale;}function h(){if(!this._oLocaleData){var i=_.call(this);var j=new c(i);this._oLocaleData=L.getInstance(j);}return this._oLocaleData;}function m(){var S=this.getStartDate();var i;var j=this.getIntervals();var k=this.getIntervalType();this._oUTCStartDate=n.call(this,S);switch(k){case f.Hour:i=new U(this._oUTCStartDate.getTime());i.setUTCHours(i.getUTCHours()+j);this._iMinDelta=this._iHoursMinDelta;break;case f.Day:case f.Week:case f.OneMonth:i=new U(this._oUTCStartDate.getTime());i.setUTCDate(i.getUTCDate()+j);this._iMinDelta=this._iDaysMinDelta;break;case f.Month:i=new U(this._oUTCStartDate.getTime());i.setUTCMonth(i.getUTCMonth()+j);this._iMinDelta=this._iMonthsMinDelta;break;default:throw new Error("Unknown IntervalType: "+k+"; "+this);}i.setUTCMilliseconds(-1);this._iRowSize=i.getTime()-this._oUTCStartDate.getTime();this._iIntervalSize=Math.floor(this._iRowSize/j);this._oUTCEndDate=i;}function n(i){var j=this.getIntervalType();var k=a._createUniversalUTCDate(i,undefined,true);switch(j){case f.Hour:k.setUTCMinutes(0);k.setUTCSeconds(0);k.setUTCMilliseconds(0);break;case f.Day:case f.Week:case f.OneMonth:k.setUTCHours(0);k.setUTCMinutes(0);k.setUTCSeconds(0);k.setUTCMilliseconds(0);break;case f.Month:k.setUTCDate(1);k.setUTCHours(0);k.setUTCMinutes(0);k.setUTCSeconds(0);k.setUTCMilliseconds(0);break;default:throw new Error("Unknown IntervalType: "+j+"; "+this);}return k;}function o(){return D.system.phone||(this.getGroupAppointmentsMode()===G.Collapsed);}function p(){var O=this._aVisibleAppointments||[];var F=x.call(this);var H;var J;var K;var M=this.getIntervals();var N=this.getIntervalType();var S=this._getStartDate();var P=S.getTime();var Q=this._oUTCEndDate;var T=Q.getTime();var V=[];var W=false;var i=0;var j=0;var X=o.call(this);this.destroyAggregation("groupAppointments",true);for(i=0;i<F.length;i++){H=F[i];var Y=a._createUniversalUTCDate(H.getStartDate(),undefined,true);Y.setUTCSeconds(0);Y.setUTCMilliseconds(0);var Z=H.getEndDate()?a._createUniversalUTCDate(H.getEndDate(),undefined,true):a._createUniversalUTCDate(new Date(864000000000000),undefined,true);Z.setUTCSeconds(0);Z.setUTCMilliseconds(0);var $=false;if(Y.getTime()<P&&Z.getTime()>=P){Y=new U(P);$=true;}if(Z.getTime()>T&&Y.getTime()<=T){Z=new U(T);$=true;}var a1=Y.getUTCHours()*60+Y.getUTCMinutes();Y.setUTCMinutes(Y.getUTCMinutes()-(a1%this._iMinDelta));var b1=(Z.getTime()-Y.getTime())/60000;if($&&b1==0){continue;}var c1=0;var d1=0;var e1=-1;J=undefined;K=undefined;if(Y&&Y.getTime()<=T&&Z&&Z.getTime()>=P){if(X&&(N==f.Month)&&((Z.getTime()-Y.getTime())<604800000)){J=r.call(this,Y,H,N,M,S,Q,P,V);var f1=a._createUniversalUTCDate(J.getEndDate(),undefined,true);if(Z.getTime()>f1.getTime()){K=r.call(this,Z,H,N,M,S,Q,P,V);}}c1=s.call(this,N,M,S,Q,P,Y);d1=t.call(this,N,M,S,Q,P,Z);for(j=0;j<O.length;j++){var g1=O[j];if(H==g1.appointment){e1=g1.level;}}if(J){J._iBegin=c1;J._iEnd=d1;J._iLevel=e1;if(K){K._iBegin=c1;K._iEnd=d1;K._iLevel=e1;}continue;}V.push({appointment:H,begin:c1,end:d1,calculatedEnd:d1,level:e1});if(this._sFocusedAppointmentId&&this._sFocusedAppointmentId==H.getId()){W=true;}}}var h1=this.getAggregation("groupAppointments",[]);if(h1.length>0){for(i=0;i<V.length;i++){H=V[i];if(H.appointment._aAppointments&&H.appointment._aAppointments.length<=1){J=H.appointment;var i1=false;if(J._aAppointments.length==0){i1=true;}else{for(j=0;j<V.length;j++){if(V[j].appointment==J._aAppointments[0]){i1=true;break;}}}if(!i1){for(j=0;j<h1.length;j++){K=h1[j];if(J!=K){for(var k=0;k<K._aAppointments.length;k++){if(J._aAppointments[0]==K._aAppointments[k]){K._aAppointments.splice(k,1);if(K._aAppointments.length==1){this.removeAggregation("groupAppointments",K);K.destroy();h1=this.getAggregation("groupAppointments",[]);}else{K.setProperty("title",K._aAppointments.length,true);}break;}}}}H.begin=J._iBegin;H.end=J._iEnd;H.calculatedEnd=J._iEnd;H.level=J._iLevel;H.appointment=J._aAppointments[0];}else{V.splice(i,1);i--;}this.removeAggregation("groupAppointments",J);J.destroy();h1=this.getAggregation("groupAppointments",[]);}}}if(!W){if(V.length>0){this._sFocusedAppointmentId=V[0].appointment.getId();}else{this._sFocusedAppointmentId=undefined;}}this._aVisibleAppointments=V;return this._aVisibleAppointments;}function r(i,k,F,H,S,J,K,V){var M=this.getAggregation("groupAppointments",[]);var N;var O=h.call(this);var P=O.getFirstDayOfWeek();var Q=i.getUTCDay();var T=new U(i.getTime());T.setUTCHours(0);T.setUTCMinutes(0);T.setUTCSeconds(0);T.setUTCMilliseconds(0);if(P<=Q){T.setDate(T.getDate()-(Q-P));}else{T.setDate(T.getDate()-(7-Q-P));}for(var j=0;j<M.length;j++){N=M[j];var W=a._createUniversalUTCDate(N.getStartDate(),undefined,true);if(W.getTime()==T.getTime()){break;}N=undefined;}if(!N){var X=new U(T.getTime());X.setDate(X.getDate()+7);X.setMilliseconds(-1);N=new sap.ui.unified.CalendarAppointment(this.getId()+"-Group"+M.length,{type:k.getType(),startDate:a._createLocalDate(new Date(T.getTime()),true),endDate:a._createLocalDate(new Date(X.getTime()),true)});N._aAppointments=[];this.addAggregation("groupAppointments",N,true);var Y=s.call(this,F,H,S,J,K,T);var Z=t.call(this,F,H,S,J,K,X);V.push({appointment:N,begin:Y,end:Z,calculatedEnd:Z,level:-1});}N._aAppointments.push(k);if(N.getType()!=d.None&&N.getType()!=k.getType()){N.setType(d.None);}N.setProperty("title",N._aAppointments.length,true);return N;}function s(i,j,S,k,F,H){var J=0;if(i!=f.Month){J=100*(H.getTime()-F)/this._iRowSize;}else{var M=new U(H.getTime());M.setUTCDate(1);M.setUTCHours(0);M.setUTCMinutes(0);M.setUTCSeconds(0);M.setUTCMilliseconds(0);var K=new U(M.getTime());K.setUTCMonth(K.getUTCMonth()+1);K.setMilliseconds(-1);var N=K.getTime()-M.getTime();var O=(M.getUTCFullYear()-S.getUTCFullYear())*12+M.getUTCMonth()-S.getUTCMonth();J=(100*O/j)+(100*(H.getTime()-M.getTime())/N)/j;}if(J<0){J=0;}J=Math.round(J*100000)/100000;return J;}function t(i,j,S,k,F,H){var J=0;if(i!=f.Month){J=100-(100*(H.getTime()-F)/this._iRowSize);}else{var M=new U(H.getTime());M.setUTCDate(1);M.setUTCHours(0);M.setUTCMinutes(0);M.setUTCSeconds(0);M.setUTCMilliseconds(0);var K=new U(M.getTime());K.setUTCMonth(K.getUTCMonth()+1);K.setMilliseconds(-1);var N=K.getTime()-M.getTime();var O=(M.getUTCFullYear()-S.getUTCFullYear())*12+M.getUTCMonth()-S.getUTCMonth();J=100-((100*O/j)+(100*(H.getTime()-M.getTime())/N)/j);}if(J<0){J=0;}J=Math.round(J*100000)/100000;return J;}function u(){var V=[];if(this.getShowIntervalHeaders()){var k=this.getIntervalHeaders();var F;var H=this.getIntervals();var J=this.getIntervalType();var S=this._getStartDate();var K=S.getTime();var M=this._oUTCEndDate;var N=M.getTime();var i=0;var j=0;for(i=0;i<k.length;i++){F=k[i];var O=a._createUniversalUTCDate(F.getStartDate(),undefined,true);O.setUTCSeconds(0);O.setUTCMilliseconds(0);var P=F.getEndDate()?a._createUniversalUTCDate(F.getEndDate(),undefined,true):a._createUniversalUTCDate(new Date(864000000000000),undefined,true);P.setUTCSeconds(0);P.setUTCMilliseconds(0);if(O&&O.getTime()<=N&&P&&P.getTime()>=K){var Q=new U(S.getTime());var T=new U(S.getTime());T.setUTCMinutes(T.getUTCMinutes()-1);var W=-1;var X=-1;for(j=0;j<H;j++){switch(J){case f.Hour:T.setUTCHours(T.getUTCHours()+1);if(j>0){Q.setUTCHours(Q.getUTCHours()+1);}break;case f.Day:case f.Week:case f.OneMonth:T.setUTCDate(T.getUTCDate()+1);if(j>0){Q.setUTCDate(Q.getUTCDate()+1);}break;case f.Month:T.setUTCDate(1);T.setUTCMonth(T.getUTCMonth()+2);T.setUTCDate(0);if(j>0){Q.setUTCMonth(Q.getUTCMonth()+1);}break;default:throw new Error("Unknown IntervalType: "+J+"; "+this);}if(O&&O.getTime()<=Q.getTime()&&P&&P.getTime()>=T.getTime()){if(W<0){W=j;}X=j;}}if(W>=0){V.push({interval:W,appointment:F,last:X});}}}}this._aVisibleIntervalHeaders=V;return this._aVisibleIntervalHeaders;}function v(){if(this._isOneMonthIntervalOnSmallSizes()){return;}var $=this.$("Apps");var k=$.innerWidth();if(k<=0){return;}var F=this.$("DummyApp");var H=F.outerHeight(true);if(H<=0){return;}var M=F.outerWidth();var J=M/k*100;var K=Math.ceil(1000*J)/1000;var N;var O;var S=0;var P=0;var i=0;var Q=!D.system.phone&&this.getAppointmentsReducedHeight();if(this.getShowIntervalHeaders()&&(this.getShowEmptyIntervalHeaders()||this._getVisibleIntervalHeaders().length>0)){S=q(this.$("AppsInt0").children(".sapUiCalendarRowAppsIntHead")[0]).outerHeight(true);}for(i=0;i<this._aVisibleAppointments.length;i++){N=this._aVisibleAppointments[i];O=N.appointment.$();var T=Math.floor(1000*(100-N.calculatedEnd-N.begin))/1000;var V=false;if(T<K){N.end=100-N.begin-J;if(N.end<0){N.end=0;}N.level=-1;V=true;O.addClass("sapUiCalendarAppSmall");}else if(O.hasClass("sapUiCalendarAppSmall")){N.end=N.calculatedEnd;V=true;O.removeClass("sapUiCalendarAppSmall");}if(V){if(this._bRTL){O.css("left",N.end+"%");}else{O.css("right",N.end+"%");}}}for(i=0;i<this._aVisibleAppointments.length;i++){N=this._aVisibleAppointments[i];O=N.appointment.$();var W={};var X=Q&&!this._getAppointmentReducedHeight(N.appointment);if(N.level<0){for(var j=0;j<this._aVisibleAppointments.length;j++){var Y=this._aVisibleAppointments[j];if(N!=Y&&N.begin<(Math.floor(1000*(100-Y.end))/1000)&&(Math.floor(1000*(100-N.end))/1000)>Y.begin&&Y.level>=0){if(W[Y.level]){W[Y.level]++;}else{W[Y.level]=1;}if(Q&&!this._getAppointmentReducedHeight(Y.appointment)){if(W[Y.level+1]){W[Y.level+1]++;}else{W[Y.level+1]=1;}}}}N.level=0;while(W[N.level]||(X&&W[N.level+1])){N.level++;}O.attr("data-sap-level",N.level);}O.css("top",(H*N.level+S)+"px");var Z=N.level;if(X){Z++;}if(P<Z){P=Z;}}P++;H=H*P+S;if(!this.getHeight()){$.outerHeight(H);}else{var a1=this.$("Apps").children(".sapUiCalendarRowAppsInt");for(i=0;i<a1.length;i++){var b1=q(a1[i]);b1.outerHeight(H);}}F.css("display","none");}function w(j,k){var i=0;var O;var F;var H;var J;var S=g._oStaticSelectedText.getId();if(k){var K=this.getAppointments();var M=this.getAggregation("groupAppointments",[]);q.merge(K,M);for(i=0;i<K.length;i++){O=K[i];if(O.getSelected()){O.setProperty("selected",false,true);O.$().removeClass("sapUiCalendarAppSel");F=O.$().attr("aria-labelledby");H=F?F.replace(S,""):"";O.$().attr("aria-labelledby",H);}}}j.setProperty("selected",true,true);j.$().addClass("sapUiCalendarAppSel");J=j.$().attr("aria-labelledby")+" "+S;j.$().attr("aria-labelledby",J);if(j._aAppointments){for(i=0;i<j._aAppointments.length;i++){O=j._aAppointments[i];O.setProperty("selected",true,true);J=O.$().attr("aria-labelledby")+" "+S;O.$().attr("aria-labelledby",J);}this.fireSelect({appointments:j._aAppointments,multiSelect:!k,domRefId:j.getId()});}else{this.fireSelect({appointment:j,multiSelect:!k,domRefId:j.getId()});}}function x(){var i=this.getAppointments();i.sort(function(j,k){var F=j.getStartDate()-k.getStartDate();if(F==0){F=k.getEndDate()-j.getEndDate();}return F;});return i;}function y(k){var F=this.getAggregation("groupAppointments",[]);var H;var J=false;for(var i=0;i<F.length;i++){var K=F[i]._aAppointments;for(var j=0;j<K.length;j++){if(K[j].getId()==k){H=F[i];J=true;break;}}if(J){break;}}return H;}function z(j){if(this._sFocusedAppointmentId!=j){var k=x.call(this);var V=this._aVisibleAppointments;var F;var i=0;F=y.call(this,j);if(F){j=F.getId();F=undefined;}for(i=0;i<V.length;i++){if(V[i].appointment.getId()==j){F=V[i].appointment;break;}}if(F){var O=this.getFocusedAppointment().$();var $=F.$();this._sFocusedAppointmentId=F.getId();O.attr("tabindex","-1");$.attr("tabindex","0");$.focus();}else{for(i=0;i<k.length;i++){if(k[i].getId()==j){F=k[i];break;}}if(F){this._sFocusedAppointmentId=F.getId();var H=n.call(this,F.getStartDate());this.setStartDate(a._createLocalDate(H,true));if(!q.sap.containsOrEquals(this.getDomRef(),document.activeElement)){q.sap.delayedCall(0,this,function(){this.getFocusedAppointment().focus();});}this.fireStartDateChange();}}}}function A(F,S){var j=this._sFocusedAppointmentId;var k=x.call(this);var H=this.getAggregation("groupAppointments",[]);var J;var K=0;var i=0;for(i=0;i<H.length;i++){if(H[i].getId()==j){var M=H[i]._aAppointments;if(F){j=M[M.length-1].getId();}else{j=M[0].getId();}break;}}for(i=0;i<k.length;i++){if(k[i].getId()==j){K=i;break;}}if(F){K=K+S;}else{K=K-S;}if(K<0){K=0;}else if(K>=k.length){K=k.length-1;}J=k[K];z.call(this,J.getId());}function B(j){var k=x.call(this);var F;var S=new U(this._getStartDate());var H=new U(this._oUTCEndDate);var J=this.getIntervalType();var K;var M;S.setUTCHours(0);H.setUTCHours(0);H.setUTCMinutes(0);H.setUTCSeconds(0);switch(J){case f.Hour:H.setUTCDate(H.getUTCDate()+1);H.setUTCMilliseconds(-1);break;case f.Day:case f.Week:case f.OneMonth:S.setUTCDate(1);H.setUTCMonth(H.getUTCMonth()+1);H.setUTCDate(1);H.setUTCMilliseconds(-1);break;case f.Month:S.setUTCMonth(0);S.setUTCDate(1);H.setUTCFullYear(H.getUTCFullYear()+1);H.setUTCMonth(1);H.setUTCDate(1);H.setUTCMilliseconds(-1);break;default:throw new Error("Unknown IntervalType: "+J+"; "+this);}var N=a._createLocalDate(S,true);var O=a._createLocalDate(H,true);for(var i=0;i<k.length;i++){if(k[i].getStartDate()>=N&&k[i].getStartDate()<=O){F=k[i];K=F.getId();if(j.type=="saphome"){break;}}else if(k[i].getStartDate()>O){break;}}M=y.call(this,K);if(M){F=M;K=F.getId();}if(K&&K!=this._sFocusedAppointmentId){z.call(this,K);}else if(j._bPlanningCalendar&&F){F.focus();}else{this.fireLeaveRow({type:j.type});}}function E(i,j){var k=this.getIntervalType();var S=this._getStartDate();var F=new U(S.getTime());var H;var J=false;var K=0;var M=0;if(q(j).hasClass("sapUiCalendarRowAppsSubInt")){J=true;var N=q(q(j).parent()).children(".sapUiCalendarRowAppsSubInt");M=N.length;for(K=0;K<M;K++){var O=N[K];if(O==j){break;}}}switch(k){case f.Hour:F.setUTCHours(F.getUTCHours()+i);if(J){F.setUTCMinutes(F.getUTCMinutes()+K*60/M);H=new U(F.getTime());H.setUTCMinutes(H.getUTCMinutes()+60/M);}else{H=new U(F.getTime());H.setUTCHours(H.getUTCHours()+1);}break;case f.Day:case f.Week:case f.OneMonth:F.setUTCDate(F.getUTCDate()+i);if(J){F.setUTCHours(F.getUTCHours()+K*24/M);H=new U(F.getTime());H.setUTCHours(H.getUTCHours()+24/M);}else{H=new U(F.getTime());H.setUTCDate(H.getUTCDate()+1);}break;case f.Month:F.setUTCMonth(F.getUTCMonth()+i);if(J){F.setUTCDate(F.getUTCDate()+K);H=new U(F.getTime());H.setUTCDate(H.getUTCDate()+1);}else{H=new U(F.getTime());H.setUTCMonth(H.getUTCMonth()+1);}break;default:throw new Error("Unknown IntervalType: "+k+"; "+this);}H.setUTCMilliseconds(H.getUTCMilliseconds()-1);F=a._createLocalDate(F,true);H=a._createLocalDate(H,true);this.fireIntervalSelect({startDate:F,endDate:H,subInterval:J});}return g;});};if(!jQuery.sap.isDeclared('sap.ui.unified.ColorPicker')){jQuery.sap.declare('sap.ui.unified.ColorPicker');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.core.HTML');jQuery.sap.require('sap.ui.core.ResizeHandler');jQuery.sap.require('sap.ui.layout.Grid');jQuery.sap.require('sap.ui.layout.GridData');jQuery.sap.require('sap.ui.layout.VerticalLayout');jQuery.sap.require('sap.ui.layout.HorizontalLayout');jQuery.sap.require('sap.ui.core.Icon');jQuery.sap.require('sap.ui.core.theming.Parameters');jQuery.sap.require('sap.ui.core.InvisibleText');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.library');sap.ui.define("sap/ui/unified/ColorPicker",["jquery.sap.global","./library","sap/ui/core/Control","sap/ui/core/HTML","sap/ui/core/ResizeHandler","sap/ui/layout/Grid","sap/ui/layout/GridData","sap/ui/layout/VerticalLayout","sap/ui/layout/HorizontalLayout","sap/ui/core/Icon","sap/ui/core/theming/Parameters","sap/ui/core/InvisibleText","sap/ui/Device","sap/ui/core/library"],function(q,L,a,H,R,G,b,V,c,I,P,e,D,f){"use strict";var g=f.ValueState;var h=L.ColorPickerMode;var j=a.extend("sap.ui.unified.ColorPicker",{metadata:{library:"sap.ui.unified",properties:{colorString:{type:"string",group:"Misc",defaultValue:null},mode:{type:"sap.ui.unified.ColorPickerMode",group:"Appearance",defaultValue:h.HSV}},aggregations:{_grid:{type:"sap.ui.layout.Grid",group:"Appearance",multiple:false,visibility:"hidden"},_invisibleTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"}},events:{change:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}}});var B="",s=sap.ui.resource('sap.ui.unified','img/ColorPicker/Alphaslider_BG.png'),r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),o=L.ColorPickerHelper,F=o.factory,k={};Object.defineProperties(k,{RGB:{value:"RGB"},CPResponsiveClass:{value:"sapUnifiedColorPicker"},CPMatrixClass:{value:"sapUiColorPicker-ColorPickerMatrix"},HSLClass:{value:"sapUiColorPickerHSL"},LabelClass:{value:"sapUiColorPicker-ColorPickerLabels"},UnitLabelClass:{value:"sapUiCPUnitLabel"},HEXClass:{value:"sapUiColorPicker-ColorPickerHexField"},LeftColumnInputClass:{value:"sapUiColorPicker-ColorPickerInputFieldsLeft"},RightColumnInputClass:{value:"sapUiColorPicker-ColorPickerInputFieldsRight"},SliderClass:{value:"sapUiColorPicker-ColorPickerSlider"},AlphaSliderClass:{value:"sapUiColorPicker-ColorPickerAlphaSlider"},OutputSelectorClass:{value:"sapUiColorPickerHSL-RB"},OutputSelectorRowClass:{value:"sapUiColorPicker-RBRow"},CPBoxClass:{value:"sapUiColorPicker-ColorPickerBox"},CPCircleClass:{value:"sapUiColorPicker-ColorPickerCircle"},LastColumnClass:{value:"sapUiColorPicker-ColorPickerLastColumn"},HideForHSVClass:{value:"hideForHSV"},HideForHSLClass:{value:"hideForHSL"},OldColorClass:{value:"sapUiColorPicker-ColorPickerOldColor"},NewColorClass:{value:"sapUiColorPicker-ColorPickerNewColor"},SwatchesClass:{value:"sapUiColorPicker-swatches"},ArrowClass:{value:"sapUiColorPicker-Arrow"},Colors:{value:{aliceblue:'f0f8ff',antiquewhite:'faebd7',aqua:'00ffff',aquamarine:'7fffd4',azure:'f0ffff',beige:'f5f5dc',bisque:'ffe4c4',black:'000000',blanchedalmond:'ffebcd',blue:'0000ff',blueviolet:'8a2be2',brown:'a52a2a',burlywood:'deb887',cadetblue:'5f9ea0',chartreuse:'7fff00',chocolate:'d2691e',coral:'ff7f50',cornflowerblue:'6495ed',cornsilk:'fff8dc',crimson:'dc143c',cyan:'00ffff',darkblue:'00008b',darkcyan:'008b8b',darkgoldenrod:'b8860b',darkgray:'a9a9a9',darkgrey:'a9a9a9',darkgreen:'006400',darkkhaki:'bdb76b',darkmagenta:'8b008b',darkolivegreen:'556b2f',darkorange:'ff8c00',darkorchid:'9932cc',darkred:'8b0000',darksalmon:'e9967a',darkseagreen:'8fbc8f',darkslateblue:'483d8b',darkslategray:'2f4f4f',darkslategrey:'2f4f4f',darkturquoise:'00ced1',darkviolet:'9400d3',deeppink:'ff1493',deepskyblue:'00bfff',dimgray:'696969',dimgrey:'696969',dodgerblue:'1e90ff',firebrick:'b22222',floralwhite:'fffaf0',forestgreen:'228b22',fuchsia:'ff00ff',gainsboro:'dcdcdc',ghostwhite:'f8f8ff',gold:'ffd700',goldenrod:'daa520',gray:'808080',grey:'808080',green:'008000',greenyellow:'adff2f',honeydew:'f0fff0',hotpink:'ff69b4',indianred:'cd5c5c',indigo:'4b0082',ivory:'fffff0',khaki:'f0e68c',lavender:'e6e6fa',lavenderblush:'fff0f5',lawngreen:'7cfc00',lemonchiffon:'fffacd',lightblue:'add8e6',lightcoral:'f08080',lightcyan:'e0ffff',lightgoldenrodyellow:'fafad2',lightgray:'d3d3d3',lightgrey:'d3d3d3',lightgreen:'90ee90',lightpink:'ffb6c1',lightsalmon:'ffa07a',lightseagreen:'20b2aa',lightskyblue:'87cefa',lightslategray:'778899',lightslategrey:'778899',lightsteelblue:'b0c4de',lightyellow:'ffffe0',lime:'00ff00',limegreen:'32cd32',linen:'faf0e6',magenta:'ff00ff',maroon:'800000',mediumaquamarine:'66cdaa',mediumblue:'0000cd',mediumorchid:'ba55d3',mediumpurple:'9370db',mediumseagreen:'3cb371',mediumslateblue:'7b68ee',mediumspringgreen:'00fa9a',mediumturquoise:'48d1cc',mediumvioletred:'c71585',midnightblue:'191970',mintcream:'f5fffa',mistyrose:'ffe4e1',moccasin:'ffe4b5',navajowhite:'ffdead',navy:'000080',oldlace:'fdf5e6',olive:'808000',olivedrab:'6b8e23',orange:'ffa500',orangered:'ff4500',orchid:'da70d6',palegoldenrod:'eee8aa',palegreen:'98fb98',paleturquoise:'afeeee',palevioletred:'db7093',papayawhip:'ffefd5',peachpuff:'ffdab9',peru:'cd853f',pink:'ffc0cb',plum:'dda0dd',powderblue:'b0e0e6',purple:'800080',red:'ff0000',rosybrown:'bc8f8f',royalblue:'4169e1',saddlebrown:'8b4513',salmon:'fa8072',sandybrown:'f4a460',seagreen:'2e8b57',seashell:'fff5ee',sienna:'a0522d',silver:'c0c0c0',skyblue:'87ceeb',slateblue:'6a5acd',slategray:'708090',slategrey:'708090',snow:'fffafa',springgreen:'00ff7f',steelblue:'4682b4',tan:'d2b48c',teal:'008080',thistle:'d8bfd8',tomato:'ff6347',turquoise:'40e0d0',violet:'ee82ee',wheat:'f5deb3',white:'ffffff',whitesmoke:'f5f5f5',yellow:'ffff00',yellowgreen:'9acd32',transparent:'00000000'}}});j.prototype.init=function(){if(D.browser.firefox){B="-moz-linear-gradient";}else if(D.browser.msie){B="-ms-linear-gradient";}else if(D.browser.webkit){B="-webkit-linear-gradient";}else{B="linear-gradient";}this.Color={r:255,g:255,b:255,h:0,s:0,l:100,v:100,a:1,oldA:1,hex:"#ffffff",old:"#ffffff"};this.sHexString="ffffff";this.$CPBox=null;this.$CPCur=null;this.RGB={r:0,g:0,b:0};this.bRtl=sap.ui.getCore().getConfiguration().getRTL();this.data("sap-ui-fastnavgroup","true",true);this.bResponsive=o.isResponsive();this._iCPCursorSize=parseInt(P.get("_sap_ui_unified_ColorPicker_CircleSize"),10);this._processChanges=this._processHSVChanges;this._bHSLMode=false;};var l=a.extend("sap.ui.unified._ColorPickerBox",{metadata:{events:{select:{parameters:{value:{type:"int"},saturation:{type:"int"}}},resize:{parameters:{size:{type:"int"}}}}},init:function(){this.bRtl=sap.ui.getCore().getConfiguration().getRTL();},exit:function(){if(this._sResizeListener){R.deregister(this._sResizeListener);}},getWidth:function(){return this.$().width();},getOffset:function(){return this.$().offset();},onBeforeRendering:function(){if(this._sResizeListener){R.deregister(this._sResizeListener);}},onAfterRendering:function(){this._handle=this.$().find("> div."+k.CPCircleClass);this._sResizeListener=R.register(this.getDomRef(),this.handleResize.bind(this));},handleResize:function(E){this.fireResize({size:E.size.width});},getHandle:function(){return this._handle;},ontouchstart:function(E){this.handleTouch(E);},ontouchend:function(E){this.handleTouch(E);},ontouchmove:function(E){this.handleTouch(E);},handleTouch:function(E){var v=this.calculateValuesFromEvent(E);if(v){this.fireSelect(v);}},calculateValuesFromEvent:function(E){var x=E.offsetX,y=E.offsetY,i,d=i=this.getWidth(),m,O;E.preventDefault&&E.preventDefault();if(!x){m=E.targetTouches?E.targetTouches[0]:E;if(!m||!m.pageX){m=E;if((!m||!m.pageX)&&E.changedTouches){m=E.changedTouches[0];}}if(!m.pageX){return false;}O=this.getOffset();x=m.pageX-O.left;y=m.pageY-O.top;}x=Math.min(Math.max(x,0),d);y=Math.min(Math.max(y,0),i);if(this.bRtl){x=d-x;}return{value:x/d*100,saturation:(1-y/i)*100};},renderer:function(d,C){d.write("<div");d.addClass(k.CPBoxClass);d.writeControlData(C);d.writeClasses();d.write(">");d.write("<div");d.writeAttribute("id",C.getId()+"-cpCur");d.addClass(k.CPCircleClass);d.writeClasses();d.write("></div>");d.write("</div>");}});j.prototype._createRowFromInput=function(i,t,d,u){var T=r.getText(t),m;m=new c({content:[F.createLabel({text:d,tooltip:T,labelFor:i}).addStyleClass(k.LabelClass),i.setTooltip(T)]});if(u){m.addContent(F.createLabel({text:u,labelFor:i}).addStyleClass(k.UnitLabelClass).addStyleClass(k.LabelClass));}return m;};j.prototype._updateColorStringProperty=function(d,i){var m=this._getCSSColorString();this.setProperty('colorString',m,true);if(i){this.fireLiveChange({r:this.Color.r,g:this.Color.g,b:this.Color.b,h:this.Color.h,s:this.Color.s,v:this.Color.v,l:this.Color.l,alpha:this.Color.a,hex:this.Color.hex,formatHSL:this.Color.formatHSL,colorString:m});}if(d){this.fireChange({r:this.Color.r,g:this.Color.g,b:this.Color.b,h:this.Color.h,s:this.Color.s,v:this.Color.v,l:this.Color.l,alpha:this.Color.a,hex:this.Color.hex,formatHSL:this.Color.formatHSL,colorString:m});}};j.prototype._handleCPBoxSelectEvent=function(E){var v=E.getParameter("value"),d=E.getParameter("saturation");this.oSatField.setValue(d);if(this._bHSLMode){this.oLitField.setValue(v);}else{this.oValField.setValue(v);}this._processChanges();this._updateColorStringProperty(false,true);};j.prototype._handleCPBoxResizeEvent=function(E){this._iCPBoxSize=E.getParameter("size");this._updateCursorPosition();};j.prototype._handleCPBoxTouchEndEvent=function(E){this._updateColorStringProperty(true,false);};j.prototype._createInteractionControls=function(){var i=this.getId(),d,A;this.oCPBox=new l(i+"-cpBox",{select:this._handleCPBoxSelectEvent.bind(this),resize:this._handleCPBoxResizeEvent.bind(this)});this.oCPBox.addDelegate({ontouchend:this._handleCPBoxTouchEndEvent.bind(this)});this.oHexField=F.createInput(i+"-hxF",{value:this.Color.hex.substr(1),change:this._handleHexValueChange.bind(this)}).addStyleClass(k.HEXClass);this.oRedField=F.createInput(i+"-rF",{value:this.Color.r,change:this._handleRedValueChange.bind(this)}).addStyleClass(k.LeftColumnInputClass);this.oGreenField=F.createInput(i+"-gF",{value:this.Color.g,change:this._handleGreenValueChange.bind(this)}).addStyleClass(k.LeftColumnInputClass);this.oBlueField=F.createInput(i+"-bF",{value:this.Color.b,change:this._handleBlueValueChange.bind(this)}).addStyleClass(k.LeftColumnInputClass);this.oHueField=F.createInput(i+"-hF",{value:this.Color.h,change:this._handleHueValueChange.bind(this)}).addStyleClass(k.RightColumnInputClass);this.oSatField=F.createInput(i+"-sF",{value:this.Color.s,change:this._handleSatValueChange.bind(this)}).addStyleClass(k.RightColumnInputClass);this.oLitField=F.createInput(i+"-lF",{value:this.Color.l,change:this._handleLitValueChange.bind(this)}).addStyleClass(k.RightColumnInputClass);this.oAlphaField=F.createInput(i+"-aF",{value:this.Color.a,change:this._handleAlphaValueChange.bind(this)}).addStyleClass(k.RightColumnInputClass);this.oValField=F.createInput(i+"-vF",{value:this.Color.v,change:this._handleValValueChange.bind(this)}).addStyleClass(k.RightColumnInputClass);this.oRGBorHSLRBGroup=F.createRadioButtonGroup({columns:2,buttons:[F.createRadioButtonItem({text:k.RGB}),F.createRadioButtonItem({text:L.ColorPickerMode.HSL})],select:this._handleRGBorHSLValueChange.bind(this),selectedIndex:(this.Color.formatHSL?1:0)}).addStyleClass(k.OutputSelectorClass);d=new e({text:r.getText("COLORPICKER_HUE_SLIDER")}).toStatic();this.addAggregation("_invisibleTexts",d,true);this.oSlider=F.createSlider(i+"-hSLD",{max:360,step:1,tooltip:r.getText("COLORPICKER_HUE"),value:parseInt(this.oHueField.getValue(),10)}).addStyleClass(k.SliderClass).addAriaLabelledBy(d);this.oSlider.attachEvent("liveChange","liveChange",this._handleSliderChange.bind(this));this.oSlider.attachEvent("change","change",this._handleSliderChange.bind(this));A=new e({text:r.getText("COLORPICKER_ALPHA_SLIDER")}).toStatic();this.addAggregation("_invisibleTexts",A,true);this.oAlphaSlider=F.createSlider(i+"-aSLD",{max:1,value:1,step:0.01,tooltip:r.getText("COLORPICKER_ALPHA")}).addStyleClass(k.AlphaSliderClass).addAriaLabelledBy(A);this.oAlphaSlider.attachEvent("liveChange","liveChange",this._handleAlphaSliderChange.bind(this));this.oAlphaSlider.attachEvent("change","change",this._handleAlphaSliderChange.bind(this));};j.prototype._createLayout=function(){var i=this.getId(),d;if(this._bLayoutControlsCreated){return;}this._createInteractionControls();this._oLayoutData={oCPBox:new b({span:"L6 M6 S12"}),icOne:new b({span:"L3 M3 S6"}),icTwo:new b({span:"L3 M3 S6"}),swatches:new b({span:"L3 M3 S12"}),rbg:new b({span:"L6 M8 S12"})};d=new G({containerQuery:true,content:[this.oCPBox.setLayoutData(this._oLayoutData.oCPBox),new V({content:[this._createRowFromInput(this.oRedField,"COLORPICKER_RED","R:"),this._createRowFromInput(this.oGreenField,"COLORPICKER_GREEN","G:"),this._createRowFromInput(this.oBlueField,"COLORPICKER_BLUE","B:"),this._createRowFromInput(this.oHexField,"COLORPICKER_HEX","#:")],layoutData:this._oLayoutData.icOne}),new V({content:[this._createRowFromInput(this.oHueField,"COLORPICKER_HUE","H:"),this._createRowFromInput(this.oSatField,"COLORPICKER_SAT","S:","%"),this._createRowFromInput(this.oLitField,"COLORPICKER_LIGHTNESS","L:","%").addStyleClass(k.HideForHSVClass),this._createRowFromInput(this.oAlphaField,"COLORPICKER_ALPHA","A:").addStyleClass(k.HideForHSVClass),this._createRowFromInput(this.oValField,"COLORPICKER_VALUE","V:").addStyleClass(k.HideForHSLClass)],layoutData:this._oLayoutData.icTwo}).addStyleClass(k.LastColumnClass),new c({content:[new H({content:["<div id='",i,"-ocBox' class='",k.OldColorClass,"'></div>"].join("")}),new I({backgroundColor:"transparent",src:"sap-icon://arrow-right",tooltip:r.getText("COLORPICKER_NEW_OLD_COLOR")}).addStyleClass(k.HideForHSVClass).addStyleClass(k.ArrowClass),new H({content:["<div id='",i,"-ncBox' class='",k.NewColorClass,"'></div>"].join("")})],layoutData:this._oLayoutData.swatches}).addStyleClass(k.SwatchesClass),new c({content:[F.createLabel({text:"Output:",labelFor:this.oRGBorHSLRBGroup}),this.oRGBorHSLRBGroup],layoutData:this._oLayoutData.rbg}).addStyleClass(k.HideForHSVClass).addStyleClass(k.OutputSelectorRowClass),this.oSlider.setLayoutData(new b({span:"L6 M6 S12",linebreak:true})),this.oAlphaSlider.setLayoutData(new b({span:"L6 M6 S12"}))]}).addStyleClass(k.CPMatrixClass);this.setAggregation("_grid",d,true);this._bLayoutControlsCreated=true;this._adaptControlToLibrary();};j.prototype._adaptControlToLibrary=function(){var d;if(!this._bLayoutControlsCreated){return;}d=this.getAggregation("_grid");if(this.bResponsive){d._setBreakPointTablet(314);d.addStyleClass(k.CPResponsiveClass);}else{d.setProperty("hSpacing",0,true);d.setProperty("vSpacing",0,true);this._oLayoutData.oCPBox.setSpanS(5);this._oLayoutData.icOne.setSpanS(4);this._oLayoutData.icTwo.setSpanS(3);this._oLayoutData.rbg.setSpanS(8);}this._adaptControlToLibrary=q.noop;};j.prototype._updateControlVisualState=function(){var d=this.getAggregation("_grid");if(!this._bLayoutControlsCreated){return;}if(this.bResponsive){if(this._bHSLMode){d.addStyleClass(k.HSLClass);this._oLayoutData.swatches.setSpanM(4).setLinebreak(true);}else{d.removeStyleClass(k.HSLClass);this._oLayoutData.swatches.setSpanM(3).setLinebreak(false);}}else{if(this._bHSLMode){d.addStyleClass(k.HSLClass);this._oLayoutData.swatches.setSpanS(4).setLinebreak(true);}else{d.removeStyleClass(k.HSLClass);this._oLayoutData.swatches.setSpanS(3).setLinebreak(false);}}};j.prototype._processChanges=q.noop;j.prototype.setMode=function(m,S){switch(m){case L.ColorPickerMode.HSL:this._processChanges=this._processHSLChanges;break;case L.ColorPickerMode.HSV:this._processChanges=this._processHSVChanges;break;default:q.sap.log.error("Control must have a valid mode set to work correct");break;}this._bHSLMode=m===L.ColorPickerMode.HSL;return this.setProperty("mode",m,S);};j.prototype.onBeforeRendering=function(){this._createLayout();this._updateControlVisualState();this._updateColorString();};j.prototype._updateColorString=function(){this._parseColorString(this.getColorString());this.oHexField.setValue(this.Color.hex.substr(1));this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);if(this._bHSLMode){this.oLitField.setValue(this.Color.l);this.oAlphaField.setValue(this.Color.a);this.oSlider.setValue(this.Color.h);this.oAlphaSlider.setValue(this.Color.a);this.oRGBorHSLRBGroup.setSelectedIndex(this.Color.formatHSL?1:0);}else{this.oValField.setValue(this.Color.v);this.oSlider.setValue(this.Color.h);this.oAlphaSlider.setValue(this.Color.a);this.oAlphaField.setValue(this.Color.a);}this._updateColorStringProperty(true,true);};j.prototype.isColor=function(C){return this._parseColorString(C,true);};j.prototype._handleSliderChange=function(E,d){var i=parseInt(this.oSlider.getValue(),10);this.oHueField.setValue(i);this._processChanges();this._updateColorStringProperty(d==="change",d==="liveChange");};j.prototype._handleAlphaSliderChange=function(E,d){this.Color.a=this.oAlphaSlider.getValue();if(this._bHSLMode){this.oAlphaField.setValue(this.Color.a);}if(!this.Color.formatHSL){this._processRGBChanges();}else{this._processChanges();}this._updateColorStringProperty(d==="change",d==="liveChange");};j.prototype._getValueInRange=function(v,m,M){if(isNaN(v)){v=0;}return Math.min(Math.max(v,m),M);};j.prototype._handleAlphaValueChange=function(){var d=parseFloat(this.oAlphaField.getValue(),10);d=this._getValueInRange(d,0,1);this.Color.a=d;this.oAlphaField.setValue(d);this.oAlphaSlider.setValue(d);if(!this.Color.formatHSL){this._processRGBChanges();}else{this._processChanges();}this._updateColorStringProperty(true,true);};j.prototype._handleRGBorHSLValueChange=function(){this.Color.formatHSL=(this.oRGBorHSLRBGroup.getSelectedIndex()===1);this._updateColorStringProperty(true,true);};j.prototype._handleHueValueChange=function(){var d=parseInt(this.oHueField.getValue(),10);d=this._getValueInRange(d,0,360);this.oHueField.setValue(d);this.oSlider.setValue(d);this._processChanges();this._updateColorStringProperty(true,true);};j.prototype._handleSatValueChange=function(){var d=parseInt(this.oSatField.getValue(),10);d=this._getValueInRange(d,0,100);this.oSatField.setValue(d);this._processChanges();this._updateColorStringProperty(true,true);};j.prototype._handleValValueChange=function(){var v=parseInt(this.oValField.getValue(),10);v=this._getValueInRange(v,0,100);this.oValField.setValue(v);this._processHSVChanges();this._updateColorStringProperty(true,true);};j.prototype._handleLitValueChange=function(){var d=parseInt(this.oLitField.getValue(),10);d=this._getValueInRange(d,0,100);this.oLitField.setValue(d);this._processHSLChanges();this._updateColorStringProperty(true,true);};j.prototype._handleRedValueChange=function(){var d=parseInt(this.oRedField.getValue(),10);d=this._getValueInRange(d,0,255);this.oRedField.setValue(d);this._processRGBChanges();this._updateColorStringProperty(true,true);};j.prototype._handleGreenValueChange=function(){var d=parseInt(this.oGreenField.getValue(),10);d=this._getValueInRange(d,0,255);this.oGreenField.setValue(d);this._processRGBChanges();this._updateColorStringProperty(true,true);};j.prototype._handleBlueValueChange=function(){var d=parseInt(this.oBlueField.getValue(),10);d=this._getValueInRange(d,0,255);this.oBlueField.setValue(d);this._processRGBChanges();this._updateColorStringProperty(true,true);};j.prototype._processHSVChanges=function(){var d=parseInt(this.oHueField.getValue(),10);var i=parseInt(this.oSatField.getValue(),10);var v=parseInt(this.oValField.getValue(),10);this._calculateRGB(d,i,v);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this._calculateHEX(this.Color.r,this.Color.g,this.Color.b);this.oHexField.setValue(this.sHexString);this.Color.hex="#"+this.oHexField.getValue();this.Color.h=d;this.Color.s=i;this.Color.v=v;this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);this.oValField.setValue(this.Color.v);this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateSelColorBackground();};j.prototype._processHSLChanges=function(){var i=parseInt(this.oHueField.getValue(),10),S=parseInt(this.oSatField.getValue(),10),d=parseInt(this.oLitField.getValue(),10);if(i>360){i%=360;}this._calculateRGB(i,S,d);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this._calculateHEX(this.Color.r,this.Color.g,this.Color.b);this.oHexField.setValue(this.sHexString);this.Color.hex="#"+this.oHexField.getValue();this.Color.h=i;this.Color.s=S;this.Color.l=d;this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);this.oLitField.setValue(this.Color.l);this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground();};j.prototype._processRGBChanges=function(){var d=Math.round(parseInt(this.oRedField.getValue(),10)),i=Math.round(parseInt(this.oGreenField.getValue(),10)),m=Math.round(parseInt(this.oBlueField.getValue(),10)),p=(d+i+m)===765;this._calculateHEX(d,i,m);this.oHexField.setValue(this.sHexString);if(this._bHSLMode){this._calculateHSL(d,i,m);this.oLitField.setValue(this.Color.l);}else{if(!p){this._calculateHSV(d,i,m);}this.oValField.setValue(this.Color.v);}if(!p){this.oHueField.setValue(this.Color.h);}this.oSatField.setValue(this.Color.s);this.oSlider.setValue(parseInt(this.oHueField.getValue(),10));this.Color.r=d;this.Color.g=i;this.Color.b=m;this.Color.hex="#"+this.oHexField.getValue();this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateSelColorBackground();};j.prototype._handleHexValueChange=function(){var d=this.oHexField.getValue().toLowerCase(),i=1,m;if(d.substr(0,1)==='#'){d=d.substr(1);}m=/^([0-9a-fA-F]{8})$/;if(m.test(d)!==false){i=Number((parseInt(d.substr(6,2),16)/255).toFixed(2));d=d.substr(0,6);}m=/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;if(m.test(d)===false){this.oHexField.setValueState(g.Error);this.oSlider.setEnabled(false);this.oAlphaSlider.setEnabled(false);this.oHueField.setEnabled(false);this.oRedField.setEnabled(false);this.oGreenField.setEnabled(false);this.oBlueField.setEnabled(false);this.oSatField.setEnabled(false);if(this._bHSLMode){this.oLitField.setEnabled(false);this.oAlphaField.setEnabled(false);}else{this.oValField.setEnabled(false);}return;}else if(this.oHexField.getValueState()===g.Error){this.oHexField.setValueState(g.None);this.oSlider.setEnabled(true);this.oAlphaSlider.setEnabled(true);this.oHueField.setEnabled(true);this.oRedField.setEnabled(true);this.oGreenField.setEnabled(true);this.oBlueField.setEnabled(true);this.oSatField.setEnabled(true);if(this._bHSLMode){this.oLitField.setEnabled(true);this.oAlphaField.setEnabled(true);}else{this.oValField.setEnabled(true);}}if(d.length===3){d=d.charAt(0)+d.charAt(0)+d.charAt(1)+d.charAt(1)+d.charAt(2)+d.charAt(2);}this._processHexChanges(d);this.oHexField.setValue(d);this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);if(this._bHSLMode){this.oLitField.setValue(this.Color.l);this.oAlphaField.setValue(1);}else{this.oValField.setValue(this.Color.v);}this.oSlider.setValue(parseInt(this.oHueField.getValue(),10));this.oAlphaSlider.setValue(i);this.Color.a=i;if(this._bHSLMode){this.oAlphaField.setValue(i);}this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateSelColorBackground();this._updateColorStringProperty(true,true);};j.prototype._processHexChanges=function(d){this._convertRGB(d);if(this._bHSLMode){this._calculateHSL(this.Color.r,this.Color.g,this.Color.b);}else{this._calculateHSV(this.Color.r,this.Color.g,this.Color.b);}this.Color.hex="#"+d.toLowerCase();};j.prototype._updateAlphaBackground=function(){var d=[this.Color.r,this.Color.g,this.Color.b].join(","),n=B+"(left,rgba("+d+",0),rgba("+d+",1)),url("+s+")";if(this.lastAlphaSliderGradient!==n){this.oAlphaSlider.$().find(this.bResponsive?".sapMSliderInner":".sapUiSliBar").css("background-image",n);this.lastAlphaSliderGradient=n;}};j.prototype._updateCursorPosition=function(){var x,y;if(!this._iCPBoxSize){return;}if(this._bHSLMode){x=Math.round(this.oLitField.getValue()*this._iCPBoxSize/100.0);}else{x=Math.round(this.oValField.getValue()*this._iCPBoxSize/100.0);}if(this.bRtl){x=this._iCPBoxSize-x;}y=Math.round((1-this.oSatField.getValue()/100.0)*this._iCPBoxSize);x=Math.round(Math.max(x,0)-this._iCPCursorSize/2.0-1.0);y=Math.round(Math.max(y,0)-this._iCPCursorSize/2.0-1.0);this.$CPCur.css("left",x).css("top",y);};j.prototype._calculateRGB=function(d,S,v){var m,n,p,M,x,C,i;if(this._bHSLMode){this._calculateRGBAdvanced(d,S,v);return;}d%=360;d/=60;S/=100;v/=100;C=v*S;x=C*(1-Math.abs(d%2-1));M=v-C;m=0;n=0;p=0;i=Math.floor(d);switch(i){case 0:m=C;n=x;break;case 1:m=x;n=C;break;case 2:n=C;p=x;break;case 3:n=x;p=C;break;case 4:m=x;p=C;break;case 5:m=C;p=x;break;default:m=0;p=0;n=0;break;}this.RGB.r=Math.floor((m+M)*255);this.RGB.g=Math.floor((n+M)*255);this.RGB.b=Math.floor((p+M)*255);};j.prototype._calculateRGBAdvanced=function(d,S,m){var n,p,t,M,u,x,v,w,i;d=this._getValueInRange(d,0,360);if(S>100){S=1;}else if(S<0){S=0;}else{S=S/100;}if(m>100){m=1;}else if(m<0){m=0;}else{m=m/100;}w=S*(1-Math.abs(2*m-1));v=255*(m-0.5*w);x=w*(1-Math.abs((d/60)%2-1));i=Math.floor(d/60);u=v+255*x;M=v+255*w;switch(i){case 0:n=M;p=u;t=v;break;case 1:n=u;p=M;t=v;break;case 2:n=v;p=M;t=u;break;case 3:n=v;p=u;t=M;break;case 4:n=u;p=v;t=M;break;case 5:n=M;p=v;t=u;break;default:n=0;p=0;t=0;break;}this.RGB.r=Math.round(n);this.RGB.g=Math.round(p);this.RGB.b=Math.round(t);};j.prototype._getCSSColorString=function(){if(this.Color.formatHSL){if(this.Color.a<1){return"hsla("+this.Color.h+","+this.Color.s+"%,"+this.Color.l+"%, "+this.Color.a+")";}else{return"hsl("+this.Color.h+","+this.Color.s+"%,"+this.Color.l+"%)";}}if(this.Color.a<1){return"rgba("+this.Color.r+","+this.Color.g+","+this.Color.b+", "+this.Color.a+")";}else{return"rgb("+this.Color.r+","+this.Color.g+","+this.Color.b+")";}};j.prototype._calculateHEX=function(i,d,m){var n=i.toString(16),p=d.toString(16),t=m.toString(16);if(n.length===1){n='0'+n;}if(p.length===1){p='0'+p;}if(t.length===1){t='0'+t;}this.sHexString=(n+p+t).toLowerCase();};j.prototype._calculateHSV=function(i,d,m){var n=Math.max(Math.max(i,d),m),p=Math.min(Math.min(i,d),m),t=n-p,v=Math.round(n*100/255),u=n===0.0?0:(100*t/n),w=0;if(u===0){w=0;}else if(i===n){w=60.0*(d-m)/t;}else if(d===n){w=120.0+60.0*(m-i)/t;}else if(m===n){w=240.0+60.0*(i-d)/t;}if(w<0.0){w+=359.9;}w=Math.round(w);u=Math.round(u);this.Color.h=w;this.Color.s=u;this.Color.v=v;};j.prototype._calculateHSL=function(i,m,n){var p=Math.max(i,m,n),t=Math.min(i,m,n),d=(p-t)/255,u=(p+t)/510,v=1-Math.abs(2*u-1),w=(u===0.0)?0:d/v,x=(v!==0)?w:0,y=0;u=Math.round(u*100);x=Math.round(x*100);if(u===0||x===0||(i+m+n===765)){y=0;}else{var C=p-t;if(p===i){y=((m-n)/C)%6;}if(p===m){y=(n-i)/C+2;}if(p===n){y=(i-m)/C+4;}if(C===0){y=0;}y*=60;if(y<0){y+=360;}}this.Color.h=Math.round(y);this.Color.s=x;this.Color.l=u;};j.prototype._convertRGB=function(d){this.Color.r=parseInt(d.substr(0,2),16);this.Color.g=parseInt(d.substr(2,2),16);this.Color.b=parseInt(d.substr(4,2),16);};j.prototype._updateGradientBoxBackground=function(i){if(this._bHSLMode){this._calculateRGBAdvanced(i,100,50);}else{this._calculateRGB(i,100,100);}this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.$CPBox.css('background-color','rgb('+[this.RGB.r,this.RGB.g,this.RGB.b].join(",")+')');};j.prototype._updateSelColorBackground=function(){this.$("ncBox").css('background-color',this._getCSSColorString());};j.prototype._parseColorString=function(C,d){var i;if(C.substr(0,1)==='#'){C=C.substr(1);}C=C.trim().toLowerCase();i=this._parseColorName(C);if(i){if(d){return true;}if(i.length===8){this.Color.a=this.Color.oldA=Number((parseInt(i.substr(6,2),16)/255).toFixed(2));i=i.substring(0,6);}this._processHexChanges(i);this.Color.old=this.Color.hex;if(this._bHSLMode){this.Color.formatHSL=false;}return true;}if(/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(C)){if(d){return true;}if(C.length===3){i=C[0]+C[0]+C[1]+C[1]+C[2]+C[2];}else{i=C;}this._processHexChanges(i);this.Color.old=this.Color.hex;if(this._bHSLMode){this.Color.formatHSL=false;}return true;}if(C.substr(0,3)==='rgb'){return this._parseRGB(C,d);}if(this._bHSLMode){return this._parseHSL(C,d);}else if(C.substr(0,3)==='hsv'){return this._parseHSV(C,d);}return false;};j.prototype._parseHSV=function(C,d){var i=/^(((\d{1,2})|([1,2]\d{2})|(3[0-5]\d)|(360)),)(((\d{1,2})|(100)),)((\d{1,2})|(100))$/,m,n,S,v;C=C.substr(3).replace("(",'').replace(")",'').split(' ').join('');if(i.test(C)===true){if(d){return true;}m=C.split(",");n=parseInt(m[0],10);S=parseInt(m[1],10);v=parseInt(m[2],10);this._calculateRGB(n,S,v);this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.Color.h=n;this.Color.s=S;this.Color.v=v;this.Color.hex="#"+this.sHexString;this.Color.old=this.Color.hex;return true;}return false;};j.prototype._parseHSL=function(C,d){var i,m=C.substr(0,4),n,p,S,t,A;if(m==="hsla"){n=true;}else if(m==="hsl("){n=false;}else{return false;}C=C.substr(n?4:3).replace("(",'').replace(")",'').split(' ').join('');i=C.split(",");p=parseInt(i[0],10);S=parseFloat(i[1]);t=parseFloat(i[2]);if(n){A=parseFloat(i[3]);}else{if(i[3]&&parseFloat(i[3])>=0){return false;}A=1;}S=(S<1&&S>0)?S*100:S;t=(t<1&&t>0)?t*100:t;if((p>=0&&p<=360)&&(S>=0&&S<=100)&&(t>=0&&t<=100)&&(A>=0&&A<=1)){if(d){return true;}this._calculateRGB(p,S,t);this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.Color.h=p;this.Color.s=S;this.Color.l=t;this.Color.hex="#"+this.sHexString;this.Color.old=this.Color.hex;this.Color.a=this.Color.oldA=A;this.Color.formatHSL=true;}else{return false;}return true;};j.prototype._parseRGB=function(C,d){var v,i,m,n;i=C.substring(0,4);if(i==="rgba"){n=/^(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),){2}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),)([0]|([0]\.[0-9]+)|(\.[0-9]+)|[1])$/;m=true;}else if(i.substring(0,3)==="rgb"){n=/^(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),){2}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])))$/;m=false;}else{return false;}C=C.substr(m?4:3).replace("(",'').replace(")",'').split(' ').join('');if(n.test(C)){if(d){return true;}v=C.split(",");this._calculateHEX(parseInt(v[0],10),parseInt(v[1],10),parseInt(v[2],10));this._processHexChanges(this.sHexString);this.Color.old=this.Color.hex;if(m){this.Color.a=this.Color.oldA=parseFloat(v[3]);}return true;}if(this._bHSLMode){this.Color.formatHSL=false;}return false;};j.prototype._parseColorName=function(C){return k.Colors[C];};j.prototype.onAfterRendering=function(){var d=this._getCSSColorString();this.$CPBox=this.oCPBox.$();this.$CPCur=this.oCPBox.getHandle();this.$("ncBox").css('background-color',d);this.$("ocBox").css('background-color',d);this._updateGradientBoxBackground(this.Color.h);this._iCPBoxSize=this.oCPBox.getWidth();this._updateCursorPosition();if(this._bHSLMode){this._updateAlphaBackground();}this.oSlider.iShiftGrip=Math.round(q(this.oSlider.oGrip).outerWidth()/2);this.oAlphaSlider.iShiftGrip=Math.round(q(this.oAlphaSlider.oGrip).outerWidth()/2);};j.prototype.getRGB=function(){return{r:this.Color.r,g:this.Color.g,b:this.Color.b};};j.prototype._getConstants=function(){return k;};return j;});};if(!jQuery.sap.isDeclared('sap.ui.unified.ContentSwitcher')){jQuery.sap.declare('sap.ui.unified.ContentSwitcher');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/ui/unified/ContentSwitcher",['jquery.sap.global','sap/ui/core/Control','./library'],function(q,C,l){"use strict";var a=l.ContentSwitcherAnimation;var b=C.extend("sap.ui.unified.ContentSwitcher",{metadata:{deprecated:true,library:"sap.ui.unified",properties:{animation:{type:"string",group:"Appearance",defaultValue:'None'},activeContent:{type:"int",group:"Behavior",defaultValue:1}},aggregations:{content1:{type:"sap.ui.core.Control",multiple:true,singularName:"content1"},content2:{type:"sap.ui.core.Control",multiple:true,singularName:"content2"}}}});(function(w){b.prototype.init=function(){};b.prototype.switchContent=function(){this.setActiveContent(this.getActiveContent()==1?2:1);return this;};b.prototype.onAfterRendering=function(){this._$Contents=[this.$("content1"),this.$("content2")];};b.prototype._showActiveContent=function(n){if(this._$Contents){this._$Contents[0].toggleClass("sapUiUfdCSwitcherVisible",n===1);this._$Contents[1].toggleClass("sapUiUfdCSwitcherVisible",n===2);}};b.prototype.setActiveContent=function(n){n=parseInt(n,10);if(isNaN(n)||n<1){n=1;q.sap.log.warning("setActiveContent argument must be either 1 or 2. Active content set to 1.");}else if(n>2){n=2;q.sap.log.warning("setActiveContent argument must be either 1 or 2. Active content set to 2.");}this.setProperty("activeContent",n,true);this._showActiveContent(n);return this;};b.prototype.setAnimation=function(A,s){if(typeof(A)!=="string"){A=a.None;q.sap.log.warning("setAnimation argument must be a string. Animation was set to \""+a.None+"\".");}A=A.replace(/[^a-zA-Z0-9]/g,"");var c=this.getProperty("animation");if(A===c){return this;}var d=this.$();if(d[0]){d.toggleClass("sapUiUfdCSwitcherAnimation"+c,false);d.toggleClass("sapUiUfdCSwitcherAnimation"+A,true);}return this.setProperty("animation",A,s);};})(window);return b;});};if(!jQuery.sap.isDeclared('sap.ui.unified.ContentSwitcherRenderer')){jQuery.sap.declare('sap.ui.unified.ContentSwitcherRenderer');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/ui/unified/ContentSwitcherRenderer",['jquery.sap.global','sap/ui/unified/library'],function(q,l){"use strict";var C=l.ContentSwitcherAnimation;var a={};a.render=function(r,c){var i=c.getId();var A=c.getAnimation();if(!sap.ui.getCore().getConfiguration().getAnimation()){A=C.None;}var b=c.getActiveContent();r.write("<div");r.writeControlData(c);r.addClass("sapUiUfdCSwitcher");r.addClass("sapUiUfdCSwitcherAnimation"+q.sap.encodeHTML(A));r.writeClasses();r.write(">");r.write("<section id=\""+i+"-content1\" class=\"sapUiUfdCSwitcherContent sapUiUfdCSwitcherContent1"+(b==1?" sapUiUfdCSwitcherVisible":"")+"\">");this.renderContent(r,c.getContent1());r.write("</section>");r.write("<section id=\""+i+"-content2\" class=\"sapUiUfdCSwitcherContent sapUiUfdCSwitcherContent2"+(b==2?" sapUiUfdCSwitcherVisible":"")+"\">");this.renderContent(r,c.getContent2());r.write("</section>");r.write("</div>");};a.renderContent=function(r,c){for(var i=0;i<c.length;++i){r.renderControl(c[i]);}};return a;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.DateRange')){jQuery.sap.declare('sap.ui.unified.DateRange');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/ui/unified/DateRange",['sap/ui/core/Element','./library','sap/ui/unified/calendar/CalendarUtils'],function(E,l,C){"use strict";var D=E.extend("sap.ui.unified.DateRange",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Misc",defaultValue:null},endDate:{type:"object",group:"Misc",defaultValue:null}}}});D.prototype.setStartDate=function(d){if(d){C._checkJSDateObject(d);var y=d.getFullYear();C._checkYearInValidRange(y);}this.setProperty("startDate",d);return this;};D.prototype.setEndDate=function(d){if(d){C._checkJSDateObject(d);var y=d.getFullYear();C._checkYearInValidRange(y);}this.setProperty("endDate",d);return this;};return D;});};if(!jQuery.sap.isDeclared('sap.ui.unified.DateTypeRange')){jQuery.sap.declare('sap.ui.unified.DateTypeRange');sap.ui.define("sap/ui/unified/DateTypeRange",['./DateRange','./library'],function(D,l){"use strict";var C=l.CalendarDayType;var a=D.extend("sap.ui.unified.DateTypeRange",{metadata:{library:"sap.ui.unified",properties:{type:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:C.Type01}}}});return a;});};if(!jQuery.sap.isDeclared('sap.ui.unified.FileUploader')){jQuery.sap.declare('sap.ui.unified.FileUploader');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.core.LabelEnablement');jQuery.sap.require('sap.ui.core.library');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('jquery.sap.keycodes');sap.ui.define("sap/ui/unified/FileUploader",['jquery.sap.global','sap/ui/core/Control','./library','sap/ui/core/LabelEnablement','sap/ui/core/library','sap/ui/Device','jquery.sap.keycodes'],function(q,C,a,L,c,D){"use strict";var V=c.ValueState;var F=C.extend("sap.ui.unified.FileUploader",{metadata:{interfaces:["sap.ui.core.IFormContent","sap.ui.unified.IProcessableBlobs"],library:"sap.ui.unified",properties:{value:{type:"string",group:"Data",defaultValue:''},enabled:{type:"boolean",group:"Behavior",defaultValue:true},uploadUrl:{type:"sap.ui.core.URI",group:"Data",defaultValue:''},name:{type:"string",group:"Data",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:''},uploadOnChange:{type:"boolean",group:"Behavior",defaultValue:false},additionalData:{type:"string",group:"Data",defaultValue:null},sameFilenameAllowed:{type:"boolean",group:"Behavior",defaultValue:false},buttonText:{type:"string",group:"Misc",defaultValue:null},fileType:{type:"string[]",group:"Data",defaultValue:null},multiple:{type:"boolean",group:"Behavior",defaultValue:false},maximumFileSize:{type:"float",group:"Data",defaultValue:null},mimeType:{type:"string[]",group:"Data",defaultValue:null},sendXHR:{type:"boolean",group:"Behavior",defaultValue:false},placeholder:{type:"string",group:"Appearance",defaultValue:null},style:{type:"string",group:"Appearance",defaultValue:null},buttonOnly:{type:"boolean",group:"Appearance",defaultValue:false},useMultipart:{type:"boolean",group:"Behavior",defaultValue:true},maximumFilenameLength:{type:"int",group:"Data",defaultValue:null},valueState:{type:"sap.ui.core.ValueState",group:"Data",defaultValue:V.None},valueStateText:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:''},iconHovered:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:''},iconSelected:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:''},iconFirst:{type:"boolean",group:"Appearance",defaultValue:true},iconOnly:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{parameters:{type:"sap.ui.unified.FileUploaderParameter",multiple:true,singularName:"parameter"},headerParameters:{type:"sap.ui.unified.FileUploaderParameter",multiple:true,singularName:"headerParameter"},xhrSettings:{type:"sap.ui.unified.FileUploaderXHRSettings",multiple:false}},events:{change:{parameters:{newValue:{type:"string"},files:{type:"object[]"}}},uploadComplete:{parameters:{fileName:{type:"string"},response:{type:"string"},readyStateXHR:{type:"string"},status:{type:"string"},responseRaw:{type:"string"},headers:{type:"object"},requestHeaders:{type:"object[]"}}},typeMissmatch:{parameters:{fileName:{type:"string"},fileType:{type:"string"},mimeType:{type:"string"}}},fileSizeExceed:{parameters:{fileName:{type:"string"},fileSize:{type:"string"}}},fileAllowed:{},uploadProgress:{parameters:{lengthComputable:{type:"boolean"},loaded:{type:"float"},total:{type:"float"},fileName:{type:"string"},requestHeaders:{type:"object[]"}}},uploadAborted:{parameters:{fileName:{type:"string"},requestHeaders:{type:"object[]"}}},filenameLengthExceed:{parameters:{fileName:{type:"string"}}},uploadStart:{parameters:{fileName:{type:"string"},requestHeaders:{type:"object[]"}}}}}});F.prototype.init=function(){this.oFilePath=a.FileUploaderHelper.createTextField(this.getId()+"-fu_input");this.oBrowse=a.FileUploaderHelper.createButton();this.oFilePath.setParent(this);this.oBrowse.setParent(this);this.oFileUpload=null;this.bMobileLib=this.oBrowse.getMetadata().getName()=="sap.m.Button";if(!this.getIconOnly()){this.oBrowse.setText(this.getBrowseText());}else{this.oBrowse.setTooltip(this.getBrowseText());}if(sap.ui.getCore().getConfiguration().getAccessibility()){if(!F.prototype._sAccText){var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");F.prototype._sAccText=r.getText("FILEUPLOAD_ACC");}if(this.oBrowse.addAriaDescribedBy){this.oBrowse.addAriaDescribedBy(this.getId()+"-AccDescr");}}};F.prototype.setButtonText=function(t){this.setProperty("buttonText",t,false);if(!this.getIconOnly()){this.oBrowse.setText(t||this.getBrowseText());}else{this.oBrowse.setTooltip(t||this.getBrowseText());}return this;};F.prototype.setIcon=function(i){this.oBrowse.setIcon(i);this.setProperty("icon",i,false);return this;};F.prototype.setIconHovered=function(i){this.setProperty("iconHovered",i,false);if(this.oBrowse.setIconHovered){this.oBrowse.setIconHovered(i);}return this;};F.prototype.setIconSelected=function(i){this.setProperty("iconSelected",i,false);if(this.oBrowse.setIconSelected){this.oBrowse.setIconSelected(i);}else{this.oBrowse.setActiveIcon(i);}return this;};F.prototype.setIconFirst=function(i){this.oBrowse.setIconFirst(i);this.setProperty("iconFirst",i,false);return this;};F.prototype.setIconOnly=function(i){this.setProperty("iconOnly",i,false);if(i){this.oBrowse.setText("");this.oBrowse.setTooltip(this.getButtonText()||this.getBrowseText());}else{this.oBrowse.setText(this.getButtonText()||this.getBrowseText());this.oBrowse.setTooltip("");}return this;};F.prototype.getIdForLabel=function(){return this.oBrowse.getId();};F.prototype.setFileType=function(t){var T=this._convertTypesToArray(t);this.setProperty("fileType",T,false);return this;};F.prototype.setMimeType=function(t){var T=this._convertTypesToArray(t);this.setProperty("mimeType",T,false);return this;};F.prototype.setTooltip=function(t){var T,s;this._refreshTooltipBaseDelegate(t);this.setAggregation("tooltip",t,true);if(this.oFileUpload){if(typeof t==="string"){T=this.getTooltip_AsString();s=this.$().find(".sapUiFupInputMask")[0];if(T){this.oFileUpload.setAttribute("title",T);s&&s.setAttribute("title",T);}else{this.oFileUpload.removeAttribute("title");s&&s.removeAttribute("title");}}}return this;};F.prototype.setXhrSettings=function(x){this.setAggregation("xhrSettings",x,true);return this;};F.prototype._convertTypesToArray=function(t){if(typeof t==="string"){if(t===""){return[];}else{return t.split(",").map(function(T){return T.trim();});}}return t;};F.prototype.exit=function(){this.oFilePath.destroy();this.oBrowse.destroy();if(this.oIFrameRef){q(this.oIFrameRef).unbind();sap.ui.getCore().getStaticAreaRef().removeChild(this.oIFrameRef);this.oIFrameRef=null;}};F.prototype.onBeforeRendering=function(){var s=sap.ui.getCore().getStaticAreaRef();q(this.oFileUpload).appendTo(s);q(this.oFileUpload).unbind();};F.prototype.onAfterRendering=function(){this.prepareFileUploadAndIFrame();this._cacheDOMEls();this._addLabelFeaturesToBrowse();q(this.oFileUpload).change(q.proxy(this.handlechange,this));if(!this.bMobileLib){this.oFilePath.$().attr("tabindex","-1");}else{this.oFilePath.$().find('input').attr("tabindex","-1");}if((!!D.browser.internet_explorer&&D.browser.version==9)){this.oBrowse.$().attr("tabindex","-1");}if(L.isRequired(this)){this.oBrowse.$().attr("aria-required","true");}q.sap.delayedCall(0,this,this._recalculateWidth);this.oFilePath.$().find('input').removeAttr("role").attr("aria-live","polite");if(this.getValueState()==V.Error){this.oBrowse.$().attr("aria-invalid","true");}};F.prototype._cacheDOMEls=function(){this.FUEl=this.getDomRef("fu");this.FUDataEl=this.getDomRef("fu_data");};F.prototype.onfocusin=function(e){if(!this.oFilePath.shouldValueStateMessageBeOpened||this.oFilePath.shouldValueStateMessageBeOpened()){this.openValueStateMessage();}};F.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!q.sap.containsOrEquals(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){this.closeValueStateMessage();}};F.prototype._recalculateWidth=function(){if(this.getWidth()){if(this.getButtonOnly()&&this.oBrowse.getDomRef()){this.oBrowse.getDomRef().style.width=this.getWidth();}this._resizeDomElements();}};F.prototype.getFocusDomRef=function(){return this.$("fu").get(0);};F.prototype._resizeDomElements=function(){var i=this.getId();this._oBrowseDomRef=this.oBrowse.getDomRef();var $=q(this._oBrowseDomRef);var _=$.parent().outerWidth(true);this._oFilePathDomRef=this.oFilePath.getDomRef();var d=this._oFilePathDomRef;var w=this.getWidth();if(w.substr(-1)=="%"&&d){while(d.id!=i){d.style.width="100%";d=d.parentNode;}d.style.width=w;}else{if(d){d.style.width=w;var b=q(this._oFilePathDomRef);var e=b.outerWidth()-_;if(e<0){this.oFilePath.getDomRef().style.width="0px";if(!D.browser.internet_explorer){this.oFileUpload.style.width=$.outerWidth(true);}}else{this.oFilePath.getDomRef().style.width=e+"px";}}}};F.prototype.onresize=function(){this._recalculateWidth();};F.prototype.onThemeChanged=function(){this._recalculateWidth();};F.prototype.setEnabled=function(e){var $=q(this.oFileUpload);this.setProperty("enabled",e,true);this.oFilePath.setEnabled(e);this.oBrowse.setEnabled(e);e?$.removeAttr('disabled'):$.attr('disabled','disabled');this.$().toggleClass("sapUiFupDisabled",!e);return this;};F.prototype.setValueState=function(v){this.setProperty("valueState",v,true);if(this.oFilePath.setValueState){this.oFilePath.setValueState(v);}else{q.sap.log.warning("Setting the valueState property with the combination of libraries used is not supported.",this);}if(this.oBrowse.getDomRef()){if(v==V.Error){this.oBrowse.$().attr("aria-invalid","true");}else{this.oBrowse.$().removeAttr("aria-invalid");}}if(q.sap.containsOrEquals(this.getDomRef(),document.activeElement)){switch(v){case V.Error:case V.Warning:case V.Success:this.openValueStateMessage();break;default:this.closeValueStateMessage();}}return this;};F.prototype.setValueStateText=function(v){if(this.oFilePath.setValueStateText){this.oFilePath.setValueStateText(v);}else{q.sap.log.warning("Setting the valueStateText property with the combination of libraries used is not supported.",this);}return this.setProperty("valueStateText",v,true);};F.prototype.setUploadUrl=function(v,f){this.setProperty("uploadUrl",v,true);var $=this.$("fu_form");$.attr("action",this.getUploadUrl());return this;};F.prototype.setPlaceholder=function(p){this.setProperty("placeholder",p,true);this.oFilePath.setPlaceholder(p);return this;};F.prototype.setStyle=function(s){this.setProperty("style",s,true);if(s){if(s=="Transparent"){if(this.oBrowse.setLite){this.oBrowse.setLite(true);}else{this.oBrowse.setType("Transparent");}}else{if(this.oBrowse.setType){this.oBrowse.setType(s);}else{if(s=="Emphasized"){s="Emph";}this.oBrowse.setStyle(s);}}}return this;};F.prototype.setValue=function(v,f,s){var o=this.getValue();var b;if((o!=v)||this.getSameFilenameAllowed()){var u=this.getUploadOnChange()&&v;this.setProperty("value",v,u);if(this.oFilePath){this.oFilePath.setValue(v);if(this.oBrowse.getDomRef()&&!s&&q.sap.containsOrEquals(this.getDomRef(),document.activeElement)){this.oBrowse.focus();}}var d=this.getDomRef("fu_form"),e=this.getDomRef("fu_input-inner");if(this.oFileUpload&&d&&!v){d.reset();this.getDomRef("fu_input").value="";if(e){e.value="";}q(this.FUDataEl).val(this.getAdditionalData());}if(f){if(window.File){b=this.FUEl.files;}if(!this.getSameFilenameAllowed()||v){this.fireChange({id:this.getId(),newValue:v,files:b});}}if(u){this.upload();}}return this;};F.prototype.clear=function(){var u=this.getDomRef("fu_form");if(u){u.reset();}return this.setValue("",false,true);};F.prototype.onmousedown=function(e){if(!this.bMobileLib){this.oBrowse.onmousedown(e);}};F.prototype.onmouseup=function(e){if(!this.bMobileLib){this.oBrowse.onmouseup(e);}};F.prototype.onmouseover=function(e){if(!this.bMobileLib){q(this.oBrowse.getDomRef()).addClass('sapUiBtnStdHover');this.oBrowse.onmouseover(e);}};F.prototype.onmouseout=function(e){if(!this.bMobileLib){q(this.oBrowse.getDomRef()).removeClass('sapUiBtnStdHover');this.oBrowse.onmouseout(e);}};F.prototype.setAdditionalData=function(A){this.setProperty("additionalData",A,true);var o=this.FUDataEl;if(o){A=this.getAdditionalData()||"";o.value=A;}return this;};F.prototype.sendFiles=function(x,I){var t=this;var A=true;for(var i=0;i<x.length;i++){if(!x[i].bPosted){A=false;break;}}if(A){if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){t.setValue("",true);}return;}var X=x[I];var f=X.file.name?X.file.name:"MultipartFile";if((D.browser.edge||D.browser.internet_explorer)&&X.file.type&&X.xhr.readyState==1){var s=X.file.type;X.xhr.setRequestHeader("Content-Type",s);X.requestHeaders.push({name:"Content-Type",value:s});}var r=X.requestHeaders;var p=function(P){var o={lengthComputable:!!P.lengthComputable,loaded:P.loaded,total:P.total};t.fireUploadProgress({"lengthComputable":o.lengthComputable,"loaded":o.loaded,"total":o.total,"fileName":f,"requestHeaders":r});};X.xhr.upload.addEventListener("progress",p);X.xhr.onreadystatechange=function(){var R;var b;var h={};var P;var H;var d;var e;e=X.xhr.readyState;var S=X.xhr.status;if(X.xhr.readyState==4){if(X.xhr.responseXML){R=X.xhr.responseXML.documentElement.textContent;}b=X.xhr.response;P=X.xhr.getAllResponseHeaders();if(P){H=P.split("\u000d\u000a");for(var i=0;i<H.length;i++){if(H[i]){d=H[i].indexOf("\u003a\u0020");h[H[i].substring(0,d)]=H[i].substring(d+2);}}}t.fireUploadComplete({"fileName":f,"headers":h,"response":R,"responseRaw":b,"readyStateXHR":e,"status":S,"requestHeaders":r});}t._bUploading=false;};if(X.xhr.readyState===0||X.bPosted){I++;t.sendFiles(x,I);}else{X.xhr.send(X.file);X.bPosted=true;I++;t.sendFiles(x,I);}};F.prototype.upload=function(p){if(!this.getEnabled()){return;}var u=this.getDomRef("fu_form");try{this._bUploading=true;if(this.getSendXHR()&&window.File){var f=this.FUEl.files;if(p){this._sendProcessedFilesWithXHR(f);}else{this._sendFilesWithXHR(f);}}else if(u){u.submit();this._resetValueAfterUploadStart();}}catch(e){q.sap.log.error("File upload failed:\n"+e.message);}};F.prototype.abort=function(h,v){if(!this.getUseMultipart()){var s=this._aXhr.length-1;for(var i=s;i>-1;i--){if(h&&v){for(var j=0;j<this._aXhr[i].requestHeaders.length;j++){var H=this._aXhr[i].requestHeaders[j].name;var b=this._aXhr[i].requestHeaders[j].value;if(H==h&&b==v){this._aXhr[i].xhr.abort();this.fireUploadAborted({"fileName":this._aXhr[i].fileName,"requestHeaders":this._aXhr[i].requestHeaders});this._aXhr.splice(i,1);q.sap.log.info("File upload aborted.");break;}}}else{this._aXhr[i].xhr.abort();this.fireUploadAborted({"fileName":this._aXhr[i].fileName,"requestHeaders":this._aXhr[i].requestHeaders});this._aXhr.splice(i,1);q.sap.log.info("File upload aborted.");}}}else if(this._uploadXHR&&this._uploadXHR.abort){this._uploadXHR.abort();this.fireUploadAborted({"fileName":null,"requestHeaders":null});q.sap.log.info("File upload aborted.");}};F.prototype.onkeypress=function(e){this.onkeydown(e);};F.prototype.onclick=function(e){if(this.getSameFilenameAllowed()&&this.getEnabled()){this.setValue("",true);}if(this.oBrowse.getDomRef()&&q.sap.containsOrEquals(this.getDomRef(),document.activeElement)){this.oBrowse.focus();}};F.prototype.onkeydown=function(e){if(!this.getEnabled()){return;}if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){this.setValue("",true);}var k=e.keyCode,b=q.sap.KeyCodes;if(k==b.DELETE||k==b.BACKSPACE){if(this.oFileUpload){this.setValue("",true);}}else if(k==b.SPACE||k==b.ENTER){if(!(!!D.browser.internet_explorer&&D.browser.version<=9)&&this.oFileUpload){this.oFileUpload.click();e.preventDefault();e.stopPropagation();}}else if(k!=b.TAB&&k!=b.SHIFT&&k!=b.F6&&k!=b.PAGE_UP&&k!=b.PAGE_DOWN&&k!=b.END&&k!=b.HOME&&k!=b.ARROW_LEFT&&k!=b.ARROW_UP&&k!=b.ARROW_RIGHT&&k!=b.ARROW_DOWN){e.preventDefault();e.stopPropagation();}};F.prototype._isFilenameTooLong=function(f){var m=this.getMaximumFilenameLength();if(m!==0&&f.length>m){q.sap.log.info("The filename of "+f+" ("+f.length+" characters)  is longer than the maximum of "+m+" characters.");return true;}return false;};F.prototype.handlechange=function(e){if(this.oFileUpload&&this.getEnabled()){var f=this.getFileType();var s='';var w,n,i,b;var u=this.getDomRef("fu_form");if(window.File){var d=e.target.files;if(this._areFilesAllowed(d)){this.fireFileAllowed();s=this._generateInputValue(d);}else{u.reset();this.setValue("",true,true);return;}}else if(f&&f.length>0){w=true;n=this.oFileUpload.value||"";i=n.lastIndexOf(".");b=n.substring(i+1);for(var l=0;l<f.length;l++){if(b==f[l]){w=false;}}if(w){q.sap.log.info("File: "+n+" is of type "+b+". Allowed types are: "+f+".");this.fireTypeMissmatch({fileName:n,fileType:b});u.reset();this.setValue("",true,true);return;}if(this._isFilenameTooLong(n)){this.fireFilenameLengthExceed({fileName:n});u.reset();this.setValue("",true,true);return;}if(n){this.fireFileAllowed();}}var v=this.oFileUpload.value||"";var I=v.lastIndexOf("\\");if(I>=0){v=v.substring(I+1);}if(this.getMultiple()){if(!(D.browser.internet_explorer&&D.browser.version<=9)){v=s;}}if(v||D.browser.chrome){this.setValue(v,true);}}};F.prototype._sendFilesWithXHR=function(f){var b,h,v,x,X=this.getXhrSettings();if(f.length>0){if(this.getUseMultipart()){b=1;}else{b=f.length;}this._aXhr=this._aXhr||[];for(var j=0;j<b;j++){this._uploadXHR=new window.XMLHttpRequest();x={xhr:this._uploadXHR,requestHeaders:[]};this._aXhr.push(x);x.xhr.open("POST",this.getUploadUrl(),true);if(X){x.xhr.withCredentials=X.getWithCredentials();}if(this.getHeaderParameters()){var H=this.getHeaderParameters();for(var i=0;i<H.length;i++){h=H[i].getName();v=H[i].getValue();x.requestHeaders.push({name:h,value:v});}}var s=f[j].name;var r=x.requestHeaders;x.fileName=s;x.file=f[j];this.fireUploadStart({"fileName":s,"requestHeaders":r});for(var k=0;k<r.length;k++){if(x.xhr.readyState===0){break;}h=r[k].name;v=r[k].value;x.xhr.setRequestHeader(h,v);}}if(this.getUseMultipart()){var d=new window.FormData();var n=this.FUEl.name;for(var l=0;l<f.length;l++){d.append(n,f[l],f[l].name);}d.append("_charset_","UTF-8");var e=this.FUDataEl.name;if(this.getAdditionalData()){var g=this.getAdditionalData();d.append(e,g);}else{d.append(e,"");}if(this.getParameters()){var p=this.getParameters();for(var m=0;m<p.length;m++){var N=p[m].getName();v=p[m].getValue();d.append(N,v);}}x.file=d;this.sendFiles(this._aXhr,0);}else{this.sendFiles(this._aXhr,0);}this._bUploading=false;this._resetValueAfterUploadStart();}return this;};F.prototype._sendProcessedFilesWithXHR=function(f){this.getProcessedBlobsFromArray(f).then(function(b){this._sendFilesWithXHR(b);}.bind(this)).catch(function(r){q.sap.log.error("File upload failed: "+r&&r.message?r.message:"no details available");});return this;};F.prototype._areFilesAllowed=function(f){var n,w,I,s,t,m=this.getMaximumFileSize(),M=this.getMimeType(),b=this.getFileType();for(var i=0;i<f.length;i++){n=f[i].name;t=f[i].type;if(!t){t="unknown";}var S=((f[i].size/1024)/1024);if(m&&(S>m)){q.sap.log.info("File: "+n+" is of size "+S+" MB which exceeds the file size limit of "+m+" MB.");this.fireFileSizeExceed({fileName:n,fileSize:S});return false;}if(this._isFilenameTooLong(n)){this.fireFilenameLengthExceed({fileName:n});return false;}if(M&&M.length>0){var W=true;for(var j=0;j<M.length;j++){if(t==M[j]||M[j]=="*/*"||t.match(M[j])){W=false;}}if(W){q.sap.log.info("File: "+n+" is of type "+t+". Allowed types are: "+M+".");this.fireTypeMissmatch({fileName:n,mimeType:t});return false;}}if(b&&b.length>0){w=true;I=n.lastIndexOf(".");s=n.substring(I+1);for(var k=0;k<b.length;k++){if(s.toLowerCase()==b[k].toLowerCase()){w=false;}}if(w){q.sap.log.info("File: "+n+" is of type "+s+". Allowed types are: "+b+".");this.fireTypeMissmatch({fileName:n,fileType:s});return false;}}}return true;};F.prototype._sendFilesFromDragAndDrop=function(f){if(this._areFilesAllowed(f)){this._sendFilesWithXHR(f);}return this;};F.prototype._generateInputValue=function(f){var s="";for(var i=0;i<f.length;i++){s=s+'"'+f[i].name+'" ';}return s;};F.prototype.getBrowseText=function(){if(!F.prototype._sBrowseText){var r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");F.prototype._sBrowseText=r.getText("FILEUPLOAD_BROWSE");}return F.prototype._sBrowseText?F.prototype._sBrowseText:"Browse...";};F.prototype.getShortenValue=function(){return this.getValue();};F.prototype.prepareFileUploadAndIFrame=function(){if(!this.oFileUpload){var f=[];f.push('<input ');f.push('type="file" ');f.push('aria-hidden="true" ');if(this.getName()){if(this.getMultiple()){if(!(D.browser.internet_explorer&&D.browser.version<=9)){f.push('name="'+this.getName()+'[]" ');}}else{f.push('name="'+this.getName()+'" ');}}else{if(this.getMultiple()){if(!(D.browser.internet_explorer&&D.browser.version<=9)){f.push('name="'+this.getId()+'[]" ');}}else{f.push('name="'+this.getId()+'" ');}}f.push('id="'+this.getId()+'-fu" ');if(!(!!D.browser.internet_explorer&&D.browser.version==9)){f.push('tabindex="-1" ');}f.push('size="1" ');if(this.getTooltip_AsString()){f.push('title="'+q.sap.encodeHTML(this.getTooltip_AsString())+'" ');}else if(this.getValue()!==""){f.push('title="'+q.sap.encodeHTML(this.getValue())+'" ');}if(!this.getEnabled()){f.push('disabled="disabled" ');}if(this.getMultiple()){if(!(D.browser.internet_explorer&&D.browser.version<=9)){f.push('multiple ');}}if(this.getMimeType()&&window.File){var m=this.getMimeType();var M=m.join(",");f.push('accept="'+M+'" ');}f.push('>');this.oFileUpload=q(f.join("")).prependTo(this.$().find(".sapUiFupInputMask")).get(0);}else{q(this.oFileUpload).prependTo(this.$().find(".sapUiFupInputMask"));}if(!this.oIFrameRef){var i=document.createElement("iframe");i.style.display="none";i.id=this.sId+"-frame";sap.ui.getCore().getStaticAreaRef().appendChild(i);i.contentWindow.name=this.sId+"-frame";var t=this;this._bUploading=false;q(i).load(function(e){if(t._bUploading){q.sap.log.info("File uploaded to "+t.getUploadUrl());var r;try{r=t.oIFrameRef.contentDocument.body.innerHTML;}catch(b){}t.fireUploadComplete({"response":r});t._bUploading=false;}});this.oIFrameRef=i;}};F.prototype.openValueStateMessage=function(){if(this.oFilePath.openValueStateMessage){this.oFilePath.openValueStateMessage();this.oBrowse.$().addAriaDescribedBy(this.oFilePath.getId()+"-message");}};F.prototype.closeValueStateMessage=function(){if(this.oFilePath.closeValueStateMessage){this.oFilePath.closeValueStateMessage();this.oBrowse.$().removeAriaDescribedBy(this.oFilePath.getId()+"-message");}};F.prototype._resetValueAfterUploadStart=function(){q.sap.log.info("File uploading to "+this.getUploadUrl());if(this.getSameFilenameAllowed()&&this.getUploadOnChange()&&this.getUseMultipart()){this.setValue("",true);}};F.prototype._addLabelFeaturesToBrowse=function(){var $;if(this.oBrowse&&this.oBrowse.$().length){$=this.oBrowse.$();$.attr("type', 'button");$.click(function(e){e.preventDefault();this.ontap();}.bind(this));}};F.prototype.getProcessedBlobsFromArray=function(b){return new Promise(function(r){r(b);});};return F;});};if(!jQuery.sap.isDeclared('sap.ui.unified.FileUploaderParameter')){jQuery.sap.declare('sap.ui.unified.FileUploaderParameter');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/ui/unified/FileUploaderParameter",['sap/ui/core/Element','./library'],function(E,l){"use strict";var F=E.extend("sap.ui.unified.FileUploaderParameter",{metadata:{library:"sap.ui.unified",properties:{name:{type:"string",group:"Data",defaultValue:null},value:{type:"string",group:"Data",defaultValue:null}}}});return F;});};if(!jQuery.sap.isDeclared('sap.ui.unified.FileUploaderRenderer')){jQuery.sap.declare('sap.ui.unified.FileUploaderRenderer');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/ui/unified/FileUploaderRenderer",['jquery.sap.global','sap/ui/unified/library'],function(q,l){"use strict";var F=function(){};F.render=function(r,f){var a=sap.ui.getCore().getConfiguration().getAccessibility(),e=f.getEnabled();r.write('<div');r.writeControlData(f);r.addClass("sapUiFup");if(f.getButtonOnly()){r.addClass("sapUiFupButtonOnly");}var c=l.FileUploaderHelper.addFormClass();if(c){r.addClass(c);}if(!e){r.addClass("sapUiFupDisabled");}r.writeClasses();r.write('>');r.write('<form style="display:inline-block" encType="multipart/form-data" method="post"');r.writeAttribute('id',f.getId()+'-fu_form');r.writeAttributeEscaped('action',f.getUploadUrl());r.writeAttribute('target',f.getId()+'-frame');r.write('>');r.write('<div ');if(!f.bMobileLib){r.write('class="sapUiFupInp"');}if(a){r.writeAttribute("role","textbox");r.writeAttribute("aria-readonly","true");}r.write('>');if(!f.getButtonOnly()){r.write('<div class="sapUiFupGroup" border="0" cellPadding="0" cellSpacing="0"><div><div>');}else{r.write('<div class="sapUiFupGroup" border="0" cellPadding="0" cellSpacing="0"><div><div style="display:none">');}r.renderControl(f.oFilePath);r.write('</div><div>');r.renderControl(f.oBrowse);var A;var t="";if(f.getTooltip()){t=f.getTooltip_AsString();}var p="";if(f.getPlaceholder()){p=f.getPlaceholder();}var v="";if(f.getValue()){v=f.getValue();}var b="";if(f.getButtonText()){b=f.getButtonText();}else{b=f.getBrowseText();}if(!v){A=t+" "+p+" "+b;}else{A=t+" "+v+" "+b;}r.write('<span id="'+f.getId()+'-AccDescr" class="sapUiInvisibleText" aria-hidden="true">');r.writeEscaped(A+" "+f._sAccText);r.write('</span>');r.write('</div></div></div>');var n=f.getName()||f.getId();r.write('<div class="sapUiFupInputMask"');if(t.length){r.writeAttributeEscaped('title',t);}r.write('>');r.write('<input type="hidden" name="_charset_" aria-hidden="true">');r.write('<input type="hidden" id="'+f.getId()+'-fu_data" aria-hidden="true"');r.writeAttributeEscaped('name',n+'-data');r.writeAttributeEscaped('value',f.getAdditionalData()||"");r.write('>');q.each(f.getParameters(),function(i,P){r.write('<input type="hidden" aria-hidden="true" ');r.writeAttributeEscaped('name',P.getName()||"");r.writeAttributeEscaped('value',P.getValue()||"");r.write('>');});r.write('</div>');r.write('</div>');r.write('</form>');r.write('</div>');};return F;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.FileUploaderXHRSettings')){jQuery.sap.declare('sap.ui.unified.FileUploaderXHRSettings');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/ui/unified/FileUploaderXHRSettings",['sap/ui/core/Element','./library'],function(E){"use strict";var F=E.extend("sap.ui.unified.FileUploaderXHRSettings",{metadata:{library:"sap.ui.unified",properties:{withCredentials:{type:"boolean",group:"Data",defaultValue:false}}}});return F;});};if(!jQuery.sap.isDeclared('sap.ui.unified.MenuItemBase')){jQuery.sap.declare('sap.ui.unified.MenuItemBase');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/ui/unified/MenuItemBase",['sap/ui/core/Element','./library'],function(E,l){"use strict";var M=E.extend("sap.ui.unified.MenuItemBase",{metadata:{library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},visible:{type:"boolean",group:"Behavior",defaultValue:true},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"submenu",aggregations:{submenu:{type:"sap.ui.unified.Menu",multiple:false}},events:{select:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}}});M.prototype.init=function(){};M.prototype.render=function(r,i,m){var a=r;a.write("<li");a.writeElementData(i);a.write("><div style=\"white-space:nowrap;display:inline-block;padding:1px;color:black;\" id=\""+this.getId()+"-txt\">");a.write(i.getId());if(this.getSubmenu()){a.write("&nbsp;&nbsp;->");}a.write("</div></li>");};M.prototype.hover=function(h,m){this.$("txt").attr("style",h?"white-space:nowrap;display:inline-block;padding:1px;color:red;":"white-space:nowrap;display:inline-block;padding:1px;color:black;");};M.prototype.onSubmenuToggle=function(o){this.$().toggleClass("sapUiMnuItmSubMnuOpen",o);};M.prototype.onAfterRendering=function(){};M.prototype.onmouseover=function(e){var p=this.getParent();if(p&&p instanceof sap.ui.unified.Menu&&this.getTooltip()instanceof sap.ui.core.TooltipBase){p.onmouseover(e);}};return M;});};if(!jQuery.sap.isDeclared('sap.ui.unified.MenuTextFieldItem')){jQuery.sap.declare('sap.ui.unified.MenuTextFieldItem');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.ValueStateSupport');jQuery.sap.require('sap.ui.core.library');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('jquery.sap.events');sap.ui.define("sap/ui/unified/MenuTextFieldItem",['jquery.sap.global','sap/ui/core/ValueStateSupport','./MenuItemBase','./library','sap/ui/core/library','sap/ui/Device','jquery.sap.events'],function(q,V,M,l,c,D){"use strict";var a=c.ValueState;var b=M.extend("sap.ui.unified.MenuTextFieldItem",{metadata:{library:"sap.ui.unified",properties:{label:{type:"string",group:"Appearance",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},value:{type:"string",group:"Misc",defaultValue:null},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:a.None}}}});(function(){b.prototype.render=function(r,i,m,I){var d=r,e=m.checkEnabled(i),f=i.getId();var C="sapUiMnuItm sapUiMnuTfItm";if(I.iItemNo==1){C+=" sapUiMnuItmFirst";}else if(I.iItemNo==I.iTotalItems){C+=" sapUiMnuItmLast";}if(!m.checkEnabled(i)){C+=" sapUiMnuItmDsbl";}if(i.getStartsSection()){C+=" sapUiMnuItmSepBefore";}d.write("<li ");d.writeAttribute("class",C);d.writeElementData(i);if(I.bAccessible){d.writeAttribute("role","menuitem");d.writeAttribute("aria-disabled",!e);d.writeAttribute("aria-posinset",I.iItemNo);d.writeAttribute("aria-setsize",I.iTotalItems);}d.write("><div class=\"sapUiMnuItmL\"></div>");d.write("<div class=\"sapUiMnuItmIco\">");if(i.getIcon()){d.writeIcon(i.getIcon(),null,{title:null});}d.write("</div>");d.write("<div id=\""+f+"-txt\" class=\"sapUiMnuItmTxt\">");d.write("<label id=\""+f+"-lbl\" class=\"sapUiMnuTfItemLbl\">");d.writeEscaped(i.getLabel()||"");d.write("</label>");d.write("<div id=\""+f+"-str\" class=\"sapUiMnuTfItmStretch\"></div>");d.write("<div class=\"sapUiMnuTfItemWrppr\">");d.write("<input id=\""+f+"-tf\" tabindex=\"-1\"");d.writeAttributeEscaped("value",i.getValue()||"");d.writeAttribute("class",e?"sapUiMnuTfItemTf sapUiMnuTfItemTfEnbl":"sapUiMnuTfItemTf sapUiMnuTfItemTfDsbl");if(!e){d.writeAttribute("disabled","disabled");}if(I.bAccessible){d.writeAccessibilityState(i,{role:"textbox",disabled:!e,multiline:false,autocomplete:"none",labelledby:{value:f+"-lbl",append:true}});}d.write("/></div></div>");d.write("<div class=\"sapUiMnuItmR\"></div>");d.write("</li>");};b.prototype.hover=function(h,m){this.$().toggleClass("sapUiMnuItmHov",h);if(h&&m.checkEnabled(this)){m.closeSubmenu(false,true);this.$("tf").focus();}};b.prototype.onAfterRendering=function(){this._adaptSizes();this.setValueState(this.getValueState());};b.prototype.onsapup=function(e){this.getParent().focus();this.getParent().onsapprevious(e);};b.prototype.onsapdown=function(e){this.getParent().focus();this.getParent().onsapnext(e);};b.prototype.onsaphome=function(e){if(this._checkCursorPosForNav(false)){this.getParent().focus();this.getParent().onsaphome(e);}};b.prototype.onsapend=function(e){if(this._checkCursorPosForNav(true)){this.getParent().focus();this.getParent().onsapend(e);}};b.prototype.onsappageup=function(e){this.getParent().focus();this.getParent().onsappageup(e);};b.prototype.onsappagedown=function(e){this.getParent().focus();this.getParent().onsappagedown(e);};b.prototype.onsapescape=function(e){this.getParent().onsapescape(e);};b.prototype.onkeydown=function(e){e.stopPropagation();};b.prototype.onclick=function(e){this.getParent().closeSubmenu(false,true);if(!D.system.desktop&&this.getParent().checkEnabled(this)){this.focus();}e.stopPropagation();};b.prototype.onkeyup=function(e){if(!q.sap.PseudoEvents.sapenter.fnCheck(e)){return;}var v=this.$("tf").val();this.setValue(v);this.getParent().selectItem(this);e.preventDefault();e.stopPropagation();};b.prototype.setSubmenu=function(m){q.sap.log.warning("The aggregation 'submenu' is not supported for this type of menu item.","","sap.ui.unified.MenuTextFieldItem");return this;};b.prototype.setLabel=function(L){this.setProperty("label",L,true);this.$("lbl").text(L);this._adaptSizes();return this;};b.prototype.setValue=function(v){this.setProperty("value",v,true);this.$("tf").val(v);return this;};b.prototype.setValueState=function(v){this.setProperty("valueState",v,true);var $=this.$("tf");$.toggleClass("sapUiMnuTfItemTfErr",v==a.Error);$.toggleClass("sapUiMnuTfItemTfWarn",v==a.Warning);var t=V.enrichTooltip(this,this.getTooltip_AsString());this.$().attr("title",t?t:"");return this;};b.prototype.getFocusDomRef=function(){var f=this.$("tf");return f.length?f.get(0):null;};b.prototype._adaptSizes=function(){var $=this.$("tf");var d=this.$("lbl");var o=d.length?d.get(0).offsetLeft:0;if(sap.ui.getCore().getConfiguration().getRTL()){$.parent().css({"width":"auto","right":(this.$().outerWidth(true)-o+(d.outerWidth(true)-d.outerWidth()))+"px"});}else{$.parent().css({"width":"auto","left":(o+d.outerWidth(true))+"px"});}};b.prototype._checkCursorPosForNav=function(f){var r=sap.ui.getCore().getConfiguration().getRTL();var B=f?r:!r;var $=this.$("tf");var p=$.cursorPos();var L=$.val().length;if(r){p=L-p;}if((!B&&p!=L)||(B&&p!=0)){return false;}return true;};}());return b;});};if(!jQuery.sap.isDeclared('sap.ui.unified.ShellHeadItem')){jQuery.sap.declare('sap.ui.unified.ShellHeadItem');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');jQuery.sap.require('sap.ui.core.IconPool');sap.ui.define("sap/ui/unified/ShellHeadItem",['jquery.sap.global','sap/ui/core/Element','sap/ui/core/IconPool','./library'],function(q,E,I,l){"use strict";var S=E.extend("sap.ui.unified.ShellHeadItem",{metadata:{library:"sap.ui.unified",properties:{startsSection:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},showSeparator:{type:"boolean",group:"Appearance",defaultValue:true},selected:{type:"boolean",group:"Appearance",defaultValue:false},toggleEnabled:{type:"boolean",group:"Appearance",defaultValue:true},showMarker:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{}}}});S.prototype.onclick=function(e){this.firePress();e.preventDefault();};S.prototype.onsapspace=S.prototype.onclick;S.prototype.onsapenter=S.prototype.onclick;S.prototype.setStartsSection=function(s){s=!!s;this.setProperty("startsSection",s,true);this.$().toggleClass("sapUiUfdShellHeadItmDelim",s);return this;};S.prototype.setShowSeparator=function(s){s=!!s;this.setProperty("showSeparator",s,true);this.$().toggleClass("sapUiUfdShellHeadItmSep",s);return this;};function _(){var t=this.$(),T=this.getToggleEnabled(),s=this.getSelected();if(!t.length){return;}if(T){t.toggleClass("sapUiUfdShellHeadItmSel",s);t.attr("aria-pressed",s);}else{t.removeClass("sapUiUfdShellHeadItmSel");t.removeAttr("aria-pressed");}}S.prototype.setToggleEnabled=function(e){this.setProperty("toggleEnabled",!!e,true);_.apply(this);return this;};S.prototype.setSelected=function(s){this.setProperty("selected",!!s,true);_.apply(this);return this;};S.prototype.setVisible=function(v){this.setProperty("visible",!!v);return this;};S.prototype.setShowMarker=function(m){m=!!m;this.setProperty("showMarker",m,true);this.$().toggleClass("sapUiUfdShellHeadItmMark",m);return this;};S.prototype.setIcon=function(i){this.setProperty("icon",i,true);if(this.getDomRef()){this._refreshIcon();}return this;};S.prototype._refreshIcon=function(){var i=q(this.$().children()[0]);var s=this.getIcon();if(I.isIconURI(s)){var o=I.getIconInfo(s);i.html("").css("style","");if(o){i.text(o.content).attr("role","presentation").attr("aria-label",o.text||o.name).css("font-family","'"+o.fontFamily+"'");}}else{var $=this.$("img-inner");if($.length==0||$.attr("src")!=s){i.css("style","").attr("aria-label",null).html("<img role='presentation' id='"+this.getId()+"-img-inner' src='"+q.sap.encodeHTML(s)+"'/>");}}};return S;});};if(!jQuery.sap.isDeclared('sap.ui.unified.ShellHeadUserItem')){jQuery.sap.declare('sap.ui.unified.ShellHeadUserItem');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');jQuery.sap.require('sap.ui.core.IconPool');sap.ui.define("sap/ui/unified/ShellHeadUserItem",['jquery.sap.global','sap/ui/core/Element','sap/ui/core/IconPool','./library'],function(q,E,I,l){"use strict";var S=E.extend("sap.ui.unified.ShellHeadUserItem",{metadata:{library:"sap.ui.unified",properties:{username:{type:"string",group:"Appearance",defaultValue:''},showPopupIndicator:{type:"boolean",group:"Accessibility",defaultValue:true},image:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{}}}});I.getIconInfo("","");S.prototype.onclick=function(e){this.firePress();e.preventDefault();};S.prototype.onsapspace=S.prototype.onclick;S.prototype.onsapenter=S.prototype.onclick;S.prototype.setImage=function(i){this.setProperty("image",i,true);if(this.getDomRef()){this._refreshImage();}return this;};S.prototype._refreshImage=function(){var i=this.$("img");var s=this.getImage();if(!s){i.html("").css("style","").css("display","none");}else if(I.isIconURI(s)){var o=I.getIconInfo(s);i.html("").css("style","");if(o){i.text(o.content).attr("role","presentation").attr("aria-label",o.text||o.name).css("font-family","'"+o.fontFamily+"'");}}else{var $=this.$("img-inner");if($.length==0||$.attr("src")!=s){i.css("style","").attr("aria-label",null).html("<img role='presentation' id='"+this.getId()+"-img-inner' src='"+q.sap.encodeHTML(s)+"'/>");}}};S.prototype._checkAndAdaptWidth=function(s){if(!this.getDomRef()){return false;}var r=this.$(),n=this.$("name");var b=r.width();r.toggleClass("sapUiUfdShellHeadUsrItmLimit",false);var m=240;if(s){m=Math.min(m,0.5*document.documentElement.clientWidth-225);}if(m<n.width()){r.toggleClass("sapUiUfdShellHeadUsrItmLimit",true);}return b!=r.width();};return S;});};if(!jQuery.sap.isDeclared('sap.ui.unified.ShellHeader')){jQuery.sap.declare('sap.ui.unified.ShellHeader');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.Device');sap.ui.define("sap/ui/unified/ShellHeader",['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/Device'],function(q,l,C,D){"use strict";var S=C.extend("sap.ui.unified.ShellHeader",{metadata:{properties:{logo:{type:"sap.ui.core.URI",defaultValue:""},searchVisible:{type:"boolean",defaultValue:true}},aggregations:{headItems:{type:"sap.ui.unified.ShellHeadItem",multiple:true},headEndItems:{type:"sap.ui.unified.ShellHeadItem",multiple:true},search:{type:"sap.ui.core.Control",multiple:false},user:{type:"sap.ui.unified.ShellHeadUserItem",multiple:false}}},renderer:{render:function(r,h){var i=h.getId();r.write("<div");r.writeControlData(h);r.writeAttribute("class","sapUiUfdShellHeader");if(sap.ui.getCore().getConfiguration().getAccessibility()){r.writeAttribute("role","toolbar");}r.write(">");r.write("<div id='",i,"-hdr-begin' class='sapUiUfdShellHeadBegin'>");this.renderHeaderItems(r,h,true);r.write("</div>");r.write("<div id='",i,"-hdr-center' class='sapUiUfdShellHeadCenter'>");this.renderSearch(r,h);r.write("</div>");r.write("<div id='",i,"-hdr-end' class='sapUiUfdShellHeadEnd'>");this.renderHeaderItems(r,h,false);r.write("</div>");r.write("</div>");},renderSearch:function(r,h){var s=h.getSearch();r.write("<div id='",h.getId(),"-hdr-search'");if(sap.ui.getCore().getConfiguration().getAccessibility()){r.writeAttribute("role","search");}r.writeAttribute("class","sapUiUfdShellSearch"+(h.getSearchVisible()?"":" sapUiUfdShellHidden"));r.write("><div>");if(s){r.renderControl(s);}r.write("</div></div>");},renderHeaderItems:function(r,h,b){r.write("<div class='sapUiUfdShellHeadContainer'>");var I=b?h.getHeadItems():h.getHeadEndItems();for(var i=0;i<I.length;i++){r.write("<div tabindex='0'");r.writeElementData(I[i]);r.addClass("sapUiUfdShellHeadItm");if(I[i].getStartsSection()){r.addClass("sapUiUfdShellHeadItmDelim");}if(I[i].getShowSeparator()){r.addClass("sapUiUfdShellHeadItmSep");}if(!I[i].getVisible()){r.addClass("sapUiUfdShellHidden");}if(I[i].getSelected()&&I[i].getToggleEnabled()){r.addClass("sapUiUfdShellHeadItmSel");}if(I[i].getShowMarker()){r.addClass("sapUiUfdShellHeadItmMark");}r.writeClasses();var t=I[i].getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}if(sap.ui.getCore().getConfiguration().getAccessibility()){r.writeAccessibilityState(I[i],{role:"button",selected:null,pressed:I[i].getToggleEnabled()?I[i].getSelected():null});}r.write("><span></span><div class='sapUiUfdShellHeadItmMarker'><div></div></div></div>");}var u=h.getUser();if(!b&&u){r.write("<div tabindex='0'");r.writeElementData(u);r.addClass("sapUiUfdShellHeadUsrItm");if(!u.getShowPopupIndicator()){r.addClass("sapUiUfdShellHeadUsrItmWithoutPopup");}r.writeClasses();var t=u.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}if(sap.ui.getCore().getConfiguration().getAccessibility()){r.writeAccessibilityState(u,{role:"button"});if(u.getShowPopupIndicator()){r.writeAttribute("aria-haspopup","true");}}r.write("><span id='",u.getId(),"-img' aria-hidden='true' class='sapUiUfdShellHeadUsrItmImg'></span>");r.write("<span id='"+u.getId()+"-name' class='sapUiUfdShellHeadUsrItmName'");var U=u.getUsername()||"";r.writeAttributeEscaped("title",U);r.write(">");r.writeEscaped(U);r.write("</span><span class='sapUiUfdShellHeadUsrItmExp' aria-hidden='true'></span></div>");}r.write("</div>");if(b){this._renderLogo(r,h);}},_renderLogo:function(r,h){var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),L=a.getText("SHELL_LOGO_TOOLTIP"),i=h._getLogo();r.write("<div class='sapUiUfdShellIco'>");r.write("<img id='",h.getId(),"-icon'");r.writeAttributeEscaped("title",L);r.writeAttributeEscaped("alt",L);r.write("src='");r.writeEscaped(i);r.write("' style='",i?"":"display:none;","'/>");r.write("</div>");}}});S.prototype.init=function(){var t=this;this._rtl=sap.ui.getCore().getConfiguration().getRTL();this._handleMediaChange=function(p){if(!t.getDomRef()){return;}t._refresh();};D.media.attachHandler(this._handleMediaChange,this,D.media.RANGESETS.SAP_STANDARD);this._handleResizeChange=function(p){if(!t.getDomRef()||!t.getUser()){return;}var u=this.getUser();var c=u._checkAndAdaptWidth(!t.$("hdr-search").hasClass("sapUiUfdShellHidden")&&!!t.getSearch());if(c){t._refresh();}};D.resize.attachHandler(this._handleResizeChange,this);this.data("sap-ui-fastnavgroup","true",true);};S.prototype.exit=function(){D.media.detachHandler(this._handleMediaChange,this,D.media.RANGESETS.SAP_STANDARD);delete this._handleMediaChange;D.resize.detachHandler(this._handleResizeChange,this);delete this._handleResizeChange;};S.prototype.onAfterRendering=function(){this._refresh();this.$("hdr-center").toggleClass("sapUiUfdShellAnim",!this._noHeadCenterAnim);};S.prototype.onThemeChanged=function(){if(this.getDomRef()){this.invalidate();}};S.prototype._getLogo=function(){var i=this.getLogo();if(!i){q.sap.require("sap.ui.core.theming.Parameters");i=sap.ui.core.theming.Parameters._getThemeImage(null,true);}return i;};S.prototype._refresh=function(){function u(I){for(var i=0;i<I.length;i++){I[i]._refreshIcon();}}u(this.getHeadItems());u(this.getHeadEndItems());var U=this.getUser(),a=q("html").hasClass("sapUiMedia-Std-Phone"),s=!this.$("hdr-search").hasClass("sapUiUfdShellHidden"),$=this.$("icon");if(U){U._refreshImage();U._checkAndAdaptWidth(s&&!!this.getSearch());}$.parent().toggleClass("sapUiUfdShellHidden",a&&s&&!!this.getSearch());var w=this.$("hdr-end").outerWidth(),b=this.$("hdr-begin").outerWidth(),c=Math.max(w,b),d=(a&&s?b:c)+"px",e=(a&&s?w:c)+"px";this.$("hdr-center").css({"left":this._rtl?e:d,"right":this._rtl?d:e});};return S;});};if(!jQuery.sap.isDeclared('sap.ui.unified.ShellOverlay')){jQuery.sap.declare('sap.ui.unified.ShellOverlay');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.core.Popup');jQuery.sap.require('jquery.sap.script');sap.ui.define("sap/ui/unified/ShellOverlay",['jquery.sap.global','sap/ui/Device','sap/ui/core/Control','sap/ui/core/Popup','./library','sap/ui/unified/ShellOverlayRenderer','jquery.sap.script'],function(q,D,C,P,l,S){"use strict";var a=C.extend("sap.ui.unified.ShellOverlay",{metadata:{library:"sap.ui.unified",defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},search:{type:"sap.ui.core.Control",multiple:false}},associations:{shell:{type:"sap.ui.unified.ShellLayout",multiple:false},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{closed:{}}}});a.prototype.open=function(){if(this._getPopup().isOpen()){return;}this._opening=true;this._forceShellHeaderVisible();this._getPopup().setModal(true,P.blStack.length==0&&this._getAnimActive()?"sapUiUfdShellOvrlyBly sapUiUfdShellOvrlyBlyTp":"");this._getPopup().open(0,P.Dock.BeginTop,P.Dock.BeginTop,window,"0 0","none");var s=this.getSearch();if(s){s.focus();}this._opening=false;if(this._getAnimActive()){q.sap.delayedCall(50,this,function(){q.sap.byId("sap-ui-blocklayer-popup").toggleClass("sapUiUfdShellOvrlyBlyTp",false);});}q.sap.delayedCall(this._getAnimDuration(true),this,function(){this.$().toggleClass("sapUiUfdShellOvrlyOpening",false);});};a.prototype.close=function(){if(!this._getPopup().isOpen()){return;}this.$().toggleClass("sapUiUfdShellOvrlyCntntHidden",true).toggleClass("sapUiUfdShellOvrlyClosing",true);this._setSearchWidth();q.sap.delayedCall(Math.max(this._getAnimDuration(false)-this._getBLAnimDuration(),0),this,function(){var b=q.sap.byId("sap-ui-blocklayer-popup");if(P.blStack.length==1&&this._getAnimActive()&&b.hasClass("sapUiUfdShellOvrlyBly")){b.toggleClass("sapUiUfdShellOvrlyBlyTp",true);}});q.sap.delayedCall(this._getAnimDuration(false),this,function(){this._getPopup().close(0);this.$().remove();this._forceShellHeaderVisible();this.fireClosed();});};a.prototype.setShell=function(s){return this.setAssociation("shell",s,true);};a.prototype.setSearch=function(s){this.setAggregation("search",s,true);if(!!this.getDomRef()){this._headRenderer.render();}return this;};a.prototype.insertContent=function(c,i){var r=this.insertAggregation("content",c,i,true);if(!!this.getDomRef()){this._contentRenderer.render();}return r;};a.prototype.addContent=function(c){var r=this.addAggregation("content",c,true);if(!!this.getDomRef()){this._contentRenderer.render();}return r;};a.prototype.removeContent=function(i){var r=this.removeAggregation("content",i,true);if(!!this.getDomRef()){this._contentRenderer.render();}return r;};a.prototype.removeAllContent=function(){var r=this.removeAllAggregation("content",true);if(!!this.getDomRef()){this._contentRenderer.render();}return r;};a.prototype.destroyContent=function(){var r=this.destroyAggregation("content",true);if(!!this.getDomRef()){this._contentRenderer.render();}return r;};a.prototype.init=function(){this._animOpenDuration=-1;this._animCloseDuration=-1;this._animBlockLayerDuration=-1;this._animation=sap.ui.getCore().getConfiguration().getAnimation();this._opening=false;var t=this;this._headRenderer=new l._ContentRenderer(this,this.getId()+"-hdr-center",function(r){S.renderSearch(r,t);});this._contentRenderer=new l._ContentRenderer(this,this.getId()+"-cntnt",function(r){S.renderContent(r,t);});};a.prototype.exit=function(){if(this._popup){this._popup.close(0);this._popup.destroy();this._popup=null;}this._getPopup=function(){return null;};this._headRenderer.destroy();delete this._headRenderer;this._contentRenderer.destroy();delete this._contentRenderer;};a.prototype.onAfterRendering=function(){if(this._opening){this._setSearchWidth();}q.sap.delayedCall(10,this,function(){this.$().toggleClass("sapUiUfdShellOvrlyCntntHidden",false);this.$("search").css("width","");});};a.prototype.onclick=function(e){if(q(e.target).attr("id")===this.getId()+"-close"){this.close();e.preventDefault();}};a.prototype.onsapspace=a.prototype.onclick;a.prototype.onThemeChanged=function(){this._animOpenDuration=-1;this._animCloseDuration=-1;this._animBlockLayerDuration=-1;};a.prototype.onfocusin=function(e){var f,d;if(e.target.id==this.getId()+"-focfirst"){f=q(":sapTabbable",this.$("inner"));d=f.get(f.length-1);}else if(e.target.id==this.getId()+"-foclast"){f=q(":sapTabbable",this.$("inner"));d=f.get(0);}if(d){q.sap.focus(d);}};a.prototype._getAnimDurationThemeParam=function(p,c){var v=parseInt(sap.ui.core.theming.Parameters.get(p),10);if(!this._getAnimActive()&&c){v=0;}return v;};a.prototype._getAnimDuration=function(o){if((o&&this._animOpenDuration==-1)||(!o&&this._animCloseDuration==-1)){var t=o?"Open":"Close";this["_anim"+t+"Duration"]=this._getAnimDurationThemeParam("_sap_ui_unified_ShellOverlay_"+t+"AnimOverAll",true);}return o?this._animOpenDuration:this._animCloseDuration;};a.prototype._getBLAnimDuration=function(){if(this._animBlockLayerDuration==-1){this._animBlockLayerDuration=this._getAnimDurationThemeParam("_sap_ui_unified_ShellOverlay_BlockLayerAnimDuration",true);}return this._animBlockLayerDuration;};a.prototype._getAnimActive=function(){if(!this._animation||(D.browser.internet_explorer&&D.browser.version<10)){return false;}return true;};a.prototype._getPopup=function(){if(!this._popup){this._popup=new P(this,true,false,false);this._popup._applyPosition=function(p){this._$().css("left","0").css("top","0");this._oLastPosition=p;this._oLastOfRect=q(window).rect();};this._popup.attachOpened(function(){l._iNumberOfOpenedShellOverlays++;});this._popup.attachClosed(function(){l._iNumberOfOpenedShellOverlays--;});}return this._popup;};a.prototype._getShell=function(){var i=this.getShell();if(!i){return;}var s=sap.ui.getCore().byId(i);if(!s||!(s instanceof sap.ui.unified.ShellLayout)){return;}return s;};a.prototype._forceShellHeaderVisible=function(){var s=this._getShell();if(s){s._doShowHeader(true);}};a.prototype._getSearchWidth=function(){var s=this._getShell();return s?s._getSearchWidth():-1;};a.prototype._setSearchWidth=function(){var w=this._getSearchWidth();if(w<=0){return;}var W=w+"px";if(D.browser.safari){var t=this.$("hdr-center").width();if(t>w){W=Math.round((w*100)/t)+"%";}else{W="100%";}}this.$("search").css("width",W);};return a;});};if(!jQuery.sap.isDeclared('sap.ui.unified.SplitContainer')){jQuery.sap.declare('sap.ui.unified.SplitContainer');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.core.theming.Parameters');jQuery.sap.require('sap.ui.core.library');sap.ui.define("sap/ui/unified/SplitContainer",['jquery.sap.global','sap/ui/core/Control','sap/ui/core/theming/Parameters','./library','sap/ui/core/library'],function(q,C,P,l,c){"use strict";var O=c.Orientation;var S=C.extend("sap.ui.unified.SplitContainer",{metadata:{library:"sap.ui.unified",properties:{showSecondaryContent:{type:"boolean",group:"Appearance",defaultValue:null},secondaryContentSize:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:'250px'},secondaryContentWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:'250px',deprecated:true},orientation:{type:"sap.ui.core.Orientation",group:"Appearance",defaultValue:O.Horizontal}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},secondaryContent:{type:"sap.ui.core.Control",multiple:true,singularName:"secondaryContent"}}}});(function(w){S.prototype.init=function(){this.bRtl=sap.ui.getCore().getConfiguration().getRTL();this._paneRenderer=new l._ContentRenderer(this,this.getId()+"-panecntnt","secondaryContent");this._canvasRenderer=new l._ContentRenderer(this,this.getId()+"-canvascntnt","content");this._moveContent=true;};S.prototype.exit=function(){this._paneRenderer.destroy();delete this._paneRenderer;this._canvasRenderer.destroy();delete this._canvasRenderer;if(this._closeContentDelayId){q.sap.clearDelayedCall(this._closeContentDelayId);delete this._closeContentDelayId;}delete this._contentContainer;delete this._secondaryContentContainer;};S.prototype.onAfterRendering=function(){this.bRtl=sap.ui.getCore().getConfiguration().getRTL();this._contentContainer=this.$("canvas");this._secondaryContentContainer=this.$("pane");this._applySecondaryContentSize();};S.prototype._applySecondaryContentSize=function(){if(this.getDomRef()){var v=this.getOrientation()==O.Vertical;var s,o;var d,a;var b=this.getSecondaryContentSize();var e=this.getShowSecondaryContent();if(v){s="height";o="width";d="top";a=this.bRtl?"right":"left";}else{s="width";o="height";d=this.bRtl?"right":"left";a="top";}if(this._closeContentDelayId){q.sap.clearDelayedCall(this._closeContentDelayId);delete this._closeContentDelayId;}this._secondaryContentContainer.css(s,b);this._secondaryContentContainer.css(o,"");this._secondaryContentContainer.css(d,e?"0":"-"+b);this._secondaryContentContainer.css(a,"");if(this._moveContent){this._contentContainer.css(d,e?b:"0");}else{this._contentContainer.css(d,"0");}if(!e){var h=parseInt(P.get("_sap_ui_unified_SplitContainer_AnimationDuration"),10);this._closeContentDelayId=q.sap.delayedCall(h,this,function(){this._secondaryContentContainer.toggleClass("sapUiUfdSplitContSecondClosed",true);});}else{this._secondaryContentContainer.toggleClass("sapUiUfdSplitContSecondClosed",false);}}};S.prototype._mod=function(m,d){var r=!!this.getDomRef();var a=m.apply(this,[r]);if(r&&d){d.render();}return a;};S.prototype.setShowSecondaryContent=function(s){var r=this.getDomRef();this.setProperty("showSecondaryContent",!!s,r);this._applySecondaryContentSize();return this;};S.prototype.setSecondaryContentSize=function(s){this.setProperty("secondaryContentSize",s,true);this._applySecondaryContentSize();return this;};S.prototype.getSecondaryContentWidth=function(){q.sap.log.warning("SplitContainer: Use of deprecated property \"SecondaryContentWidth\", please use "+"\"SecondaryContentSize\" instead.");return this.getSecondaryContentSize.apply(this,arguments);};S.prototype.setSecondaryContentWidth=function(){q.sap.log.warning("SplitContainer: Use of deprecated property \"SecondaryContentWidth\", please use "+"\"SecondaryContentSize\" instead.");return this.setSecondaryContentSize.apply(this,arguments);};S.prototype.insertContent=function(o,i){return this._mod(function(r){return this.insertAggregation("content",o,i,r);},this._canvasRenderer);};S.prototype.addContent=function(o){return this._mod(function(r){return this.addAggregation("content",o,r);},this._canvasRenderer);};S.prototype.removeContent=function(i){return this._mod(function(r){return this.removeAggregation("content",i,r);},this._canvasRenderer);};S.prototype.removeAllContent=function(){return this._mod(function(r){return this.removeAllAggregation("content",r);},this._canvasRenderer);};S.prototype.destroyContent=function(){return this._mod(function(r){return this.destroyAggregation("content",r);},this._canvasRenderer);};S.prototype.insertSecondaryContent=function(o,i){return this._mod(function(r){return this.insertAggregation("secondaryContent",o,i,r);},this._paneRenderer);};S.prototype.addSecondaryContent=function(o){return this._mod(function(r){return this.addAggregation("secondaryContent",o,r);},this._paneRenderer);};S.prototype.removeSecondaryContent=function(i){return this._mod(function(r){return this.removeAggregation("secondaryContent",i,r);},this._paneRenderer);};S.prototype.removeAllSecondaryContent=function(){return this._mod(function(r){return this.removeAllAggregation("secondaryContent",r);},this._paneRenderer);};S.prototype.destroySecondaryContent=function(){return this._mod(function(r){return this.destroyAggregation("secondaryContent",r);},this._paneRenderer);};})(window);return S;});};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.Header')){jQuery.sap.declare('sap.ui.unified.calendar.Header');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/ui/unified/calendar/Header",['jquery.sap.global','sap/ui/core/Control','sap/ui/unified/library'],function(q,C,l){"use strict";var H=C.extend("sap.ui.unified.calendar.Header",{metadata:{library:"sap.ui.unified",properties:{textButton0:{type:"string",group:"Appearance"},additionalTextButton0:{type:"string",group:"Appearance"},ariaLabelButton0:{type:"string",group:"Misc"},visibleButton0:{type:"boolean",group:"Appearance",defaultValue:false},textButton1:{type:"string",group:"Appearance"},additionalTextButton1:{type:"string",group:"Appearance"},ariaLabelButton1:{type:"string",group:"Misc"},visibleButton1:{type:"boolean",group:"Appearance",defaultValue:true},textButton2:{type:"string",group:"Appearance"},additionalTextButton2:{type:"string",group:"Appearance"},ariaLabelButton2:{type:"string",group:"Misc"},visibleButton2:{type:"boolean",group:"Appearance",defaultValue:true},enabledPrevious:{type:"boolean",group:"Behavior",defaultValue:true},enabledNext:{type:"boolean",group:"Behavior",defaultValue:true}},events:{pressPrevious:{},pressNext:{},pressButton0:{},pressButton1:{},pressButton2:{}}}});H.prototype.setTextButton0=function(t){_.call(this,0,t);return this;};H.prototype.setAdditionalTextButton0=function(t){a.call(this,0,t);return this;};H.prototype.setAriaLabelButton0=function(t){b.call(this,0,t);return this;};H.prototype.setTextButton1=function(t){_.call(this,1,t);return this;};H.prototype.setAdditionalTextButton1=function(t){a.call(this,1,t);return this;};H.prototype.setAriaLabelButton1=function(t){b.call(this,1,t);return this;};H.prototype.setTextButton2=function(t){_.call(this,2,t);return this;};H.prototype.setAdditionalTextButton2=function(t){a.call(this,2,t);return this;};H.prototype.setAriaLabelButton2=function(t){b.call(this,2,t);return this;};H.prototype.setEnabledPrevious=function(e){this.setProperty("enabledPrevious",e,true);if(this.getDomRef()){if(e){this.$("prev").toggleClass("sapUiCalDsbl",false).removeAttr("disabled");}else{this.$("prev").toggleClass("sapUiCalDsbl",true).attr("disabled","disabled");}}return this;};H.prototype.setEnabledNext=function(e){this.setProperty("enabledNext",e,true);if(this.getDomRef()){if(e){this.$("next").toggleClass("sapUiCalDsbl",false).removeAttr("disabled");}else{this.$("next").toggleClass("sapUiCalDsbl",true).attr("disabled","disabled");}}return this;};H.prototype.onclick=function(e){if(e.isMarked("delayedMouseEvent")){return;}if(q.sap.containsOrEquals(this.getDomRef("prev"),e.target)&&this.getEnabledPrevious()){this.firePressPrevious();}else if(q.sap.containsOrEquals(this.getDomRef("next"),e.target)&&this.getEnabledNext()){this.firePressNext();}else if(q.sap.containsOrEquals(this.getDomRef("B0"),e.target)){this.firePressButton0();}else if(q.sap.containsOrEquals(this.getDomRef("B1"),e.target)){this.firePressButton1();}else if(q.sap.containsOrEquals(this.getDomRef("B2"),e.target)){this.firePressButton2();}};H.prototype.onsapnext=function(e){e.preventDefault();};function _(B,t){this.setProperty("textButton"+B,t,true);if(this.getDomRef()&&this["getVisibleButton"+B]()){if(this.$("B"+B+"-Text").get(0)){this.$("B"+B+"-Text").text(t);}else{this.$("B"+B).text(t);}}}function a(B,t){var r=false;var o=this["getAdditionalTextButton"+B]();if(o==t){return;}if((!o&&t)||(o&&!t)){r=true;}this.setProperty("additionalTextButton"+B,t,!r);if(!r&&this.getDomRef()&&this["getVisibleButton"+B]()){this.$("B"+B+"-AddText").text(t);}}function b(B,t){this.setProperty("ariaLabelButton"+B,t,true);if(this.getDomRef()&&this["getVisibleButton"+B]()){if(t){this.$("B"+B).attr("aria-label",t);}else{this.$("B"+B).removeAttr("aria-label");}}}return H;});};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.Month')){jQuery.sap.declare('sap.ui.unified.calendar.Month');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.LocaleData');jQuery.sap.require('sap.ui.core.delegate.ItemNavigation');jQuery.sap.require('sap.ui.core.format.DateFormat');jQuery.sap.require('sap.ui.core.library');jQuery.sap.require('sap.ui.core.Locale');jQuery.sap.require('jquery.sap.keycodes');sap.ui.define("sap/ui/unified/calendar/Month",['jquery.sap.global','sap/ui/core/Control','sap/ui/Device','sap/ui/core/LocaleData','sap/ui/core/delegate/ItemNavigation','sap/ui/unified/calendar/CalendarUtils','sap/ui/unified/calendar/CalendarDate','sap/ui/unified/library','sap/ui/core/format/DateFormat','sap/ui/core/library','sap/ui/core/Locale','jquery.sap.keycodes'],function(q,C,D,L,I,a,b,l,c,d,e){"use strict";var f=d.CalendarType;var g=l.CalendarDayType;var M=C.extend("sap.ui.unified.calendar.Month",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},firstDayOfWeek:{type:"int",group:"Appearance",defaultValue:-1},nonWorkingDays:{type:"int[]",group:"Appearance",defaultValue:null},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},showWeekNumbers:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},disabledDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"disabledDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},otherMonth:{type:"boolean"},restoreOldDate:{type:"boolean"}}}}}});M.prototype.init=function(){var i=sap.ui.getCore().getConfiguration().getCalendarType();this.setProperty("primaryCalendarType",i);this.setProperty("secondaryCalendarType",i);this._oFormatYyyymmdd=c.getInstance({pattern:"yyyyMMdd",calendarType:f.Gregorian});this._oFormatLong=c.getInstance({style:"long",calendarType:i});this._mouseMoveProxy=q.proxy(this._handleMouseMove,this);this._iColumns=7;this._aVisibleDays=[];};M.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;}if(this._sInvalidateMonth){q.sap.clearDelayedCall(this._sInvalidateMonth);}this._aVisibleDays=null;};M.prototype.onAfterRendering=function(){_.call(this);t.call(this);};M.prototype.onmouseover=function(E){var T=q(E.target),S,i,u;if(!this.getIntervalSelection()){return;}S=this.getSelectedDates()[0];if(!S||!S.getStartDate()||S.getEndDate()){return;}if(!T.hasClass('sapUiCalItemText')&&!T.hasClass('sapUiCalItem')){return;}if(T.hasClass('sapUiCalItemText')){T=T.parent();}i=parseInt(this._oFormatYyyymmdd.format(S.getStartDate()),10);u=T.data("sapDay");if(i>u){i=i+u;u=i-u;i=i-u;}if(this.hasListeners("datehovered")){this.fireEvent("datehovered",{date1:i,date2:u});}else{this._markDatesBetweenStartAndHoveredDate(i,u);}};M.prototype._markDatesBetweenStartAndHoveredDate=function(u,v){var w,$,x,i;w=this.$().find(".sapUiCalItem");for(i=0;i<w.length;i++){$=q(w[i]);x=$.data('sapDay');if(x>u&&x<v){$.addClass('sapUiCalItemSelBetween');}else{$.removeClass('sapUiCalItemSelBetween');}}};M.prototype.onsapfocusleave=function(E){if(!E.relatedControlId||!q.sap.containsOrEquals(this.getDomRef(),sap.ui.getCore().byId(E.relatedControlId).getFocusDomRef())){if(this._bMouseMove){this._unbindMousemove(true);var S=o.call(this,this._getDate());if(!S&&this._oMoveSelectedDate){o.call(this,this._oMoveSelectedDate);}this._bMoveChange=false;this._bMousedownChange=false;this._oMoveSelectedDate=undefined;s.call(this);}if(this._bMousedownChange){this._bMousedownChange=false;s.call(this);}}};M.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var R=this.removeAllAggregation("selectedDates");return R;};M.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var i=this.destroyAggregation("selectedDates");return i;};M.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var R=this.removeAllAggregation("specialDates");return R;};M.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var i=this.destroyAggregation("specialDates");return i;};M.prototype.removeAllDisabledDates=function(){this._bDateRangeChanged=true;var R=this.removeAllAggregation("disabledDates");return R;};M.prototype.destroyDisabledDates=function(){this._bDateRangeChanged=true;var i=this.destroyAggregation("disabledDates");return i;};M.prototype.setDate=function(i){var u=b.fromLocalJSDate(i,this.getPrimaryCalendarType());m.call(this,u,false);return this;};M.prototype._setDate=function(i){var u=i.toLocalJSDate();this.setProperty("date",u,true);this._oDate=i;};M.prototype._getDate=function(){if(!this._oDate){this._oDate=b.fromLocalJSDate(new Date(),this.getPrimaryCalendarType());}return this._oDate;};M.prototype.displayDate=function(i){var u=b.fromLocalJSDate(i,this.getPrimaryCalendarType());m.call(this,u,true);return this;};M.prototype.setPrimaryCalendarType=function(i){this.setProperty("primaryCalendarType",i);this._oFormatLong=c.getInstance({style:"long",calendarType:i});if(this._oDate){this._oDate=new b(this._oDate,i);}return this;};M.prototype.setSecondaryCalendarType=function(i){this._bSecondaryCalendarTypeSet=true;this.setProperty("secondaryCalendarType",i);this.invalidate();this._oFormatSecondaryLong=c.getInstance({style:"long",calendarType:i});return this;};M.prototype._getSecondaryCalendarType=function(){var S;if(this._bSecondaryCalendarTypeSet){S=this.getSecondaryCalendarType();var P=this.getPrimaryCalendarType();if(S==P){S=undefined;}}return S;};M.prototype._getLocale=function(){var P=this.getParent();if(P&&P.getLocale){return P.getLocale();}else if(!this._sLocale){this._sLocale=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString();}return this._sLocale;};M.prototype._getLocaleData=function(){var P=this.getParent();if(P&&P._getLocaleData){return P._getLocaleData();}else if(!this._oLocaleData){var i=this._getLocale();var u=new e(i);this._oLocaleData=L.getInstance(u);}return this._oLocaleData;};M.prototype._getFormatLong=function(){var i=this._getLocale();if(this._oFormatLong.oLocale.toString()!=i){var u=new e(i);this._oFormatLong=c.getInstance({style:"long",calendarType:this.getPrimaryCalendarType()},u);if(this._oFormatSecondaryLong){this._oFormatSecondaryLong=c.getInstance({style:"long",calendarType:this._getSecondaryCalendarType()},u);}}return this._oFormatLong;};M.prototype.getIntervalSelection=function(){var P=this.getParent();if(P&&P.getIntervalSelection){return P.getIntervalSelection();}else{return this.getProperty("intervalSelection");}};M.prototype.getSingleSelection=function(){var P=this.getParent();if(P&&P.getSingleSelection){return P.getSingleSelection();}else{return this.getProperty("singleSelection");}};M.prototype.getSelectedDates=function(){var P=this.getParent();if(P&&P.getSelectedDates){return P.getSelectedDates();}else{return this.getAggregation("selectedDates",[]);}};M.prototype.getSpecialDates=function(){var P=this.getParent();if(P&&P.getSpecialDates){return P.getSpecialDates();}else{return this.getAggregation("specialDates",[]);}};M.prototype.getDisabledDates=function(){var P=this.getParent();if(P&&P.getDisabledDates){return P.getDisabledDates();}else{return this.getAggregation("disabledDates",[]);}};M.prototype._getShowHeader=function(){var P=this.getParent();if(P&&P._getShowMonthHeader){return P._getShowMonthHeader();}else{return this.getProperty("showHeader");}};M.prototype.getAriaLabelledBy=function(){var P=this.getParent();if(P&&P.getAriaLabelledBy){return P.getAriaLabelledBy();}else{return this.getAssociation("ariaLabelledBy",[]);}};M.prototype.getLegend=function(){var P=this.getParent();if(P&&P.getLegend){return P.getLegend();}else{return this.getAssociation("legend",[]);}};M.prototype._getFirstDayOfWeek=function(){var P=this.getParent();var F=0;if(P&&P.getFirstDayOfWeek){F=P.getFirstDayOfWeek();}else{F=this.getProperty("firstDayOfWeek");}if(F<0||F>6){var i=this._getLocaleData();F=i.getFirstDayOfWeek();}return F;};M.prototype._getNonWorkingDays=function(){var P=this.getParent();var N;if(P&&P.getNonWorkingDays){N=P.getNonWorkingDays();}else{N=this.getProperty("nonWorkingDays");}if(N&&!q.isArray(N)){N=[];}return N;};M.prototype._checkDateSelected=function(u){a._checkCalendarDate(u);var S=0;var v=this.getSelectedDates();var T=u.toUTCJSDate().getTime();var w=this.getPrimaryCalendarType();for(var i=0;i<v.length;i++){var R=v[i];var x=R.getStartDate();var y=0;if(x){x=b.fromLocalJSDate(x,w);y=x.toUTCJSDate().getTime();}var E=R.getEndDate();var z=0;if(E){E=b.fromLocalJSDate(E,w);z=E.toUTCJSDate().getTime();}if(T==y&&!E){S=1;break;}else if(T==y&&E){S=2;if(E&&T==z){S=5;}break;}else if(E&&T==z){S=3;break;}else if(E&&T>y&&T<z){S=4;break;}if(this.getSingleSelection()){break;}}return S;};M.prototype._getDateTypes=function(u){a._checkCalendarDate(u);var T,v,N,w=[];var S=this.getSpecialDates();var x=u.toUTCJSDate().getTime();var y=this.getPrimaryCalendarType();for(var i=0;i<S.length;i++){var R=S[i];var z=R.getStartDate();var A=a.MAX_MILLISECONDS;if(z){z=b.fromLocalJSDate(z,y);A=z.toUTCJSDate().getTime();}var E=R.getEndDate();var B=-a.MAX_MILLISECONDS;if(E){E=b.fromLocalJSDate(E,y);B=E.toUTCJSDate().getTime();}N=R.getType()===g.NonWorking;if((x==A&&!E)||(x>=A&&x<=B)){if(!N&&!T){T={type:R.getType(),tooltip:R.getTooltip_AsString()};w.push(T);}else if(N&&!v){v={type:R.getType(),tooltip:R.getTooltip_AsString()};w.push(v);}if(T&&v){break;}}}return w;};M.prototype._checkDateEnabled=function(u){a._checkCalendarDate(u);var E=true;var v=this.getDisabledDates();var T=u.toUTCJSDate().getTime();var w=this.getPrimaryCalendarType();var P=this.getParent();if(P&&P._oMinDate&&P._oMaxDate){if(T<P._oMinDate.valueOf()||T>P._oMaxDate.valueOf()){return false;}}for(var i=0;i<v.length;i++){var R=v[i];var S=R.getStartDate();var x=0;if(S){S=b.fromLocalJSDate(S,w);x=S.toUTCJSDate().getTime();}var y=R.getEndDate();var z=0;if(y){y=b.fromLocalJSDate(y,w);z=y.toUTCJSDate().getTime();}if(y){if(T>x&&T<z){E=false;break;}}else if(T==x){E=false;break;}}return E;};M.prototype.setWidth=function(w){this.setProperty("width",w,true);if(this.getDomRef()){w=this.getWidth();this.$().css("width",w);}return this;};M.prototype._handleMouseMove=function(E){if(!this.$().is(":visible")){this._unbindMousemove(true);}var T=q(E.target);if(T.hasClass("sapUiCalItemText")){T=T.parent();}if(this._sLastTargetId&&this._sLastTargetId==T.attr("id")){return;}this._sLastTargetId=T.attr("id");if(T.hasClass("sapUiCalItem")){var O=this._getDate();if(!q.sap.containsOrEquals(this.getDomRef(),E.target)){var S=this.getSelectedDates();if(S.length>0&&this.getSingleSelection()){var i=S[0].getStartDate();if(i){i=b.fromLocalJSDate(i,this.getPrimaryCalendarType());}var u=b.fromLocalJSDate(this._oFormatYyyymmdd.parse(T.attr("data-sap-day")));if(u.isSameOrAfter(i)){p.call(this,i,u);}else{p.call(this,u,i);}}}else{var F=b.fromLocalJSDate(this._oFormatYyyymmdd.parse(T.attr("data-sap-day")),this.getPrimaryCalendarType());if(!F.isSame(O)){if(T.hasClass("sapUiCalItemOtherMonth")){this.fireFocus({date:F.toLocalJSDate(),otherMonth:true});}else{this._setDate(F);var v=o.call(this,F,true);if(v){this._oMoveSelectedDate=new b(F,this.getPrimaryCalendarType());}this._bMoveChange=true;}}}}};M.prototype.onmousedown=function(E){this._oMousedownPosition={clientX:E.clientX,clientY:E.clientY};};M.prototype.onmouseup=function(E){if(this._bMouseMove){this._unbindMousemove(true);var F=this._getDate();var u=this._oItemNavigation.getItemDomRefs();for(var i=0;i<u.length;i++){var $=q(u[i]);if(!$.hasClass("sapUiCalItemOtherMonth")){if($.attr("data-sap-day")==this._oFormatYyyymmdd.format(F.toUTCJSDate(),true)){$.focus();break;}}}if(this._bMoveChange){var S=o.call(this,F);if(!S&&this._oMoveSelectedDate){o.call(this,this._oMoveSelectedDate);}this._bMoveChange=false;this._bMousedownChange=false;this._oMoveSelectedDate=undefined;s.call(this);}}if(this._bMousedownChange){this._bMousedownChange=false;s.call(this);}else if(D.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,E.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,E.clientY,10)&&E.target.classList.contains("sapUiCalItemText")){var v=b.fromLocalJSDate(this._oFormatYyyymmdd.parse(q(E.target).parent().attr("data-sap-day")),this.getPrimaryCalendarType());o.call(this,v,false,false);s.call(this);}};M.prototype.onsapselect=function(E){var S=o.call(this,this._getDate());if(S){s.call(this);}E.stopPropagation();E.preventDefault();};M.prototype.onsapselectmodifiers=function(E){this.onsapselect(E);};M.prototype.onsappageupmodifiers=function(E){var F=new b(this._getDate(),this.getPrimaryCalendarType());var y=F.getYear();if(E.metaKey||E.ctrlKey){F.setYear(y-10);}else{F.setYear(y-1);}this.fireFocus({date:F.toLocalJSDate(),otherMonth:true});E.preventDefault();};M.prototype.onsappagedownmodifiers=function(E){var F=new b(this._getDate(),this.getPrimaryCalendarType());var y=F.getYear();if(E.metaKey||E.ctrlKey){F.setYear(y+10);}else{F.setYear(y+1);}this.fireFocus({date:F.toLocalJSDate(),otherMonth:true});E.preventDefault();};M.prototype._updateSelection=function(){var S=this.getSelectedDates();if(S.length>0){var i=this.getPrimaryCalendarType();var u=S.map(function(v){var w=v.getStartDate();if(w){return b.fromLocalJSDate(w,i);}});var E=S[0].getEndDate();if(E){E=b.fromLocalJSDate(E,i);}p.call(this,u,E);}};M.prototype._isValueInThreshold=function(R,v,T){var i=R-T,u=R+T;return v>=i&&v<=u;};M.prototype._bindMousemove=function(F){q(window.document).bind('mousemove',this._mouseMoveProxy);this._bMouseMove=true;if(F){this.fireEvent("_bindMousemove");}};M.prototype._unbindMousemove=function(F){q(window.document).unbind('mousemove',this._mouseMoveProxy);this._bMouseMove=undefined;this._sLastTargetId=undefined;if(F){this.fireEvent("_unbindMousemove");}};M.prototype.onThemeChanged=function(){if(this._bNoThemeChange){return;}this._bNamesLengthChecked=undefined;this._bLongWeekDays=undefined;var w=this.$().find(".sapUiCalWH");var u=this._getLocaleData();var S=this._getFirstWeekDay();var v=u.getDaysStandAlone("abbreviated",this.getPrimaryCalendarType());for(var i=0;i<w.length;i++){var W=w[i];q(W).text(v[(i+S)%7]);}t.call(this);};M.prototype._handleBorderReached=function(i){var E=i.getParameter("event");var u=0;var O=this._getDate();var F=new b(O,this.getPrimaryCalendarType());if(E.type){switch(E.type){case"sapnext":case"sapnextmodifiers":if(E.keyCode==q.sap.KeyCodes.ARROW_DOWN){F.setDate(F.getDate()+7);}else{F.setDate(F.getDate()+1);}break;case"sapprevious":case"sappreviousmodifiers":if(E.keyCode==q.sap.KeyCodes.ARROW_UP){F.setDate(F.getDate()-7);}else{F.setDate(F.getDate()-1);}break;case"sappagedown":u=F.getMonth()+1;F.setMonth(u);if(u%12!=F.getMonth()){while(u!=F.getMonth()){F.setDate(F.getDate()-1);}}break;case"sappageup":u=F.getMonth()-1;F.setMonth(u);if(u<0){u=11;}if(u!=F.getMonth()){while(u!=F.getMonth()){F.setDate(F.getDate()-1);}}break;default:break;}this.fireFocus({date:F.toLocalJSDate(),otherMonth:true});}};M.prototype.checkDateFocusable=function(i){a._checkJSDateObject(i);var u=this._getDate();var v=b.fromLocalJSDate(i,this.getPrimaryCalendarType());return a._isSameMonthAndYear(v,u);};M.prototype.applyFocusInfo=function(i){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());return this;};M.prototype._renderHeader=function(){if(this._getShowHeader()){var i=this._getDate();var u=this._getLocaleData();var v=u.getMonthsStandAlone("wide",this.getPrimaryCalendarType());this.$("Head").text(v[i.getMonth()]);}};M.prototype._getFirstWeekDay=function(){return this._getFirstDayOfWeek();};M.prototype._isMonthNameLong=function(w){var i;var W;for(i=0;i<w.length;i++){W=w[i];if(Math.abs(W.clientWidth-W.scrollWidth)>1){return true;}}return false;};M.prototype._getVisibleDays=function(S,i){var N,u,v,w,F,x,y;if(!S){return this._aVisibleDays;}this._aVisibleDays=[];x=this._getFirstDayOfWeek();F=new b(S,this.getPrimaryCalendarType());F.setDate(1);w=F.getDay()-x;if(w<0){w=7+w;}if(w>0){F.setDate(1-w);}u=new b(F);N=(S.getMonth()+1)%12;do{y=u.getYear();v=new b(u,this.getPrimaryCalendarType());if(i&&y<1){v._bBeforeFirstYear=true;this._aVisibleDays.push(v);}else if(y>0&&y<10000){this._aVisibleDays.push(v);}u.setDate(u.getDate()+1);}while(u.getMonth()!==N||u.getDay()!==x);return this._aVisibleDays;};function _(){var y=this._oFormatYyyymmdd.format(this._getDate().toUTCJSDate(),true);var u=0;var R=this.$("days").get(0);var v=this.$("days").find(".sapUiCalItem");for(var i=0;i<v.length;i++){var $=q(v[i]);if($.attr("data-sap-day")===y){u=i;break;}}if(!this._oItemNavigation){this._oItemNavigation=new I();this._oItemNavigation.attachEvent(I.Events.AfterFocus,h,this);this._oItemNavigation.attachEvent(I.Events.FocusAgain,j,this);this._oItemNavigation.attachEvent(I.Events.BorderReached,this._handleBorderReached,this);this.addDelegate(this._oItemNavigation);if(this._iColumns>1){this._oItemNavigation.setHomeEndColumnMode(true,true);}this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(this._iColumns,true);}this._oItemNavigation.setRootDomRef(R);this._oItemNavigation.setItemDomRefs(v);this._oItemNavigation.setFocusedIndex(u);this._oItemNavigation.setPageSize(v.length);}function h(u){var v=u.getParameter("index");var E=u.getParameter("event");if(!E){return;}var O=this._getDate();var F=new b(O,this.getPrimaryCalendarType());var w=false;var x=true;var y=this._oItemNavigation.getItemDomRefs();var i=0;var $=q(y[v]);var z;if($.hasClass("sapUiCalItemOtherMonth")){if(E.type=="saphomemodifiers"&&(E.metaKey||E.ctrlKey)){F.setDate(1);this._focusDate(F);}else if(E.type=="sapendmodifiers"&&(E.metaKey||E.ctrlKey)){for(i=y.length-1;i>0;i--){z=q(y[i]);if(!z.hasClass("sapUiCalItemOtherMonth")){F=b.fromLocalJSDate(this._oFormatYyyymmdd.parse(z.attr("data-sap-day")),this.getPrimaryCalendarType());break;}}this._focusDate(F);}else{w=true;F=b.fromLocalJSDate(this._oFormatYyyymmdd.parse($.attr("data-sap-day")),this.getPrimaryCalendarType());if(!F){F=new b(O);}this._focusDate(O);if(E.type=="mousedown"||(this._sTouchstartYyyyMMdd&&E.type=="focusin"&&this._sTouchstartYyyyMMdd==$.attr("data-sap-day"))){x=false;this.fireFocus({date:O.toLocalJSDate(),otherMonth:false,restoreOldDate:true});}if(E.originalEvent&&E.originalEvent.type=="touchstart"){this._sTouchstartYyyyMMdd=$.attr("data-sap-day");}else{this._sTouchstartYyyyMMdd=undefined;}}}else{if(q(E.target).hasClass("sapUiCalWeekNum")){this._focusDate(F);}else{F=b.fromLocalJSDate(this._oFormatYyyymmdd.parse($.attr("data-sap-day")),this.getPrimaryCalendarType());this._setDate(F);}this._sTouchstartYyyyMMdd=undefined;}if(E.type=="mousedown"&&this.getIntervalSelection()){this._sLastTargetId=$.attr("id");}if(x){this.fireFocus({date:F.toLocalJSDate(),otherMonth:w});}if(E.type=="mousedown"){k.call(this,E,F,v);}}function j(i){var u=i.getParameter("index");var E=i.getParameter("event");if(!E){return;}if(E.type=="mousedown"){var F=this._getDate();if(this.getIntervalSelection()){var v=this._oItemNavigation.getItemDomRefs();this._sLastTargetId=v[u].id;}k.call(this,E,F,u);}}function k(E,F,i){if(E.button||D.support.touch){return;}var S=o.call(this,F);if(S){this._bMousedownChange=true;}if(this._bMouseMove){this._unbindMousemove(true);this._bMoveChange=false;this._oMoveSelectedDate=undefined;}else if(S&&this.getIntervalSelection()&&this.$().is(":visible")){this._bindMousemove(true);this._oMoveSelectedDate=new b(F,this.getPrimaryCalendarType());}E.preventDefault();E.setMark("cancelAutoClose");}function m(i,N){a._checkCalendarDate(i);var y=i.getYear();a._checkYearInValidRange(y);var F=true;if(!this.getDate()||!i.isSame(b.fromLocalJSDate(this.getDate(),i.getCalendarType()))){var u=new b(i);F=this.checkDateFocusable(i.toLocalJSDate());this.setProperty("date",i.toLocalJSDate(),true);this._oDate=u;}if(this.getDomRef()){if(F){this._focusDate(this._oDate,true,N);}else{n.call(this,N);}}}M.prototype._focusDate=function(u,S,v){if(!S){this.setDate(u.toLocalJSDate());}var y=this._oFormatYyyymmdd.format(u.toUTCJSDate(),true);var w=this._oItemNavigation.getItemDomRefs();var $;for(var i=0;i<w.length;i++){$=q(w[i]);if($.attr("data-sap-day")==y){if(document.activeElement!=w[i]){if(v){this._oItemNavigation.setFocusedIndex(i);}else{this._oItemNavigation.focusItem(i);}}break;}}};function n(N){var u=this.getRenderer().getStartDate(this);var $=this.$("days");var w=this.$("weeks");var v;var x;var i=0;var y=0;if(this._sLastTargetId){v=this._oItemNavigation.getItemDomRefs();for(i=0;i<v.length;i++){x=q(v[i]);if(x.attr("id")==this._sLastTargetId){y=i;break;}}}if($.length>0){var R=sap.ui.getCore().createRenderManager();this.getRenderer().renderDays(R,this,u);R.flush($[0]);if(w.length){this.getRenderer().renderWeekNumbers(R,this);R.flush(w[0]);}R.destroy();}this._renderHeader();this.fireEvent("_renderMonth",{days:$.find(".sapUiCalItem").length});_.call(this);if(!N){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());}if(this._sLastTargetId){v=this._oItemNavigation.getItemDomRefs();if(y<=v.length-1){x=q(v[y]);this._sLastTargetId=x.attr("id");}}}function o(u,v){if(!this._checkDateEnabled(u)){return false;}var S=this.getSelectedDates();var w;var x=this._oItemNavigation.getItemDomRefs();var $;var y;var i=0;var P=this.getParent();var A=this;var z;var B=this.getPrimaryCalendarType();if(P&&P.getSelectedDates){A=P;}if(this.getSingleSelection()){if(S.length>0){w=S[0];z=w.getStartDate();if(z){z=b.fromLocalJSDate(z,B);}}else{w=new sap.ui.unified.DateRange();A.addAggregation("selectedDates",w,true);}if(this.getIntervalSelection()&&(!w.getEndDate()||v)&&z){var E;if(u.isBefore(z)){E=z;z=u;if(!v){w.setProperty("startDate",z.toLocalJSDate(),true);w.setProperty("endDate",E.toLocalJSDate(),true);}}else if(u.isSameOrAfter(z)){E=u;if(!v){w.setProperty("endDate",E.toLocalJSDate(),true);}}p.call(this,z,E);}else{p.call(this,u);w.setProperty("startDate",u.toLocalJSDate(),true);w.setProperty("endDate",undefined,true);}}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection");}else{var F=this._checkDateSelected(u);if(F>0){for(i=0;i<S.length;i++){z=S[i].getStartDate();if(z&&u.isSame(b.fromLocalJSDate(z,B))){A.removeAggregation("selectedDates",i,true);break;}}}else{w=new sap.ui.unified.DateRange({startDate:u.toLocalJSDate()});A.addAggregation("selectedDates",w,true);}y=this._oFormatYyyymmdd.format(u.toUTCJSDate(),true);for(i=0;i<x.length;i++){$=q(x[i]);if($.attr("data-sap-day")==y){if(F>0){$.removeClass("sapUiCalItemSel");$.attr("aria-selected","false");}else{$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");}}}}}return true;}function p(S,E){if(!Array.isArray(S)){S=[S];}var u=this._oItemNavigation.getItemDomRefs();var $;var i=0;var v=false;var w=false;if(!E){var x=S.map(function(z){return this._oFormatYyyymmdd.format(z.toUTCJSDate(),true);},this);for(i=0;i<u.length;i++){$=q(u[i]);v=false;w=false;if(x.indexOf($.attr("data-sap-day"))>-1){$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");v=true;}else if($.hasClass("sapUiCalItemSel")){$.removeClass("sapUiCalItemSel");$.attr("aria-selected","false");}if($.hasClass("sapUiCalItemSelStart")){$.removeClass("sapUiCalItemSelStart");}else if($.hasClass("sapUiCalItemSelBetween")){$.removeClass("sapUiCalItemSelBetween");}else if($.hasClass("sapUiCalItemSelEnd")){$.removeClass("sapUiCalItemSelEnd");}r.call(this,$,v,w);}}else{var y;for(i=0;i<u.length;i++){$=q(u[i]);v=false;w=false;y=b.fromLocalJSDate(this._oFormatYyyymmdd.parse($.attr("data-sap-day")),f.Gregorian);if(y.isSame(S[0])){$.addClass("sapUiCalItemSelStart");v=true;$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");if(E&&y.isSame(E)){$.addClass("sapUiCalItemSelEnd");w=true;}$.removeClass("sapUiCalItemSelBetween");}else if(E&&a._isBetween(y,S[0],E)){$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");$.addClass("sapUiCalItemSelBetween");$.removeClass("sapUiCalItemSelStart");$.removeClass("sapUiCalItemSelEnd");}else if(E&&y.isSame(E)){$.addClass("sapUiCalItemSelEnd");w=true;$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");$.removeClass("sapUiCalItemSelStart");$.removeClass("sapUiCalItemSelBetween");}else{if($.hasClass("sapUiCalItemSel")){$.removeClass("sapUiCalItemSel");$.attr("aria-selected","false");}if($.hasClass("sapUiCalItemSelStart")){$.removeClass("sapUiCalItemSelStart");}else if($.hasClass("sapUiCalItemSelBetween")){$.removeClass("sapUiCalItemSelBetween");}else if($.hasClass("sapUiCalItemSelEnd")){$.removeClass("sapUiCalItemSelEnd");}}r.call(this,$,v,w);}}}function r($,S,E){if(!this.getIntervalSelection()){return;}var u="";var v=[];var w=this.getId();var x=false;u=$.attr("aria-describedby");if(u){v=u.split(" ");}var y=-1;var z=-1;for(var i=0;i<v.length;i++){var A=v[i];if(A==(w+"-Start")){y=i;}if(A==(w+"-End")){z=i;}}if(y>=0&&!S){v.splice(y,1);x=true;if(z>y){z--;}}if(z>=0&&!E){v.splice(z,1);x=true;}if(y<0&&S){v.push(w+"-Start");x=true;}if(z<0&&E){v.push(w+"-End");x=true;}if(x){u=v.join(" ");$.attr("aria-describedby",u);}}function s(){if(this._bMouseMove){this._unbindMousemove(true);}this.fireSelect();}function t(){if(!this._bNamesLengthChecked){var w;var W=this.$().find(".sapUiCalWH");var T=this._isMonthNameLong(W);var i=0;if(T){this._bLongWeekDays=false;var u=this._getLocaleData();var S=this._getFirstWeekDay();var v=u.getDaysStandAlone("narrow",this.getPrimaryCalendarType());for(i=0;i<W.length;i++){w=W[i];q(w).text(v[(i+S)%7]);}}else{this._bLongWeekDays=true;}this._bNamesLengthChecked=true;}}return M;});};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.MonthPicker')){jQuery.sap.declare('sap.ui.unified.calendar.MonthPicker');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.LocaleData');jQuery.sap.require('sap.ui.core.delegate.ItemNavigation');jQuery.sap.require('sap.ui.core.Locale');sap.ui.define("sap/ui/unified/calendar/MonthPicker",['jquery.sap.global','sap/ui/core/Control','sap/ui/Device','sap/ui/core/LocaleData','sap/ui/core/delegate/ItemNavigation','sap/ui/unified/library','sap/ui/core/Locale'],function(q,C,D,L,I,l,a){"use strict";var M=C.extend("sap.ui.unified.calendar.MonthPicker",{metadata:{library:"sap.ui.unified",properties:{month:{type:"int",group:"Data",defaultValue:0},months:{type:"int",group:"Appearance",defaultValue:12},columns:{type:"int",group:"Appearance",defaultValue:3},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"}},events:{select:{},pageChange:{}}}});M.prototype.init=function(){var s=sap.ui.getCore().getConfiguration().getCalendarType();this.setProperty("primaryCalendarType",s);this._iMinMonth=0;this._iMaxMonth=11;};M.prototype.onAfterRendering=function(){_.call(this);h.call(this);};M.prototype.setMonth=function(m){this.setProperty("month",m,true);m=this.getProperty("month");if(m<0||m>11){throw new Error("Property month must be between 0 and 11; "+this);}if(this.getDomRef()){if(this.getMonths()<12){var s=this.getStartMonth();if(m>=s&&m<=s+this.getMonths()-1){g.call(this,m,true);this._oItemNavigation.focusItem(m-s);}else{j.call(this,m);}}else{g.call(this,m,true);this._oItemNavigation.focusItem(m);}}return this;};M.prototype._getLocale=function(){var p=this.getParent();if(p&&p._getLocale){return p._getLocale();}else if(!this._sLocale){this._sLocale=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString();}return this._sLocale;};M.prototype._getLocaleData=function(){var p=this.getParent();if(p&&p._getLocaleData){return p._getLocaleData();}else if(!this._oLocaleData){var s=this._getLocale();var o=new a(s);this._oLocaleData=L.getInstance(o);}return this._oLocaleData;};M.prototype.onsapspace=function(E){E.preventDefault();};M.prototype.onsapselect=function(E){var i=this._oItemNavigation.getFocusedIndex();var m=i+this.getStartMonth();if(m>=this._iMinMonth&&m<=this._iMaxMonth){g.call(this,m);this.fireSelect();}};M.prototype.onmousedown=function(E){this._oMousedownPosition={clientX:E.clientX,clientY:E.clientY};};M.prototype.onmouseup=function(E){if(this._bMousedownChange){this._bMousedownChange=false;this.fireSelect();}else if(D.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,E.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,E.clientY,10)){var i=this._oItemNavigation.getFocusedIndex();var m=i+this.getStartMonth();g.call(this,m);this.fireSelect();}};M.prototype.onThemeChanged=function(){if(this._bNoThemeChange){return;}if(!this.getDomRef()){return;}this._bNamesLengthChecked=undefined;var m=this._oItemNavigation.getItemDomRefs();this._bLongMonth=false;var o=this._getLocaleData();var b=o.getMonthsStandAlone("wide",this.getPrimaryCalendarType());for(var i=0;i<m.length;i++){var $=q(m[i]);$.text(b[i]);}h.call(this);};M.prototype.nextPage=function(){var s=this.getStartMonth();var i=this._oItemNavigation.getFocusedIndex();var m=i+s;var b=this.getMonths();m=m+b;if(m>11){m=11;}j.call(this,m);return this;};M.prototype.previousPage=function(){var s=this.getStartMonth();var i=this._oItemNavigation.getFocusedIndex();var m=i+s;var b=this.getMonths();m=m-b;if(m<0){m=0;}j.call(this,m);return this;};M.prototype.setMinMax=function(m,b){if(m==this._iMinMonth&&b==this._iMaxMonth){return this;}m=parseInt(m,10);if(isNaN(m)||m<0||m>11){m=0;}b=parseInt(b,10);if(isNaN(b)||b<0||b>11){b=11;}if(m<=b){this._iMinMonth=m;this._iMaxMonth=b;}else{this._iMaxMonth=m;this._iMinMonth=b;}if(this.getDomRef()){var k=this._oItemNavigation.getItemDomRefs();var n=this.getId().length+2;for(var i=0;i<k.length;i++){var $=q(k[i]);var o=parseInt($.attr("id").slice(n),10);if(o<this._iMinMonth||o>this._iMaxMonth){$.addClass("sapUiCalItemDsbl");$.attr("aria-disabled",true);}else{$.removeClass("sapUiCalItemDsbl");$.removeAttr("aria-disabled");}}}return this;};M.prototype.getStartMonth=function(){if(this.getMonths()<12){var F=this._oItemNavigation.getItemDomRefs()[0];return parseInt(F.id.slice(this.getId().length+2),10);}else{return 0;}};M.prototype._isValueInThreshold=function(r,v,t){var i=r-t,u=r+t;return v>=i&&v<=u;};function _(){var r=this.getDomRef();var b=this.$().find(".sapUiCalItem");var i=this.getColumns();var m=this.getMonths();var k=true;if(m<12){k=false;}if(!this._oItemNavigation){this._oItemNavigation=new I();this._oItemNavigation.attachEvent(I.Events.AfterFocus,c,this);this._oItemNavigation.attachEvent(I.Events.FocusAgain,d,this);this._oItemNavigation.attachEvent(I.Events.BorderReached,f,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setHomeEndColumnMode(true,true);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});}this._oItemNavigation.setRootDomRef(r);this._oItemNavigation.setItemDomRefs(b);this._oItemNavigation.setCycling(k);this._oItemNavigation.setColumns(i,!k);var n=this.getMonth()-this.getStartMonth();this._oItemNavigation.setFocusedIndex(n);this._oItemNavigation.setPageSize(b.length);}function c(o){var i=o.getParameter("index");var E=o.getParameter("event");if(!E){return;}if(E.type=="mousedown"){e.call(this,E,i);}}function d(o){var i=o.getParameter("index");var E=o.getParameter("event");if(!E){return;}if(E.type=="mousedown"){e.call(this,E,i);}}function e(E,i){if(E.button||D.support.touch){return;}var m=i+this.getStartMonth();if(m>=this._iMinMonth&&m<=this._iMaxMonth){g.call(this,m);this._bMousedownChange=true;}E.preventDefault();E.setMark("cancelAutoClose");}function f(o){var E=o.getParameter("event");if(E.type){var s=this.getStartMonth();var i=this._oItemNavigation.getFocusedIndex();var m=i+s;var b=this.getMonths();switch(E.type){case"sapnext":case"sapnextmodifiers":if(m<11){m++;j.call(this,m,true);}break;case"sapprevious":case"sappreviousmodifiers":if(m>0){m--;j.call(this,m,true);}break;case"sappagedown":if(m<12-b){m=m+b;j.call(this,m,true);}break;case"sappageup":if(m>b){m=m-b;j.call(this,m,true);}break;default:break;}}}function g(m,n){var b=this._oItemNavigation.getItemDomRefs();var $;var s=this.getId()+"-m"+m;for(var i=0;i<b.length;i++){$=q(b[i]);if($.attr("id")==s){$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");}else{$.removeClass("sapUiCalItemSel");$.attr("aria-selected","false");}}if(!n){this.setProperty("month",m,true);}}function h(){if(!this._bNamesLengthChecked){var i=0;var m=this._oItemNavigation.getItemDomRefs();var t=false;var k=this.getMonths();var B=Math.ceil(12/k);var n=k-1;for(var b=0;b<B;b++){if(k<12){j.call(this,n);n=n+k;if(n>11){n=11;}}for(i=0;i<m.length;i++){var o=m[i];if(Math.abs(o.clientWidth-o.scrollWidth)>1){t=true;break;}}if(t){break;}}if(k<12){n=this.getMonth();j.call(this,n);}if(t){this._bLongMonth=false;var p=this._getLocaleData();var s=this.getPrimaryCalendarType();var r=p.getMonthsStandAlone("abbreviated",s);var u=p.getMonthsStandAlone("wide",s);for(i=0;i<m.length;i++){var $=q(m[i]);$.text(r[i]);$.attr("aria-label",u[i]);}}else{this._bLongMonth=true;}this._bNamesLengthChecked=true;}}function j(m,F){var b=this._oItemNavigation.getItemDomRefs();if(b.legth>11){return;}var k=b.length;var s=Math.floor(m/k)*k;if(s+k>12){s=12-k;}var o=this._getLocaleData();var n=[];var p=[];var r=this.getPrimaryCalendarType();if(this._bLongMonth||!this._bNamesLengthChecked){n=o.getMonthsStandAlone("wide",r);}else{n=o.getMonthsStandAlone("abbreviated",r);p=o.getMonthsStandAlone("wide",r);}var S=this.getMonth();for(var i=0;i<b.length;i++){var t=i+s;var $=q(b[i]);$.text(n[i+s]);$.attr("id",this.getId()+"-m"+(i+s));if(!this._bLongMonth){$.attr("aria-label",p[i+s]);}if(t==S){$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");}else{$.removeClass("sapUiCalItemSel");$.attr("aria-selected","false");}if(t<this._iMinMonth||t>this._iMaxMonth){$.addClass("sapUiCalItemDsbl");$.attr("aria-disabled",true);}else{$.removeClass("sapUiCalItemDsbl");$.removeAttr("aria-disabled");}}this._oItemNavigation.focusItem(m-s);if(F){this.firePageChange();}}return M;});};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.MonthRenderer')){jQuery.sap.declare('sap.ui.unified.calendar.MonthRenderer');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.library');sap.ui.define("sap/ui/unified/calendar/MonthRenderer",['jquery.sap.global','sap/ui/unified/calendar/CalendarUtils','sap/ui/unified/calendar/CalendarDate','sap/ui/unified/CalendarLegend','sap/ui/unified/CalendarLegendRenderer','sap/ui/core/library','sap/ui/unified/library'],function(q,C,a,b,c,d,l){"use strict";var e=l.CalendarDayType;var f=d.CalendarType;var M={};M.render=function(r,m){var D=this.getStartDate(m);var t=m.getTooltip_AsString();var g=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var i=m.getId();var A={value:i+"-Descr",append:true};var w=m.getWidth();r.write("<div");r.writeControlData(m);r.addClass(this.getClass(r,m));if(m._getSecondaryCalendarType()){r.addClass("sapUiCalMonthSecType");}r.writeClasses();if(t){r.writeAttributeEscaped("title",t);}if(m._getShowHeader()){A.value=A.value+" "+i+"-Head";}if(w){r.addStyle("width",w);r.writeStyles();}r.writeAccessibilityState(m,{role:"grid",readonly:"true",multiselectable:!m.getSingleSelection()||m.getIntervalSelection(),labelledby:A});r.write(">");r.write("<span id=\""+i+"-Descr\" style=\"display: none;\">"+g.getText("CALENDAR_DIALOG")+"</span>");if(m.getIntervalSelection()){r.write("<span id=\""+i+"-Start\" style=\"display: none;\">"+g.getText("CALENDAR_START_DATE")+"</span>");r.write("<span id=\""+i+"-End\" style=\"display: none;\">"+g.getText("CALENDAR_END_DATE")+"</span>");}this.renderMonth(r,m,D);r.write("</div>");};M.getStartDate=function(m){return m._getDate();};M.getClass=function(r,m){var s="sapUiCalMonthView",g=m.getPrimaryCalendarType(),S=m.getShowWeekNumbers();if(g==f.Islamic||!S){s=s+" sapUiCalNoWeekNum";}return s;};M.renderMonth=function(r,m,D){var i=m.getId();this.renderHeader(r,m,D);r.write("<div id=\""+i+"-days\" class=\"sapUiCalItems\">");this.renderDays(r,m,D);r.write("</div>");};M.renderHeader=function(r,m,D){var L=m._getLocaleData();var F=m._getFirstDayOfWeek();var i=m.getId();var g=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");this.renderHeaderLine(r,m,L,D);r.write("<div");r.writeAttribute("id",i+"-CW");r.addStyle("display","none");r.writeStyles();r.writeAccessibilityState(null,{role:"columnheader"});r.write(">");r.write(g.getText("CALENDAR_WEEK"));r.write("</div>");r.write("<div");r.writeAccessibilityState(null,{role:"row"});r.addStyle("overflow","hidden");r.writeStyles();r.write(">");this.renderDayNames(r,m,L,F,7,true,undefined);r.write("</div>");};M.renderHeaderLine=function(r,m,L,D){C._checkCalendarDate(D);if(m._getShowHeader()){var i=m.getId();var s=m.getPrimaryCalendarType();var g=L.getMonthsStandAlone("wide",s);r.write("<div id=\""+i+"-Head\"class=\"sapUiCalHeadText\" >");r.write(g[D.getMonth()]);r.write("</div>");}};M.renderDayNames=function(r,m,L,s,D,g,w){var F=m._getFirstDayOfWeek();var I=m.getId();var h="";var j=m.getPrimaryCalendarType();var W=[];if(m._bLongWeekDays||!m._bNamesLengthChecked){W=L.getDaysStandAlone("abbreviated",j);}else{W=L.getDaysStandAlone("narrow",j);}var k=L.getDaysStandAlone("wide",j);for(var i=0;i<D;i++){r.write("<div");r.addClass("sapUiCalWH");if(g){h=I+"-WH"+((i+F)%7);}else{h=I+"-WH"+i;}r.writeAttribute("id",h);if(i==0){r.addClass("sapUiCalFirstWDay");}if(w){r.addStyle("width",w);}r.writeAccessibilityState(null,{role:"columnheader",label:k[(i+s)%7]});r.writeClasses();r.writeStyles();r.write(">");r.write(W[(i+s)%7]);r.write("</div>");}};M.renderDays=function(r,m,D){var w,g,L,h,i,t,s;C._checkCalendarDate(D);if(!D){D=m._getFocusedDate();}t=D.toUTCJSDate().getTime();if(!t&&t!==0){throw new Error("Date is invalid "+m);}h=this.getDayHelper(m,D);g=m._getVisibleDays(D,true);s=m.getShowWeekNumbers();w=m.getPrimaryCalendarType()!==f.Islamic&&s;L=g.length;for(i=0;i<L;i++){this.renderDay(r,m,g[i],h,true,w,-1);}};M.getDayHelper=function(m,D){var L,s,o=m._getLocaleData(),h={sLocale:m._getLocale(),oLocaleData:o,iMonth:D.getMonth(),iYear:D.getYear(),iFirstDayOfWeek:m._getFirstDayOfWeek(),iWeekendStart:o.getWeekendStart(),iWeekendEnd:o.getWeekendEnd(),aNonWorkingDays:m._getNonWorkingDays(),sToday:o.getRelativeDay(0),oToday:a.fromLocalJSDate(new Date(),m.getPrimaryCalendarType()),sId:m.getId(),oFormatLong:m._getFormatLong(),sSecondaryCalendarType:m._getSecondaryCalendarType(),oLegend:undefined};s=m.getLegend();if(s&&typeof s==="string"){L=sap.ui.getCore().byId(s);if(L){if(!(L instanceof b)){throw new Error(L+" is not an sap.ui.unified.CalendarLegend. "+m);}h.oLegend=L;}else{q.sap.log.warning("CalendarLegend "+s+" does not exist!",m);}}return h;};M.renderDay=function(r,m,D,h,o,w,n,W,g){C._checkCalendarDate(D);var s=new a(D,h.sSecondaryCalendarType),A={role:"gridcell",selected:false,label:"",describedby:""},B=D._bBeforeFirstYear,j="";var y=m._oFormatYyyymmdd.format(D.toUTCJSDate(),true);var k=D.getDay();var S=m._checkDateSelected(D);var p=m._getDateTypes(D);var E=m._checkDateEnabled(D);var i=0;if(B){E=false;}var t=0;if(w){t=C.calculateWeekNumber(D.toUTCJSDate(),h.iYear,h.sLocale,h.oLocaleData);A["describedby"]=h.sId+"-CW"+" "+h.sId+"-WNum-"+t;}if(!g){var u="";if(n<0){u=h.sId+"-WH"+k;}else{u=h.sId+"-WH"+n;}A["describedby"]=A["describedby"]+" "+u;}r.write("<div");r.writeAttribute("id",h.sId+"-"+y);r.addClass("sapUiCalItem");r.addClass("sapUiCalWDay"+k);if(W){r.addStyle("width",W);}if(k==h.iFirstDayOfWeek){r.addClass("sapUiCalFirstWDay");}if(o&&h.iMonth!=D.getMonth()){r.addClass("sapUiCalItemOtherMonth");A["disabled"]=true;}if(D.isSame(h.oToday)){r.addClass("sapUiCalItemNow");A["label"]=h.sToday+" ";}if(S>0){r.addClass("sapUiCalItemSel");A["selected"]=true;}else{A["selected"]=false;}if(S==2){r.addClass("sapUiCalItemSelStart");A["describedby"]=A["describedby"]+" "+h.sId+"-Start";}else if(S==3){r.addClass("sapUiCalItemSelEnd");A["describedby"]=A["describedby"]+" "+h.sId+"-End";}else if(S==4){r.addClass("sapUiCalItemSelBetween");}else if(S==5){r.addClass("sapUiCalItemSelStart");r.addClass("sapUiCalItemSelEnd");A["describedby"]=A["describedby"]+" "+h.sId+"-Start";A["describedby"]=A["describedby"]+" "+h.sId+"-End";}p.forEach(function(v){if(v.type!=e.None){if(v.type===e.NonWorking){r.addClass("sapUiCalItemWeekEnd");return;}r.addClass("sapUiCalItem"+v.type);j=v.type;if(v.tooltip){r.writeAttributeEscaped('title',v.tooltip);}}});if(m.getParent()&&m.getParent().getMetadata().getName()==="CalendarOneMonthInterval"&&D.getMonth()!==m.getStartDate().getMonth()){r.addClass("sapUiCalItemOtherMonth");}if(!E){r.addClass("sapUiCalItemDsbl");A["disabled"]=true;}if(h.aNonWorkingDays){for(i=0;i<h.aNonWorkingDays.length;i++){if(k==h.aNonWorkingDays[i]){r.addClass("sapUiCalItemWeekEnd");break;}}}else if((k>=h.iWeekendStart&&k<=h.iWeekendEnd)||(h.iWeekendEnd<h.iWeekendStart&&(k>=h.iWeekendStart||k<=h.iWeekendEnd))){r.addClass("sapUiCalItemWeekEnd");}r.writeAttribute("tabindex","-1");r.writeAttribute("data-sap-day",y);if(g){A["label"]=A["label"]+h.aWeekDaysWide[k]+" ";}A["label"]=A["label"]+h.oFormatLong.format(D.toUTCJSDate(),true);if(j!==""){c.addCalendarTypeAccInfo(A,j,h.oLegend);}if(h.sSecondaryCalendarType){A["label"]=A["label"]+" "+m._oFormatSecondaryLong.format(s.toUTCJSDate(),true);}r.writeAccessibilityState(null,A);r.writeClasses();r.writeStyles();r.write(">");r.write("<span");r.addClass("sapUiCalItemText");r.writeClasses();r.write(">");if(!B){r.write(D.getDate());}r.write("</span>");if(w&&k==h.iFirstDayOfWeek){r.write("<span");r.writeAttribute("id",h.sId+"-WNum-"+t);r.addClass("sapUiCalWeekNum");r.writeClasses();r.writeAccessibilityState(null,{role:"rowheader",desribedby:h.sId+"-CW"});r.write(">");r.write(t);r.write("</span>");}if(g){r.write("<span");r.addClass("sapUiCalDayName");r.writeClasses();r.write(">");r.write(h.aWeekDays[k]);r.write("</span>");}if(h.sSecondaryCalendarType){r.write("<span");r.addClass("sapUiCalItemSecText");r.writeClasses();r.write(">");r.write(s.getDate());r.write("</span>");}r.write("</div>");};return M;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.MonthsRow')){jQuery.sap.declare('sap.ui.unified.calendar.MonthsRow');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.core.LocaleData');jQuery.sap.require('sap.ui.core.delegate.ItemNavigation');jQuery.sap.require('sap.ui.core.format.DateFormat');jQuery.sap.require('sap.ui.core.library');jQuery.sap.require('sap.ui.core.Locale');sap.ui.define("sap/ui/unified/calendar/MonthsRow",['jquery.sap.global','sap/ui/core/Control','sap/ui/core/LocaleData','sap/ui/core/delegate/ItemNavigation','sap/ui/unified/calendar/CalendarUtils','sap/ui/unified/calendar/CalendarDate','sap/ui/unified/library','sap/ui/core/format/DateFormat','sap/ui/core/library','sap/ui/core/Locale'],function(q,C,L,I,a,c,l,D,d,e){"use strict";var f=d.CalendarType;var M=C.extend("sap.ui.unified.calendar.MonthsRow",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},startDate:{type:"object",group:"Data"},months:{type:"int",group:"Appearance",defaultValue:12},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},notVisible:{type:"boolean"}}}}}});M.prototype.init=function(){this._oFormatYyyymm=D.getInstance({pattern:"yyyyMMdd",calendarType:f.Gregorian});this._oFormatLong=D.getInstance({pattern:"MMMM y"});this._mouseMoveProxy=q.proxy(this._handleMouseMove,this);this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");};M.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;}if(this._sInvalidateMonths){q.sap.clearDelayedCall(this._sInvalidateMonths);}};M.prototype.onAfterRendering=function(){_.call(this);v.call(this);};M.prototype.onsapfocusleave=function(E){if(!E.relatedControlId||!q.sap.containsOrEquals(this.getDomRef(),sap.ui.getCore().byId(E.relatedControlId).getFocusDomRef())){if(this._bMouseMove){y.call(this,true);r.call(this,this._getDate());this._bMoveChange=false;this._bMousedownChange=false;u.call(this);}if(this._bMousedownChange){this._bMousedownChange=false;u.call(this);}}};M.prototype.invalidate=function(O){if(!this._bDateRangeChanged&&(!O||!(O instanceof sap.ui.unified.DateRange))){C.prototype.invalidate.apply(this,arguments);}else if(this.getDomRef()&&!this._sInvalidateMonths){if(this._bInvalidateSync){w.call(this);}else{this._sInvalidateMonths=q.sap.delayedCall(0,this,w);}}};M.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var R=this.removeAllAggregation("selectedDates");return R;};M.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var b=this.destroyAggregation("selectedDates");return b;};M.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var R=this.removeAllAggregation("specialDates");return R;};M.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var b=this.destroyAggregation("specialDates");return b;};M.prototype.setDate=function(b){m.call(this,c.fromLocalJSDate(b),false);return this;};M.prototype._setDate=function(b){var i=b.toLocalJSDate();this.setProperty("date",i,true);this._oDate=b;};M.prototype._getDate=function(){if(!this._oDate){this._oDate=new c();}return this._oDate;};M.prototype.setStartDate=function(S){a._checkJSDateObject(S);var b,Y,O;Y=S.getFullYear();a._checkYearInValidRange(Y);b=c.fromLocalJSDate(S);this.setProperty("startDate",S,true);this._oStartDate=b;this._oStartDate.setDate(1);if(this.getDomRef()){O=this._getDate().toLocalJSDate();this._bNoRangeCheck=true;this.displayDate(S);this._bNoRangeCheck=false;if(O&&this.checkDateFocusable(O)){this.setDate(O);}}return this;};M.prototype._getStartDate=function(){if(!this._oStartDate){this._oStartDate=new c();this._oStartDate.setDate(1);}return this._oStartDate;};M.prototype.displayDate=function(b){m.call(this,c.fromLocalJSDate(b),true);return this;};M.prototype._getLocale=function(){var P=this.getParent();if(P&&P.getLocale){return P.getLocale();}else if(!this._sLocale){this._sLocale=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString();}return this._sLocale;};M.prototype._getLocaleData=function(){var P=this.getParent();if(P&&P._getLocaleData){return P._getLocaleData();}else if(!this._oLocaleData){var b=this._getLocale();var i=new e(b);this._oLocaleData=L.getInstance(i);}return this._oLocaleData;};M.prototype._getFormatLong=function(){var b=this._getLocale();if(this._oFormatLong.oLocale.toString()!=b){var i=new e(b);this._oFormatLong=D.getInstance({style:"long"},i);}return this._oFormatLong;};M.prototype.getIntervalSelection=function(){var P=this.getParent();if(P&&P.getIntervalSelection){return P.getIntervalSelection();}else{return this.getProperty("intervalSelection");}};M.prototype.getSingleSelection=function(){var P=this.getParent();if(P&&P.getSingleSelection){return P.getSingleSelection();}else{return this.getProperty("singleSelection");}};M.prototype.getSelectedDates=function(){var P=this.getParent();if(P&&P.getSelectedDates){return P.getSelectedDates();}else{return this.getAggregation("selectedDates",[]);}};M.prototype.getSpecialDates=function(){var P=this.getParent();if(P&&P.getSpecialDates){return P.getSpecialDates();}else{return this.getAggregation("specialDates",[]);}};M.prototype._getShowHeader=function(){var P=this.getParent();if(P&&P._getShowItemHeader){return P._getShowItemHeader();}else{return this.getProperty("showHeader");}};M.prototype.getAriaLabelledBy=function(){var P=this.getParent();if(P&&P.getAriaLabelledBy){return P.getAriaLabelledBy();}else{return this.getAssociation("ariaLabelledBy",[]);}};M.prototype.getLegend=function(){var P=this.getParent();if(P&&P.getLegend){return P.getLegend();}else{return this.getAssociation("ariaLabelledBy",[]);}};M.prototype._checkDateSelected=function(b){var R,S,E,T,z=0,A=0,B=0,i,F,G;a._checkCalendarDate(b);F=this.getSelectedDates();G=new c(b);G.setDate(1);T=G.toUTCJSDate().getTime();for(i=0;i<F.length;i++){R=F[i];S=R.getStartDate();z=0;if(S){S=c.fromLocalJSDate(S);S.setDate(1);z=S.toUTCJSDate().getTime();}E=R.getEndDate();A=0;if(E){E=c.fromLocalJSDate(E);E.setDate(1);A=E.toUTCJSDate().getTime();}if(T==z&&!E){B=1;break;}else if(T==z&&E){B=2;if(E&&T==A){B=5;}break;}else if(E&&T==A){B=3;break;}else if(E&&T>z&&T<A){B=4;break;}if(this.getSingleSelection()){break;}}return B;};M.prototype._getDateType=function(b){a._checkCalendarDate(b);var T,R,i,S,z=0,E,A=0,B,F=this.getSpecialDates(),G=new c(b);G.setDate(1);B=G.toUTCJSDate().getTime();for(i=0;i<F.length;i++){R=F[i];S=R.getStartDate();z=0;if(S){S=c.fromLocalJSDate(S);S.setDate(1);z=S.toUTCJSDate().getTime();}E=R.getEndDate();A=0;if(E){E=c.fromLocalJSDate(E);E.setDate(a._daysInMonth(E));A=E.toUTCJSDate().getTime();}if((B==z&&!E)||(B>=z&&B<=A)){T={type:R.getType(),tooltip:R.getTooltip_AsString()};break;}}return T;};M.prototype._checkMonthEnabled=function(b){a._checkCalendarDate(b);var P=this.getParent();if(P&&P._oMinDate&&P._oMaxDate){if(a._isOutside(b,P._oMinDate,P._oMaxDate)){return false;}}return true;};M.prototype._handleMouseMove=function(E){if(!this.$().is(":visible")){y.call(this,true);}var T=q(E.target);if(T.hasClass("sapUiCalItemText")){T=T.parent();}if(T.hasClass("sapUiCalItem")){var O=this._getDate();var F=c.fromLocalJSDate(this._oFormatYyyymm.parse(T.attr("data-sap-month")));F.setDate(1);if(!F.isSame(O)){this._setDate(F);r.call(this,F,true);this._bMoveChange=true;}}};M.prototype.onmouseup=function(E){if(this._bMouseMove){y.call(this,true);var F=this._getDate();var b=this._oItemNavigation.getItemDomRefs();for(var i=0;i<b.length;i++){var $=q(b[i]);if($.attr("data-sap-month")==this._oFormatYyyymm.format(F.toUTCJSDate(),true)){$.focus();break;}}if(this._bMoveChange){var T=q(E.target);if(T.hasClass("sapUiCalItemText")){T=T.parent();}if(T.hasClass("sapUiCalItem")){F=c.fromLocalJSDate(this._oFormatYyyymm.parse(T.attr("data-sap-month")));F.setDate(1);}r.call(this,F);this._bMoveChange=false;this._bMousedownChange=false;u.call(this);}}if(this._bMousedownChange){this._bMousedownChange=false;u.call(this);}};M.prototype.onsapselect=function(E){var S=r.call(this,this._getDate());if(S){u.call(this);}E.stopPropagation();E.preventDefault();};M.prototype.onsapselectmodifiers=function(E){this.onsapselect(E);};M.prototype.onsappageupmodifiers=function(E){var F=new c(this._getDate());var Y=F.getYear();if(E.metaKey||E.ctrlKey){F.setYear(Y-10);}else{var i=this.getMonths();if(i<=12){F.setYear(Y-1);}else{F.setMonth(F.getMonth()-i);}}this.fireFocus({date:F.toLocalJSDate(),notVisible:true});E.preventDefault();};M.prototype.onsappagedownmodifiers=function(E){var F=new c(this._getDate());var Y=F.getYear();if(E.metaKey||E.ctrlKey){F.setYear(Y+10);}else{var i=this.getMonths();if(i<=12){F.setYear(Y+1);}else{F.setMonth(F.getMonth()+i);}}this.fireFocus({date:F.toLocalJSDate(),notVisible:true});E.preventDefault();};M.prototype.onThemeChanged=function(){if(this._bNoThemeChange){return;}this._bNamesLengthChecked=undefined;this._bLongWeekDays=undefined;var b=this._getLocaleData();var z=b.getMonthsStandAlone("wide");var A=this.$("months").children();var B=this._getStartDate().getMonth();for(var i=0;i<A.length;i++){var $=q(q(A[i]).children(".sapUiCalItemText"));$.text(z[(i+B)%12]);}v.call(this);};M.prototype.checkDateFocusable=function(b){a._checkJSDateObject(b);if(this._bNoRangeCheck){return false;}var S=this._getStartDate();var E=new c(S);E.setDate(1);E.setMonth(E.getMonth()+this.getMonths());var i=c.fromLocalJSDate(b);return i.isSameOrAfter(S)&&i.isBefore(E);};M.prototype.applyFocusInfo=function(i){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());return this;};function _(){var b=this._getDate();var Y=this._oFormatYyyymm.format(b.toUTCJSDate(),true);var z=0;var R=this.$("months").get(0);var A=this.$("months").children(".sapUiCalItem");for(var i=0;i<A.length;i++){var $=q(A[i]);if($.attr("data-sap-month")===Y){z=i;break;}}if(!this._oItemNavigation){this._oItemNavigation=new I();this._oItemNavigation.attachEvent(I.Events.AfterFocus,g,this);this._oItemNavigation.attachEvent(I.Events.FocusAgain,h,this);this._oItemNavigation.attachEvent(I.Events.BorderReached,j,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(1,true);}this._oItemNavigation.setRootDomRef(R);this._oItemNavigation.setItemDomRefs(A);this._oItemNavigation.setFocusedIndex(z);this._oItemNavigation.setPageSize(A.length);}function g(b){var i=b.getParameter("index");var E=b.getParameter("event");if(!E){return;}var O=this._getDate();var F=new c(O);var z=this._oItemNavigation.getItemDomRefs();var $=q(z[i]);F=c.fromLocalJSDate(this._oFormatYyyymm.parse($.attr("data-sap-month")));F.setDate(1);this._setDate(F);this.fireFocus({date:F.toLocalJSDate(),notVisible:false});if(E.type=="mousedown"){k.call(this,E,F,i);}}function h(b){var i=b.getParameter("index");var E=b.getParameter("event");if(!E){return;}if(E.type=="mousedown"){var F=this._getDate();k.call(this,E,F,i);}}function j(b){var E=b.getParameter("event");var i=this.getMonths();var O=this._getDate();var F=new c(O);if(E.type){switch(E.type){case"sapnext":case"sapnextmodifiers":F.setMonth(F.getMonth()+1);break;case"sapprevious":case"sappreviousmodifiers":F.setMonth(F.getMonth()-1);break;case"sappagedown":F.setMonth(F.getMonth()+i);break;case"sappageup":F.setMonth(F.getMonth()-i);break;default:break;}this.fireFocus({date:F.toLocalJSDate(),notVisible:true});}}function k(E,F,i){if(E.button){return;}var S=r.call(this,F);if(S){this._bMousedownChange=true;}if(this._bMouseMove){y.call(this,true);this._bMoveChange=false;}else if(S&&this.getIntervalSelection()&&this.$().is(":visible")){x.call(this,true);}E.preventDefault();E.setMark("cancelAutoClose");}function m(b,N){a._checkCalendarDate(b);var Y=b.getYear();a._checkYearInValidRange(Y);var F=true;if(!this.getDate()||!b.isSame(c.fromLocalJSDate(this.getDate()))){var i=new c(b);i.setDate(1);F=this.checkDateFocusable(b.toLocalJSDate());if(!this._bNoRangeCheck&&!F){throw new Error("Date must be in visible date range; "+this);}this.setProperty("date",b.toLocalJSDate(),true);this._oDate=i;}if(this.getDomRef()){if(F){n.call(this,this._oDate,N);}else{o.call(this,N);}}}function n(b,N){var Y=this._oFormatYyyymm.format(b.toUTCJSDate(),true);var z=this._oItemNavigation.getItemDomRefs();var $;for(var i=0;i<z.length;i++){$=q(z[i]);if($.attr("data-sap-month")==Y){if(document.activeElement!=z[i]){if(N){this._oItemNavigation.setFocusedIndex(i);}else{this._oItemNavigation.focusItem(i);}}break;}}}function o(N){var b=this._getStartDate();var $=this.$("months");if($.length>0){var R=sap.ui.getCore().createRenderManager();this.getRenderer().renderMonths(R,this,b);R.flush($[0]);R.destroy();}p.call(this);_.call(this);if(!N){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());}}function p(){var S=this._getStartDate();if(this._getShowHeader()){var $=this.$("Head");if($.length>0){var b=this._getLocaleData();var R=sap.ui.getCore().createRenderManager();this.getRenderer().renderHeaderLine(R,this,b,S);R.flush($[0]);R.destroy();}}}function r(b,z){if(!this._checkMonthEnabled(b)){return false;}var S=this.getSelectedDates();var A;var B=this._oItemNavigation.getItemDomRefs();var $;var Y;var i=0;var P=this.getParent();var E=this;var F;if(P&&P.getSelectedDates){E=P;}if(this.getSingleSelection()){if(S.length>0){A=S[0];F=A.getStartDate();if(F){F=c.fromLocalJSDate(F);F.setDate(1);}}else{A=new sap.ui.unified.DateRange();E.addAggregation("selectedDates",A,true);}if(this.getIntervalSelection()&&(!A.getEndDate()||z)&&F){var G;if(b.isBefore(F)){G=F;F=b;if(!z){A.setProperty("startDate",F.toLocalJSDate(),true);A.setProperty("endDate",G.toLocalJSDate(),true);}}else if(b.isSameOrAfter(F)){G=b;if(!z){A.setProperty("endDate",G.toLocalJSDate(),true);}}s.call(this,F,G);}else{s.call(this,b);A.setProperty("startDate",b.toLocalJSDate(),true);A.setProperty("endDate",undefined,true);}}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection");}else{var H=this._checkDateSelected(b);if(H>0){for(i=0;i<S.length;i++){F=S[i].getStartDate();if(F){F=c.fromLocalJSDate(F);F.setDate(1);if(b.isSame(F)){E.removeAggregation("selectedDates",i,true);break;}}}}else{A=new sap.ui.unified.DateRange({startDate:b.toLocalJSDate()});E.addAggregation("selectedDates",A,true);}Y=this._oFormatYyyymm.format(b.toUTCJSDate(),true);for(i=0;i<B.length;i++){$=q(B[i]);if($.attr("data-sap-month")==Y){if(H>0){$.removeClass("sapUiCalItemSel");$.attr("aria-selected","false");}else{$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");}}}}}return true;}function s(S,E){var b=this._oItemNavigation.getItemDomRefs();var $;var i=0;var z=false;var A=false;if(!E){var Y=this._oFormatYyyymm.format(S.toUTCJSDate(),true);for(i=0;i<b.length;i++){$=q(b[i]);z=false;A=false;if($.attr("data-sap-month")==Y){$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");z=true;}else if($.hasClass("sapUiCalItemSel")){$.removeClass("sapUiCalItemSel");$.attr("aria-selected","false");}if($.hasClass("sapUiCalItemSelStart")){$.removeClass("sapUiCalItemSelStart");}else if($.hasClass("sapUiCalItemSelBetween")){$.removeClass("sapUiCalItemSelBetween");}else if($.hasClass("sapUiCalItemSelEnd")){$.removeClass("sapUiCalItemSelEnd");}t.call(this,$,z,A);}}else{var B;for(i=0;i<b.length;i++){$=q(b[i]);z=false;A=false;B=c.fromLocalJSDate(this._oFormatYyyymm.parse($.attr("data-sap-month")));B.setDate(1);if(B.isSame(S)){$.addClass("sapUiCalItemSelStart");z=true;$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");if(E&&B.isSame(E)){$.addClass("sapUiCalItemSelEnd");A=true;}$.removeClass("sapUiCalItemSelBetween");}else if(E&&a._isBetween(B,S,E)){$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");$.addClass("sapUiCalItemSelBetween");$.removeClass("sapUiCalItemSelStart");$.removeClass("sapUiCalItemSelEnd");}else if(E&&B.isSame(E)){$.addClass("sapUiCalItemSelEnd");A=true;$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");$.removeClass("sapUiCalItemSelStart");$.removeClass("sapUiCalItemSelBetween");}else{if($.hasClass("sapUiCalItemSel")){$.removeClass("sapUiCalItemSel");$.attr("aria-selected","false");}if($.hasClass("sapUiCalItemSelStart")){$.removeClass("sapUiCalItemSelStart");}else if($.hasClass("sapUiCalItemSelBetween")){$.removeClass("sapUiCalItemSelBetween");}else if($.hasClass("sapUiCalItemSelEnd")){$.removeClass("sapUiCalItemSelEnd");}}t.call(this,$,z,A);}}}function t($,S,E){if(!this.getIntervalSelection()){return;}var b="";var z=[];var A=this.getId();var B=false;b=$.attr("aria-describedby");if(b){z=b.split(" ");}var F=-1;var G=-1;for(var i=0;i<z.length;i++){var H=z[i];if(H==(A+"-Start")){F=i;}if(H==(A+"-End")){G=i;}}if(F>=0&&!S){z.splice(F,1);B=true;if(G>F){G--;}}if(G>=0&&!E){z.splice(G,1);B=true;}if(F<0&&S){z.push(A+"-Start");B=true;}if(G<0&&E){z.push(A+"-End");B=true;}if(B){b=z.join(" ");$.attr("aria-describedby",b);}}function u(){if(this._bMouseMove){y.call(this,true);}this.fireSelect();}function v(){if(!this._bNamesLengthChecked){var i=0;var z=this.$("months").children();var T=false;var A=this.getMonths();var B=Math.ceil(12/A);var E=0;var F=this._getLocaleData();var G=F.getMonthsStandAlone("wide");var $;for(var b=0;b<B;b++){if(A<12){for(i=0;i<z.length;i++){$=q(q(z[i]).children(".sapUiCalItemText"));$.text(G[(i+E)%12]);}E=E+A;if(E>11){E=11;}}for(i=0;i<z.length;i++){var H=z[i];if(Math.abs(H.clientWidth-H.scrollWidth)>1){T=true;break;}}if(T){break;}}if(A<12){E=this._getStartDate().getMonth();for(i=0;i<z.length;i++){$=q(q(z[i]).children(".sapUiCalItemText"));$.text(G[(i+E)%12]);}}if(T){this._bLongMonth=false;var J=F.getMonthsStandAlone("abbreviated");E=this._getStartDate().getMonth();for(i=0;i<z.length;i++){$=q(q(z[i]).children(".sapUiCalItemText"));$.text(J[(i+E)%12]);}}else{this._bLongMonth=true;}this._bNamesLengthChecked=true;}}function w(){this._sInvalidateMonths=undefined;o.call(this,this._bNoFocus);this._bDateRangeChanged=undefined;this._bNoFocus=undefined;}function x(){q(window.document).bind('mousemove',this._mouseMoveProxy);this._bMouseMove=true;}function y(){q(window.document).unbind('mousemove',this._mouseMoveProxy);this._bMouseMove=undefined;}return M;});};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.MonthsRowRenderer')){jQuery.sap.declare('sap.ui.unified.calendar.MonthsRowRenderer');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/ui/unified/calendar/MonthsRowRenderer",['jquery.sap.global','sap/ui/unified/calendar/CalendarUtils','sap/ui/unified/calendar/CalendarDate','sap/ui/unified/CalendarLegend','sap/ui/unified/CalendarLegendRenderer','sap/ui/unified/library'],function(q,C,a,b,c,l){"use strict";var d=l.CalendarDayType;var M={};M.render=function(r,m){var D=m._getStartDate();var t=m.getTooltip_AsString();var i=m.getId();var A={value:i+"-Descr",append:true};r.write("<div");r.writeControlData(m);r.addClass("sapUiCalMonthsRow");r.addClass("sapUiCalRow");r.writeClasses();if(t){r.writeAttributeEscaped("title",t);}if(m._getShowHeader()){A.value=A.value+" "+i+"-Head";}r.writeAccessibilityState(m,{role:"grid",readonly:"true",multiselectable:!m.getSingleSelection()||m.getIntervalSelection(),labelledby:A});r.write(">");r.write("<span id=\""+i+"-Descr\" style=\"display: none;\">"+m._rb.getText("CALENDAR_DIALOG")+"</span>");if(m.getIntervalSelection()){r.write("<span id=\""+i+"-Start\" style=\"display: none;\">"+m._rb.getText("CALENDAR_START_MONTH")+"</span>");r.write("<span id=\""+i+"-End\" style=\"display: none;\">"+m._rb.getText("CALENDAR_END_MONTH")+"</span>");}this.renderRow(r,m,D);r.write("</div>");};M.renderRow=function(r,m,D){var i=m.getId();this.renderHeader(r,m,D);r.write("<div id=\""+i+"-months\" class=\"sapUiCalItems\">");this.renderMonths(r,m,D);r.write("</div>");};M.renderHeader=function(r,m,D){C._checkCalendarDate(D);if(m._getShowHeader()){var L=m._getLocaleData();var i=m.getId();r.write("<div id=\""+i+"-Head\">");this.renderHeaderLine(r,m,L,D);r.write("</div>");}};M.renderHeaderLine=function(r,m,L,D){C._checkCalendarDate(D);var I=m.getId();var e=m.getMonths();var o=new a(D);var w="";var y=0;var Y=[];var i=0;for(i=0;i<e;i++){y=o.getYear();if(Y.length>0&&Y[Y.length-1].iYear==y){Y[Y.length-1].iMonths++;}else{Y.push({iYear:y,iMonths:1});}o.setMonth(o.getMonth()+1);}for(i=0;i<Y.length;i++){var f=Y[i];w=(100/e*f.iMonths)+"%";r.write("<div id=\""+I+"-Head"+i+"\"class=\"sapUiCalHeadText\" style=\"width:"+w+"\">");r.write(f.iYear);r.write("</div>");}};M.renderMonths=function(r,m,D){var h=this.getHelper(m,D);var e=m.getMonths();var w=(100/e)+"%";var o=new a(D);o.setDate(1);for(var i=0;i<e;i++){this.renderMonth(r,m,o,h,w);o.setMonth(o.getMonth()+1);}};M.getHelper=function(m,D){C._checkCalendarDate(D);var h={};h.sLocale=m._getLocale();h.oLocaleData=m._getLocaleData();h.oToday=new a();h.sCurrentMonth=m._rb.getText("CALENDAR_CURRENT_MONTH");h.sId=m.getId();h.oFormatLong=m._getFormatLong();if(m._bLongMonth||!m._bNamesLengthChecked){h.aMonthNames=h.oLocaleData.getMonthsStandAlone("wide");}else{h.aMonthNames=h.oLocaleData.getMonthsStandAlone("abbreviated");h.aMonthNamesWide=h.oLocaleData.getMonthsStandAlone("wide");}var L=m.getLegend();if(L){var o=sap.ui.getCore().byId(L);if(o){if(!(o instanceof sap.ui.unified.CalendarLegend)){throw new Error(o+" is not an sap.ui.unified.CalendarLegend. "+m);}h.oLegend=o;}else{q.sap.log.warning("CalendarLegend "+L+" does not exist!",m);}}return h;};M.renderMonth=function(r,m,D,h,w){C._checkCalendarDate(D);var A={role:"gridcell",selected:false,label:"",describedby:""};if(!m._bLongMonth&&m._bNamesLengthChecked){A["label"]=h.aMonthNamesWide[D.getMonth()];}var y=m._oFormatYyyymm.format(D.toUTCJSDate(),true);var s=m._checkDateSelected(D);var t=m._getDateType(D);var e=m._checkMonthEnabled(D);r.write("<div");r.writeAttribute("id",h.sId+"-"+y);r.addClass("sapUiCalItem");if(w){r.addStyle("width",w);}if(C._isSameMonthAndYear(D,h.oToday)){r.addClass("sapUiCalItemNow");A["label"]=h.sCurrentMonth+" ";}if(s>0){r.addClass("sapUiCalItemSel");A["selected"]=true;}if(s==2){r.addClass("sapUiCalItemSelStart");A["describedby"]=A["describedby"]+" "+h.sId+"-Start";}else if(s==3){r.addClass("sapUiCalItemSelEnd");A["describedby"]=A["describedby"]+" "+h.sId+"-End";}else if(s==4){r.addClass("sapUiCalItemSelBetween");}else if(s==5){r.addClass("sapUiCalItemSelStart");r.addClass("sapUiCalItemSelEnd");A["describedby"]=A["describedby"]+" "+h.sId+"-Start";A["describedby"]=A["describedby"]+" "+h.sId+"-End";}if(t&&t.type!=d.None){r.addClass("sapUiCalItem"+t.type);if(t.tooltip){r.writeAttributeEscaped('title',t.tooltip);}}if(!e){r.addClass("sapUiCalItemDsbl");A["disabled"]=true;}r.writeAttribute("tabindex","-1");r.writeAttribute("data-sap-month",y);A["label"]=A["label"]+h.oFormatLong.format(D.toUTCJSDate(),true);if(t&&t.type!=d.None){c.addCalendarTypeAccInfo(A,t.type,h.oLegend);}r.writeAccessibilityState(null,A);r.writeClasses();r.writeStyles();r.write(">");r.write("<span");r.addClass("sapUiCalItemText");r.writeClasses();r.write(">");r.write(h.aMonthNames[D.getMonth()]);r.write("</span>");r.write("</div>");};return M;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.TimesRow')){jQuery.sap.declare('sap.ui.unified.calendar.TimesRow');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.core.LocaleData');jQuery.sap.require('sap.ui.core.delegate.ItemNavigation');jQuery.sap.require('sap.ui.core.date.UniversalDate');jQuery.sap.require('sap.ui.core.format.DateFormat');jQuery.sap.require('sap.ui.core.library');jQuery.sap.require('sap.ui.core.Locale');sap.ui.define("sap/ui/unified/calendar/TimesRow",['jquery.sap.global','sap/ui/core/Control','sap/ui/core/LocaleData','sap/ui/core/delegate/ItemNavigation','sap/ui/unified/calendar/CalendarUtils','sap/ui/core/date/UniversalDate','sap/ui/unified/library','sap/ui/core/format/DateFormat','sap/ui/core/library','sap/ui/core/Locale'],function(q,C,L,I,a,U,l,D,c,b){"use strict";var d=c.CalendarType;var T=C.extend("sap.ui.unified.calendar.TimesRow",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},startDate:{type:"object",group:"Data"},items:{type:"int",group:"Appearance",defaultValue:12},intervalMinutes:{type:"int",group:"Appearance",defaultValue:60},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},notVisible:{type:"boolean"}}}}}});T.prototype.init=function(){this._oFormatYyyyMMddHHmm=D.getInstance({pattern:"yyyyMMddHHmm",calendarType:d.Gregorian});this._oFormatLong=D.getDateTimeInstance({style:"long/short"});this._oFormatDate=D.getDateInstance({style:"medium"});this._mouseMoveProxy=q.proxy(this._handleMouseMove,this);this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");};T.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation;}if(this._sInvalidateTimes){q.sap.clearDelayedCall(this._sInvalidateTimes);}};T.prototype.onAfterRendering=function(){_.call(this);};T.prototype.onsapfocusleave=function(E){if(!E.relatedControlId||!q.sap.containsOrEquals(this.getDomRef(),sap.ui.getCore().byId(E.relatedControlId).getFocusDomRef())){if(this._bMouseMove){v.call(this,true);o.call(this,this._getDate());this._bMoveChange=false;this._bMousedownChange=false;s.call(this);}if(this._bMousedownChange){this._bMousedownChange=false;s.call(this);}}};T.prototype.invalidate=function(O){if(!this._bDateRangeChanged&&(!O||!(O instanceof sap.ui.unified.DateRange))){C.prototype.invalidate.apply(this,arguments);}else if(this.getDomRef()&&!this._sInvalidateTimes){if(this._bInvalidateSync){t.call(this);}else{this._sInvalidateTimes=q.sap.delayedCall(0,this,t);}}};T.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var R=this.removeAllAggregation("selectedDates");return R;};T.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var i=this.destroyAggregation("selectedDates");return i;};T.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var R=this.removeAllAggregation("specialDates");return R;};T.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var i=this.destroyAggregation("specialDates");return i;};T.prototype.setIntervalMinutes=function(M){if(M>=720){throw new Error("Only intervals < 720 minutes are allowed; "+this);}if(1440%M>0){throw new Error("A day must be divisible by the interval size; "+this);}this.setProperty("intervalMinutes",M,false);this._oFormatTime=undefined;return this;};T.prototype.setDate=function(i){j.call(this,i,false);return this;};T.prototype._setDate=function(i){var w=a._createLocalDate(i,true);this.setProperty("date",w,true);this._oUTCDate=i;};T.prototype._getDate=function(){if(!this._oUTCDate){this._oUTCDate=a._createUniversalUTCDate(new Date(),undefined,true);}return this._oUTCDate;};T.prototype.setStartDate=function(S){a._checkJSDateObject(S);var y=S.getFullYear();a._checkYearInValidRange(y);var i=a._createUniversalUTCDate(S,undefined,true);this.setProperty("startDate",S,true);this._oUTCStartDate=this._getIntervalStart(i);if(this.getDomRef()){var O=a._createLocalDate(this._getDate(),true);this._bNoRangeCheck=true;this.displayDate(S);this._bNoRangeCheck=false;if(O&&this.checkDateFocusable(O)){this.displayDate(O);}}return this;};T.prototype._getStartDate=function(){if(!this._oUTCStartDate){this._oUTCStartDate=a._createUniversalUTCDate(new Date(),undefined,true);this._oUTCStartDate=this._getIntervalStart(this._oUTCStartDate);}return this._oUTCStartDate;};T.prototype.displayDate=function(i){j.call(this,i,true);return this;};T.prototype._getLocale=function(){var P=this.getParent();if(P&&P.getLocale){return P.getLocale();}else if(!this._sLocale){this._sLocale=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString();}return this._sLocale;};T.prototype._getLocaleData=function(){var P=this.getParent();if(P&&P._getLocaleData){return P._getLocaleData();}else if(!this._oLocaleData){var i=this._getLocale();var w=new b(i);this._oLocaleData=L.getInstance(w);}return this._oLocaleData;};T.prototype._getFormatLong=function(){var i=this._getLocale();if(this._oFormatLong.oLocale.toString()!=i){var w=new b(i);this._oFormatLong=D.getInstance({style:"long/short"},w);}return this._oFormatLong;};T.prototype._getFormatTime=function(){var i=this._getLocale();if(!this._oFormatTime||this._oFormatTime.oLocale.toString()!=i){var w=new b(i);var x=this.getIntervalMinutes();var y=this._getLocaleData();var P;this._oFormatTimeAmPm=undefined;if(x%60==0){P=y.getPreferredHourSymbol();if(y.getTimePattern("short").search("a")>=0){this._oFormatTimeAmPm=D.getTimeInstance({pattern:"a"},w);}}else{P=y.getTimePattern("short");P=P.replace("HH","H");P=P.replace("hh","h");if(P.search("a")>=0){this._oFormatTimeAmPm=D.getTimeInstance({pattern:"a"},w);P=P.replace("a","").trim();}}this._oFormatTime=D.getTimeInstance({pattern:P},w);}return this._oFormatTime;};T.prototype._getFormatDate=function(){var i=this._getLocale();if(this._oFormatDate.oLocale.toString()!=i){var w=new b(i);this._oFormatDate=D.getDateInstance({style:"medium"},w);}return this._oFormatDate;};T.prototype.getIntervalSelection=function(){var P=this.getParent();if(P&&P.getIntervalSelection){return P.getIntervalSelection();}else{return this.getProperty("intervalSelection");}};T.prototype.getSingleSelection=function(){var P=this.getParent();if(P&&P.getSingleSelection){return P.getSingleSelection();}else{return this.getProperty("singleSelection");}};T.prototype.getSelectedDates=function(){var P=this.getParent();if(P&&P.getSelectedDates){return P.getSelectedDates();}else{return this.getAggregation("selectedDates",[]);}};T.prototype.getSpecialDates=function(){var P=this.getParent();if(P&&P.getSpecialDates){return P.getSpecialDates();}else{return this.getAggregation("specialDates",[]);}};T.prototype._getShowHeader=function(){var P=this.getParent();if(P&&P._getShowItemHeader){return P._getShowItemHeader();}else{return this.getProperty("showHeader");}};T.prototype.getIntervalMinutes=function(){var P=this.getParent();if(P&&P.getIntervalMinutes){return P.getIntervalMinutes();}else{return this.getProperty("intervalMinutes");}};T.prototype.getAriaLabelledBy=function(){var P=this.getParent();if(P&&P.getAriaLabelledBy){return P.getAriaLabelledBy();}else{return this.getAssociation("ariaLabelledBy",[]);}};T.prototype.getLegend=function(){var P=this.getParent();if(P&&P.getLegend){return P.getLegend();}else{return this.getAssociation("ariaLabelledBy",[]);}};T.prototype._checkDateSelected=function(w){if(!(w instanceof U)){throw new Error("Date must be a UniversalDate object "+this);}var S=0;var x=this.getSelectedDates();var M=new U(w.getTime());M=this._getIntervalStart(M);var y=M.getTime();for(var i=0;i<x.length;i++){var R=x[i];var z=R.getStartDate();var A=0;if(z){z=a._createUniversalUTCDate(z,undefined,true);z=this._getIntervalStart(z);A=z.getTime();}var E=R.getEndDate();var B=0;if(E){E=a._createUniversalUTCDate(E,undefined,true);E=this._getIntervalStart(E);B=E.getTime();}if(y==A&&!E){S=1;break;}else if(y==A&&E){S=2;if(E&&y==B){S=5;}break;}else if(E&&y==B){S=3;break;}else if(E&&y>A&&y<B){S=4;break;}if(this.getSingleSelection()){break;}}return S;};T.prototype._getDateType=function(w){if(!(w instanceof U)){throw new Error("Date must be a UniversalDate object "+this);}var x;var S=this.getSpecialDates();var M=new U(w.getTime());M=this._getIntervalStart(M);var y=M.getTime();for(var i=0;i<S.length;i++){var R=S[i];var z=R.getStartDate();var A=0;if(z){z=a._createUniversalUTCDate(z,undefined,true);z=this._getIntervalStart(z);A=z.getTime();}var E=R.getEndDate();var B=0;if(E){E=a._createUniversalUTCDate(E,undefined,true);E=this._getIntervalStart(E);E.setUTCMinutes(E.getUTCMinutes()+this.getIntervalMinutes()-1);B=E.getTime();}else if(z.getUTCHours()==0&&z.getUTCMinutes()==0&&z.getUTCSeconds()==0&&z.getUTCMilliseconds()==0){E=new U(z.getTime());E.setUTCDate(E.getUTCDate()+1);B=E.getTime();}if((y==A&&!E)||(y>=A&&y<=B)){x={type:R.getType(),tooltip:R.getTooltip_AsString()};break;}}return x;};T.prototype._checkTimeEnabled=function(i){if(!(i instanceof U)){throw new Error("Date must be a UniversalDate object "+this);}var w=i.getTime();var P=this.getParent();if(P&&P._oMinDate&&P._oMaxDate){if(w<P._oMinDate.getTime()||w>P._oMaxDate.getTime()){return false;}}return true;};T.prototype._handleMouseMove=function(E){if(!this.$().is(":visible")){v.call(this,true);}var $=q(E.target);if($.hasClass("sapUiCalItemText")){$=$.parent();}if($.hasClass("sapUiCalItem")){var O=this._getDate();var F=new U(this._oFormatYyyyMMddHHmm.parse($.attr("data-sap-time"),true).getTime());if(F.getTime()!=O.getTime()){this._setDate(F);o.call(this,F,true);this._bMoveChange=true;}}};T.prototype.onmouseup=function(E){if(this._bMouseMove){v.call(this,true);var F=this._getDate();var w=this._oItemNavigation.getItemDomRefs();for(var i=0;i<w.length;i++){var $=q(w[i]);if($.attr("data-sap-time")==this._oFormatYyyyMMddHHmm.format(F.getJSDate(),true)){$.focus();break;}}if(this._bMoveChange){var x=q(E.target);if(x.hasClass("sapUiCalItemText")){x=x.parent();}if(x.hasClass("sapUiCalItem")){F=new U(this._oFormatYyyyMMddHHmm.parse(x.attr("data-sap-time"),true).getTime());}o.call(this,F);this._bMoveChange=false;this._bMousedownChange=false;s.call(this);}}if(this._bMousedownChange){this._bMousedownChange=false;s.call(this);}};T.prototype.onsapselect=function(E){var S=o.call(this,this._getDate());if(S){s.call(this);}E.stopPropagation();E.preventDefault();};T.prototype.onsapselectmodifiers=function(E){this.onsapselect(E);};T.prototype.onsappageupmodifiers=function(E){var F=new U(this._getDate().getTime());var i=F.getUTCDate();if(E.metaKey||E.ctrlKey){F.setUTCDate(i-7);}else{F.setUTCDate(i-1);}this.fireFocus({date:a._createLocalDate(F,true),notVisible:true});E.preventDefault();};T.prototype.onsappagedownmodifiers=function(E){var F=new U(this._getDate().getTime());var i=F.getUTCDate();if(E.metaKey||E.ctrlKey){F.setUTCDate(i+7);}else{F.setUTCDate(i+1);}this.fireFocus({date:a._createLocalDate(F,true),notVisible:true});E.preventDefault();};T.prototype.checkDateFocusable=function(i){a._checkJSDateObject(i);if(this._bNoRangeCheck){return false;}var S=this._getStartDate();var E=new U(S.getTime());E.setUTCMinutes(E.getUTCMinutes()+this.getItems()*this.getIntervalMinutes());var w=a._createUniversalUTCDate(i,undefined,true);if(w.getTime()>=S.getTime()&&w.getTime()<E.getTime()){return true;}else{return false;}};T.prototype.applyFocusInfo=function(i){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());return this;};T.prototype._getIntervalStart=function(i){var w=i.getTime();var S=new U(i.getTime());S.setUTCHours(0);S.setUTCMinutes(0);S.setUTCSeconds(0);S.setUTCMilliseconds(0);var M=this.getIntervalMinutes();while(S.getTime()<=w){S.setUTCMinutes(S.getUTCMinutes()+M);}var x=new U(S.getTime());x.setUTCMinutes(x.getUTCMinutes()-M);return x;};function _(){var w=this._getDate();var y=this._oFormatYyyyMMddHHmm.format(w.getJSDate(),true);var x=0;var R=this.$("times").get(0);var z=this.$("times").children(".sapUiCalItem");for(var i=0;i<z.length;i++){var $=q(z[i]);if($.attr("data-sap-time")===y){x=i;break;}}if(!this._oItemNavigation){this._oItemNavigation=new I();this._oItemNavigation.attachEvent(I.Events.AfterFocus,e,this);this._oItemNavigation.attachEvent(I.Events.FocusAgain,f,this);this._oItemNavigation.attachEvent(I.Events.BorderReached,g,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(1,true);}this._oItemNavigation.setRootDomRef(R);this._oItemNavigation.setItemDomRefs(z);this._oItemNavigation.setFocusedIndex(x);this._oItemNavigation.setPageSize(z.length);}function e(i){var w=i.getParameter("index");var E=i.getParameter("event");if(!E){return;}var O=this._getDate();var F=new U(O.getTime());var x=this._oItemNavigation.getItemDomRefs();var $=q(x[w]);F=new U(this._oFormatYyyyMMddHHmm.parse($.attr("data-sap-time"),true).getTime());this._setDate(F);this.fireFocus({date:a._createLocalDate(F,true),notVisible:false});if(E.type=="mousedown"){h.call(this,E,F,w);}}function f(i){var w=i.getParameter("index");var E=i.getParameter("event");if(!E){return;}if(E.type=="mousedown"){var F=this._getDate();h.call(this,E,F,w);}}function g(i){var E=i.getParameter("event");var w=this.getItems();var M=this.getIntervalMinutes();var O=this._getDate();var F=new U(O.getTime());if(E.type){switch(E.type){case"sapnext":case"sapnextmodifiers":F.setUTCMinutes(F.getUTCMinutes()+M);break;case"sapprevious":case"sappreviousmodifiers":F.setUTCMinutes(F.getUTCMinutes()-M);break;case"sappagedown":F.setUTCMinutes(F.getUTCMinutes()+M*w);break;case"sappageup":F.setUTCMinutes(F.getUTCMinutes()-M*w);break;default:break;}this.fireFocus({date:a._createLocalDate(F,true),notVisible:true});}}function h(E,F,i){if(E.button){return;}var S=o.call(this,F);if(S){this._bMousedownChange=true;}if(this._bMouseMove){v.call(this,true);this._bMoveChange=false;}else if(this.getIntervalSelection()&&this.$().is(":visible")){u.call(this,true);}E.preventDefault();E.setMark("cancelAutoClose");}function j(i,N){a._checkJSDateObject(i);var y=i.getFullYear();a._checkYearInValidRange(y);var F=true;if(!q.sap.equal(this.getDate(),i)){var w=a._createUniversalUTCDate(i,undefined,true);w=this._getIntervalStart(w);F=this.checkDateFocusable(i);if(!this._bNoRangeCheck&&!F){throw new Error("Date must be in visible date range; "+this);}this.setProperty("date",i,true);this._oUTCDate=w;}if(this.getDomRef()){if(F){k.call(this,this._oUTCDate,N);}else{m.call(this,N);}}}function k(w,N){var y=this._oFormatYyyyMMddHHmm.format(w.getJSDate(),true);var x=this._oItemNavigation.getItemDomRefs();var $;for(var i=0;i<x.length;i++){$=q(x[i]);if($.attr("data-sap-time")==y){if(document.activeElement!=x[i]){if(N){this._oItemNavigation.setFocusedIndex(i);}else{this._oItemNavigation.focusItem(i);}}break;}}}function m(N){var i=this._getStartDate();var $=this.$("times");if($.length>0){var R=sap.ui.getCore().createRenderManager();this.getRenderer().renderTimes(R,this,i);R.flush($[0]);R.destroy();}n.call(this);_.call(this);if(!N){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());}}function n(){var S=this._getStartDate();if(this._getShowHeader()){var $=this.$("Head");if($.length>0){var i=this._getLocaleData();var R=sap.ui.getCore().createRenderManager();this.getRenderer().renderHeaderLine(R,this,i,S);R.flush($[0]);R.destroy();}}}function o(w,M){if(!this._checkTimeEnabled(w)){return false;}var S=this.getSelectedDates();var x;var y=this._oItemNavigation.getItemDomRefs();var $;var Y;var i=0;var P=this.getParent();var A=this;var z;if(P&&P.getSelectedDates){A=P;}if(this.getSingleSelection()){if(S.length>0){x=S[0];z=x.getStartDate();if(z){z=a._createUniversalUTCDate(z,undefined,true);z=this._getIntervalStart(z);}}else{x=new sap.ui.unified.DateRange();A.addAggregation("selectedDates",x,true);}if(this.getIntervalSelection()&&(!x.getEndDate()||M)&&z){var E;if(w.getTime()<z.getTime()){E=z;z=w;if(!M){x.setProperty("startDate",a._createLocalDate(new Date(z.getTime()),true),true);x.setProperty("endDate",a._createLocalDate(new Date(E.getTime()),true),true);}}else if(w.getTime()>=z.getTime()){E=w;if(!M){x.setProperty("endDate",a._createLocalDate(new Date(E.getTime()),true),true);}}p.call(this,z,E);}else{p.call(this,w);x.setProperty("startDate",a._createLocalDate(new Date(w.getTime()),true),true);x.setProperty("endDate",undefined,true);}}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection");}else{var B=this._checkDateSelected(w);if(B>0){for(i=0;i<S.length;i++){z=S[i].getStartDate();if(z){z=a._createUniversalUTCDate(z,undefined,true);z=this._getIntervalStart(z);if(w.getTime()==z.getTime()){A.removeAggregation("selectedDates",i,true);break;}}}}else{x=new sap.ui.unified.DateRange({startDate:a._createLocalDate(new Date(w.getTime()),true)});A.addAggregation("selectedDates",x,true);}Y=this._oFormatYyyyMMddHHmm.format(w.getJSDate(),true);for(i=0;i<y.length;i++){$=q(y[i]);if($.attr("data-sap-time")==Y){if(B>0){$.removeClass("sapUiCalItemSel");$.attr("aria-selected","false");}else{$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");}}}}}return true;}function p(S,E){var w=this._oItemNavigation.getItemDomRefs();var $;var i=0;var x=false;var y=false;if(!E){var Y=this._oFormatYyyyMMddHHmm.format(S.getJSDate(),true);for(i=0;i<w.length;i++){$=q(w[i]);x=false;y=false;if($.attr("data-sap-time")==Y){$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");x=true;}else if($.hasClass("sapUiCalItemSel")){$.removeClass("sapUiCalItemSel");$.attr("aria-selected","false");}if($.hasClass("sapUiCalItemSelStart")){$.removeClass("sapUiCalItemSelStart");}else if($.hasClass("sapUiCalItemSelBetween")){$.removeClass("sapUiCalItemSelBetween");}else if($.hasClass("sapUiCalItemSelEnd")){$.removeClass("sapUiCalItemSelEnd");}r.call(this,$,x,y);}}else{var z;for(i=0;i<w.length;i++){$=q(w[i]);x=false;y=false;z=new U(this._oFormatYyyyMMddHHmm.parse($.attr("data-sap-time"),true).getTime());if(z.getTime()==S.getTime()){$.addClass("sapUiCalItemSelStart");x=true;$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");if(E&&z.getTime()==E.getTime()){$.addClass("sapUiCalItemSelEnd");y=true;}$.removeClass("sapUiCalItemSelBetween");}else if(E&&z.getTime()>S.getTime()&&z.getTime()<E.getTime()){$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");$.addClass("sapUiCalItemSelBetween");$.removeClass("sapUiCalItemSelStart");$.removeClass("sapUiCalItemSelEnd");}else if(E&&z.getTime()==E.getTime()){$.addClass("sapUiCalItemSelEnd");y=true;$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");$.removeClass("sapUiCalItemSelStart");$.removeClass("sapUiCalItemSelBetween");}else{if($.hasClass("sapUiCalItemSel")){$.removeClass("sapUiCalItemSel");$.attr("aria-selected","false");}if($.hasClass("sapUiCalItemSelStart")){$.removeClass("sapUiCalItemSelStart");}else if($.hasClass("sapUiCalItemSelBetween")){$.removeClass("sapUiCalItemSelBetween");}else if($.hasClass("sapUiCalItemSelEnd")){$.removeClass("sapUiCalItemSelEnd");}}r.call(this,$,x,y);}}}function r($,S,E){if(!this.getIntervalSelection()){return;}var w="";var x=[];var y=this.getId();var z=false;w=$.attr("aria-describedby");if(w){x=w.split(" ");}var A=-1;var B=-1;for(var i=0;i<x.length;i++){var F=x[i];if(F==(y+"-Start")){A=i;}if(F==(y+"-End")){B=i;}}if(A>=0&&!S){x.splice(A,1);z=true;if(B>A){B--;}}if(B>=0&&!E){x.splice(B,1);z=true;}if(A<0&&S){x.push(y+"-Start");z=true;}if(B<0&&E){x.push(y+"-End");z=true;}if(z){w=x.join(" ");$.attr("aria-describedby",w);}}function s(){if(this._bMouseMove){v.call(this,true);}this.fireSelect();}function t(){this._sInvalidateTimes=undefined;m.call(this,this._bNoFocus);this._bDateRangeChanged=undefined;this._bNoFocus=undefined;}function u(){q(window.document).bind('mousemove',this._mouseMoveProxy);this._bMouseMove=true;}function v(){q(window.document).unbind('mousemove',this._mouseMoveProxy);this._bMouseMove=undefined;}return T;});};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.TimesRowRenderer')){jQuery.sap.declare('sap.ui.unified.calendar.TimesRowRenderer');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.date.UniversalDate');sap.ui.define("sap/ui/unified/calendar/TimesRowRenderer",['jquery.sap.global','sap/ui/unified/calendar/CalendarUtils','sap/ui/core/date/UniversalDate','sap/ui/unified/CalendarLegend','sap/ui/unified/CalendarLegendRenderer','sap/ui/unified/library'],function(q,C,U,a,b,l){"use strict";var c=l.CalendarDayType;var T={};T.render=function(r,t){var d=t._getStartDate();var s=t.getTooltip_AsString();var i=t.getId();var A={value:i+"-Descr",append:true};r.write("<div");r.writeControlData(t);r.addClass("sapUiCalTimesRow");r.addClass("sapUiCalRow");r.writeClasses();if(s){r.writeAttributeEscaped("title",s);}if(t._getShowHeader()){A.value=A.value+" "+i+"-Head";}r.writeAccessibilityState(t,{role:"grid",readonly:"true",multiselectable:!t.getSingleSelection()||t.getIntervalSelection(),labelledby:A});r.write(">");r.write("<span id=\""+i+"-Descr\" style=\"display: none;\">"+t._rb.getText("CALENDAR_DIALOG")+"</span>");if(t.getIntervalSelection()){r.write("<span id=\""+i+"-Start\" style=\"display: none;\">"+t._rb.getText("CALENDAR_START_TIME")+"</span>");r.write("<span id=\""+i+"-End\" style=\"display: none;\">"+t._rb.getText("CALENDAR_END_TIME")+"</span>");}this.renderRow(r,t,d);r.write("</div>");};T.renderRow=function(r,t,d){var i=t.getId();this.renderHeader(r,t,d);r.write("<div id=\""+i+"-times\" class=\"sapUiCalItems\">");this.renderTimes(r,t,d);r.write("</div>");};T.renderHeader=function(r,t,d){if(t._getShowHeader()){var L=t._getLocaleData();var i=t.getId();r.write("<div id=\""+i+"-Head\">");this.renderHeaderLine(r,t,L,d);r.write("</div>");}};T.renderHeaderLine=function(r,t,L,d){var f=t._getFormatDate();var I=t.getId();var e=t.getItems();var o=t._getIntervalStart(d);var m=t.getIntervalMinutes();var w="";var D=0;var g=[];var i=0;for(i=0;i<e;i++){D=f.format(o,true);if(g.length>0&&g[g.length-1].sDay==D){g[g.length-1].iItems++;}else{g.push({sDay:D,iItems:1});}o.setUTCMinutes(o.getUTCMinutes()+m);}for(i=0;i<g.length;i++){var h=g[i];w=(100/e*h.iItems)+"%";r.write("<div id=\""+I+"-Head"+i+"\"class=\"sapUiCalHeadText\" style=\"width:"+w+"\">");r.write(h.sDay);r.write("</div>");}};T.renderTimes=function(r,t,d){var h=this.getHelper(t,d);var I=t.getItems();var w=(100/I)+"%";var o=t._getIntervalStart(d);var O="";var A="";for(var i=0;i<I;i++){if(h.oFormatTimeAmPm){A=h.oFormatTimeAmPm.format(o,true);if(O==A){A="";}else{O=A;}}this.renderTime(r,t,o,h,w,A);o.setUTCMinutes(o.getUTCMinutes()+h.iMinutes);}};T.getHelper=function(t,d){var h={};h.sLocale=t._getLocale();h.oLocaleData=t._getLocaleData();h.oNow=C._createUniversalUTCDate(new Date(),undefined,true);h.sCurrentTime=t._rb.getText("CALENDAR_CURRENT_TIME");h.sId=t.getId();h.oFormatLong=t._getFormatLong();h.oFormatTime=t._getFormatTime();h.oFormatTimeAmPm=t._oFormatTimeAmPm;h.iMinutes=t.getIntervalMinutes();var L=t.getLegend();if(L){var o=sap.ui.getCore().byId(L);if(o){if(!(o instanceof sap.ui.unified.CalendarLegend)){throw new Error(o+" is not an sap.ui.unified.CalendarLegend. "+t);}h.oLegend=o;}else{q.sap.log.warning("CalendarLegend "+L+" does not exist!",t);}}return h;};T.renderTime=function(r,t,d,h,w,A){var m={role:"gridcell",selected:false,label:"",describedby:""};var y=t._oFormatYyyyMMddHHmm.format(d.getJSDate(),true);var s=t._checkDateSelected(d);var o=t._getDateType(d);var e=t._checkTimeEnabled(d);r.write("<div");r.writeAttribute("id",h.sId+"-"+y);r.addClass("sapUiCalItem");if(w){r.addStyle("width",w);}var n=new U(d.getTime());n.setUTCMinutes(n.getUTCMinutes()+h.iMinutes);if(d.getTime()<=h.oNow.getTime()&&n.getTime()>h.oNow.getTime()){r.addClass("sapUiCalItemNow");m["label"]=h.sCurrentTime+" ";}if(s>0){r.addClass("sapUiCalItemSel");m["selected"]=true;}if(s==2){r.addClass("sapUiCalItemSelStart");m["describedby"]=m["describedby"]+" "+h.sId+"-Start";}else if(s==3){r.addClass("sapUiCalItemSelEnd");m["describedby"]=m["describedby"]+" "+h.sId+"-End";}else if(s==4){r.addClass("sapUiCalItemSelBetween");}else if(s==5){r.addClass("sapUiCalItemSelStart");r.addClass("sapUiCalItemSelEnd");m["describedby"]=m["describedby"]+" "+h.sId+"-Start";m["describedby"]=m["describedby"]+" "+h.sId+"-End";}if(o&&o.type!=c.None){r.addClass("sapUiCalItem"+o.type);if(o.tooltip){r.writeAttributeEscaped('title',o.tooltip);}}if(!e){r.addClass("sapUiCalItemDsbl");m["disabled"]=true;}r.writeAttribute("tabindex","-1");r.writeAttribute("data-sap-time",y);m["label"]=m["label"]+h.oFormatLong.format(d,true);if(o&&o.type!=c.None){b.addCalendarTypeAccInfo(m,o.type,h.oLegend);}r.writeAccessibilityState(null,m);r.writeClasses();r.writeStyles();r.write(">");r.write("<span");r.addClass("sapUiCalItemText");r.writeClasses();r.write(">");r.write(h.oFormatTime.format(d,true));if(A){r.write("<span");r.addClass("sapUiCalItemTextAmPm");r.writeClasses();r.write(">");r.write(A);r.write("</span>");}r.write("</span>");r.write("</div>");};return T;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.YearPicker')){jQuery.sap.declare('sap.ui.unified.calendar.YearPicker');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.delegate.ItemNavigation');jQuery.sap.require('sap.ui.core.date.UniversalDate');jQuery.sap.require('sap.ui.core.format.DateFormat');jQuery.sap.require('sap.ui.core.library');jQuery.sap.require('jquery.sap.keycodes');sap.ui.define("sap/ui/unified/calendar/YearPicker",['jquery.sap.global','sap/ui/core/Control','sap/ui/Device','sap/ui/core/delegate/ItemNavigation','sap/ui/unified/calendar/CalendarUtils','sap/ui/unified/calendar/CalendarDate','sap/ui/core/date/UniversalDate','sap/ui/unified/library','sap/ui/core/format/DateFormat','sap/ui/core/library','jquery.sap.keycodes'],function(q,C,D,I,a,b,U,l,c,d){"use strict";var e=d.CalendarType;var Y=C.extend("sap.ui.unified.calendar.YearPicker",{metadata:{library:"sap.ui.unified",properties:{year:{type:"int",group:"Data",defaultValue:2000},years:{type:"int",group:"Appearance",defaultValue:20},columns:{type:"int",group:"Appearance",defaultValue:4},date:{type:"object",group:"Data"},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"}},events:{select:{},pageChange:{}}}});Y.prototype.init=function(){var s=sap.ui.getCore().getConfiguration().getCalendarType();this.setProperty("primaryCalendarType",s);this._oYearFormat=c.getDateInstance({format:"y",calendarType:s});this._oFormatYyyymmdd=c.getInstance({pattern:"yyyyMMdd",calendarType:e.Gregorian});this._oMinDate=a._minDate(this.getPrimaryCalendarType());this._oMaxDate=a._maxDate(this.getPrimaryCalendarType());};Y.prototype.onAfterRendering=function(){_.call(this);};Y.prototype.setYear=function(y){this.setProperty("year",y,true);y=this.getProperty("year");var o=b.fromLocalJSDate(new Date(),this.getPrimaryCalendarType());o.setDate(1);o.setMonth(0);o.setYear(y);this.setDate(o.toLocalJSDate());return this;};Y.prototype.setDate=function(o){var i,y,p,F;o&&a._checkJSDateObject(o);y=o.getFullYear();a._checkYearInValidRange(y);i=b.fromLocalJSDate(o,this.getPrimaryCalendarType());i.setMonth(0);i.setDate(1);this.setProperty("date",o,true);this.setProperty("year",i.getYear(),true);this._oDate=i;if(this.getDomRef()){p=this.getYears();F=new b(this._oDate,this.getPrimaryCalendarType());F.setYear(F.getYear()-Math.floor(p/2));n.call(this,F,Math.floor(p/2));}return this;};Y.prototype._getDate=function(){if(!this._oDate){var y=this.getYear();this._oDate=new b(y,0,1,this.getPrimaryCalendarType());}return this._oDate;};Y.prototype.setPrimaryCalendarType=function(s){this.setProperty("primaryCalendarType",s);this._oYearFormat=c.getDateInstance({format:"y",calendarType:s});if(this._oDate){this._oDate=new b(this._oDate,s);this._oDate.setMonth(0);this._oDate.setDate(1);}this._oMinDate=new b(this._oMinDate,s);this._oMaxDate=new b(this._oMaxDate,s);return this;};Y.prototype.nextPage=function(){m.call(this,true,this._oItemNavigation.getFocusedIndex());return this;};Y.prototype.previousPage=function(){m.call(this,false,this._oItemNavigation.getFocusedIndex());return this;};Y.prototype.onsapspace=function(E){E.preventDefault();};Y.prototype.onsapselect=function(E){var i=this._oItemNavigation.getFocusedIndex();var s=k.call(this,i);if(s){this.fireSelect();}};Y.prototype.onmousedown=function(E){this._oMousedownPosition={clientX:E.clientX,clientY:E.clientY};};Y.prototype.onmouseup=function(E){if(this._bMousedownChange){this._bMousedownChange=false;this.fireSelect();}else if(D.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,E.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,E.clientY,10)){var i=this._oItemNavigation.getFocusedIndex();k.call(this,i);this.fireSelect();}};Y.prototype.getFirstRenderedDate=function(){var F;if(this.getDomRef()){var i=this._oItemNavigation.getItemDomRefs();F=this._oFormatYyyymmdd.parse(q(i[0]).attr("data-sap-year-start"),true);}return F;};Y.prototype._isValueInThreshold=function(r,v,t){var L=r-t,u=r+t;return v>=L&&v<=u;};Y.prototype._checkFirstDate=function(o){var y=this.getYears();var M=new b(this._oMaxDate,this.getPrimaryCalendarType());M.setYear(M.getYear()-y+1);if(o.isAfter(M)&&o.getYear()!=M.getYear()){o=new b(M,this.getPrimaryCalendarType());o.setMonth(0);o.setDate(1);}else if(o.isBefore(this._oMinDate)&&o.getYear()!=this._oMinDate.getYear()){o=new b(this._oMinDate,this.getPrimaryCalendarType());o.setMonth(0);o.setDate(1);}return o;};Y.prototype._checkDateEnabled=function(o){var E=true;if((o.isAfter(this._oMaxDate)&&o.getYear()!=this._oMaxDate.getYear())||(o.isBefore(this._oMinDate)&&o.getYear()!=this._oMinDate.getYear())){E=false;}return E;};function _(){var y=this.getYears();var i=this._getDate().getYear();var M=this._oMinDate.getYear();var o=this._oMaxDate.getYear();var r=this.getDomRef();var p=this.$().find(".sapUiCalItem");var s=Math.floor(y/2);if(i>o-Math.floor(y/2)){s=s+i-o+Math.floor(y/2);}else if(i<=M+Math.floor(y/2)){s=i-M;}if(!this._oItemNavigation){this._oItemNavigation=new I();this._oItemNavigation.attachEvent(I.Events.AfterFocus,f,this);this._oItemNavigation.attachEvent(I.Events.FocusAgain,g,this);this._oItemNavigation.attachEvent(I.Events.BorderReached,j,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setHomeEndColumnMode(true,true);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});}this._oItemNavigation.setRootDomRef(r);this._oItemNavigation.setItemDomRefs(p);this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(this.getColumns(),true);this._oItemNavigation.setFocusedIndex(s);this._oItemNavigation.setPageSize(p.length);}function f(o){var i=o.getParameter("index");var E=o.getParameter("event");if(!E){return;}if(E.type=="mousedown"){h.call(this,E,i);}}function g(o){var i=o.getParameter("index");var E=o.getParameter("event");if(!E){return;}if(E.type=="mousedown"){h.call(this,E,i);}}function h(E,i){if(E.button||D.support.touch){return;}var s=k.call(this,i);if(s){this._bMousedownChange=true;}E.preventDefault();E.setMark("cancelAutoClose");}function j(o){var E=o.getParameter("event");if(E.type){var y=this.getYears();var i=this.getColumns();if(i==0){i=y;}switch(E.type){case"sapnext":case"sapnextmodifiers":if(E.keyCode==q.sap.KeyCodes.ARROW_DOWN&&i<y){m.call(this,true,this._oItemNavigation.getFocusedIndex()-y+i,true);}else{m.call(this,true,0,true);}break;case"sapprevious":case"sappreviousmodifiers":if(E.keyCode==q.sap.KeyCodes.ARROW_UP&&i<y){m.call(this,false,y-i+this._oItemNavigation.getFocusedIndex(),true);}else{m.call(this,false,y-1,true);}break;case"sappagedown":m.call(this,true,this._oItemNavigation.getFocusedIndex(),true);break;case"sappageup":m.call(this,false,this._oItemNavigation.getFocusedIndex(),true);break;default:break;}}}function k(o){var p=this._oItemNavigation.getItemDomRefs();var $=q(p[o]);if($.hasClass("sapUiCalItemDsbl")){return false;}var y=$.attr("data-sap-year-start");var r=b.fromLocalJSDate(this._oFormatYyyymmdd.parse(y));var s=this.getId()+"-y"+y;for(var i=0;i<p.length;i++){$=q(p[i]);if($.attr("id")==s){$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");}else{$.removeClass("sapUiCalItemSel");$.attr("aria-selected","false");}}this.setProperty("date",r.toLocalJSDate(),true);this.setProperty("year",r.getYear(),true);return true;}function m(F,s,i){var o=this._oItemNavigation.getItemDomRefs();var p=b.fromLocalJSDate(this._oFormatYyyymmdd.parse(q(o[0]).attr("data-sap-year-start")),this.getPrimaryCalendarType());var y=this.getYears();if(F){var M=new b(this._oMaxDate,this.getPrimaryCalendarType());M.setYear(M.getYear()-y+1);if(p.isBefore(M)){p.setYear(p.getYear()+y);if(p.isAfter(M)){s=s+(p.getYear()-M.getYear());if(s>y-1){s=y-1;}p=this._oMaxDate;p.setMonth(0);p.setDate(1);}}else{return;}}else{if(p.isAfter(this._oMinDate)){p.setYear(p.getYear()-y);if(p.isBefore(this._oMinDate)){s=s-(this._oMinDate.getYear()-p.getYear());if(s<0){s=0;}p=new b(this._oMinDate,this.getPrimaryCalendarType());}}else{return;}}n.call(this,p,s);if(i){this.firePageChange();}}function n(F,s){var o=this._oFormatYyyymmdd.format(this._getDate().toUTCJSDate(),true);var E=false;var p=this._checkFirstDate(F);var S;if(!p.isSame(F)){S=new b(F,this.getPrimaryCalendarType());S.setYear(S.getYear()+s);F=p;E=true;}var r=this._oItemNavigation.getItemDomRefs();var t=new b(F,this.getPrimaryCalendarType());for(var i=0;i<r.length;i++){var y=this._oFormatYyyymmdd.format(t.toUTCJSDate(),true);var $=q(r[i]);$.attr("id",this.getId()+"-y"+y);$.text(this._oYearFormat.format(U.getInstance(t.toUTCJSDate(),t.getCalendarType()),true));$.attr("data-sap-year-start",y);if($.hasClass("sapUiCalItemSel")&&y!=o){$.removeClass("sapUiCalItemSel");$.attr("aria-selected","false");}else if(!$.hasClass("sapUiCalItemSel")&&y==o){$.addClass("sapUiCalItemSel");$.attr("aria-selected","true");}var u=true;if(E){u=this._checkDateEnabled(t);if(t.isSame(S)){s=i;}}if(u){$.removeClass("sapUiCalItemDsbl");$.removeAttr("aria-disabled");}else{$.addClass("sapUiCalItemDsbl");$.attr("aria-disabled",true);}t.setYear(t.getYear()+1);}this._oItemNavigation.focusItem(s);}return Y;});};if(!jQuery.sap.isDeclared('sap.ui.unified.Calendar')){jQuery.sap.declare('sap.ui.unified.Calendar');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.core.LocaleData');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.format.DateFormat');jQuery.sap.require('sap.ui.core.ResizeHandler');jQuery.sap.require('sap.ui.core.Locale');sap.ui.define("sap/ui/unified/Calendar",['jquery.sap.global','sap/ui/core/Control','sap/ui/core/LocaleData','sap/ui/unified/calendar/CalendarUtils','./calendar/Header','./calendar/Month','./calendar/MonthPicker','./calendar/YearPicker','./calendar/CalendarDate','./library','sap/ui/Device','sap/ui/core/format/DateFormat','sap/ui/core/ResizeHandler','sap/ui/core/Locale'],function(q,C,L,a,H,M,b,Y,c,l,D,d,R,e){"use strict";var f=C.extend("sap.ui.unified.Calendar",{metadata:{library:"sap.ui.unified",properties:{intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},months:{type:"int",group:"Appearance",defaultValue:1},firstDayOfWeek:{type:"int",group:"Appearance",defaultValue:-1},nonWorkingDays:{type:"int[]",group:"Appearance",defaultValue:null},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance",defaultValue:null},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null},showWeekNumbers:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},disabledDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"disabledDate"},header:{type:"sap.ui.unified.calendar.Header",multiple:false,visibility:"hidden"},month:{type:"sap.ui.unified.calendar.Month",multiple:true,visibility:"hidden"},monthPicker:{type:"sap.ui.unified.calendar.MonthPicker",multiple:false,visibility:"hidden"},yearPicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},cancel:{},startDateChange:{}}}});f.prototype.init=function(){this._iBreakPointTablet=D.media._predefinedRangeSets[D.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=D.media._predefinedRangeSets[D.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=D.media._predefinedRangeSets[D.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];var s=sap.ui.getCore().getConfiguration().getCalendarType();this.setProperty("primaryCalendarType",s);this.setProperty("secondaryCalendarType",s);this._iMode=0;this._oYearFormat=d.getDateInstance({format:"y",calendarType:s});this.data("sap-ui-fastnavgroup","true",true);this._oMinDate=a._minDate(this.getPrimaryCalendarType());this._oMaxDate=a._maxDate(this.getPrimaryCalendarType());this._initializeHeader();var i=this._createMonth(this.getId()+"--Month0");i.attachEvent("focus",this._handleFocus,this);i.attachEvent("select",m,this);i.attachEvent("_renderMonth",k,this);i.attachEvent("_bindMousemove",n,this);i.attachEvent("_unbindMousemove",o,this);i._bNoThemeChange=true;this.addAggregation("month",i);this._initilizeMonthPicker();this._initilizeYearPicker();this._resizeProxy=q.proxy(p,this);this._oSelectedMonth;};f.prototype.exit=function(){if(this._sInvalidateMonth){q.sap.clearDelayedCall(this._sInvalidateMonth);}if(this._sResizeListener){R.deregister(this._sResizeListener);this._sResizeListener=undefined;}this._oSelectedMonth=null;};f.prototype._initializeHeader=function(){var i=new H(this.getId()+"--Head");i.attachEvent("pressPrevious",this._handlePrevious,this);i.attachEvent("pressNext",this._handleNext,this);i.attachEvent("pressButton1",this._handleButton1,this);i.attachEvent("pressButton2",this._handleButton2,this);this.setAggregation("header",i);};f.prototype._initilizeMonthPicker=function(){var i=new b(this.getId()+"--MP");i.attachEvent("select",this._selectMonth,this);i._bNoThemeChange=true;this.setAggregation("monthPicker",i);};f.prototype._initilizeYearPicker=function(){var y=new Y(this.getId()+"--YP");y.attachEvent("select",this._selectYear,this);this.setAggregation("yearPicker",y);};f.prototype._createMonth=function(i){var s=new M(i,{width:"100%"});s.attachEvent("datehovered",this._handleDateHovered,this);return s;};f.prototype._handleDateHovered=function(E){var s=this.getAggregation("month"),t=E.getParameter("date1"),u=E.getParameter("date2"),i;for(i=0;i<s.length;i++){s[i]._markDatesBetweenStartAndHoveredDate(t,u);}};f.prototype.onBeforeRendering=function(){var s=this.getAggregation("month");var t;var u=s[0].getDate();var F=this._getFocusedDate();if(s.length>1&&u){t=c.fromLocalJSDate(u,this.getPrimaryCalendarType());}else if(s.length>1){t=r.call(this,this._getFocusedDate());}else{t=F;}for(var i=0;i<s.length;i++){u=new c(t);if(i>0){u.setDate(1);u.setMonth(u.getMonth()+i);}var v=u;if(F.getYear()===u.getYear()&&F.getMonth()===u.getMonth()){v=F;}s[i].displayDate(v.toLocalJSDate());s[i].setShowWeekNumbers(this.getShowWeekNumbers());}this._updateHeader(t);this._iSize=0;};f.prototype.onAfterRendering=function(E){if(!this._getSucessorsPickerPopup()){g.call(this);}if(j.call(this)>1||this._bInitMonth){E.size={width:this.getDomRef().offsetWidth};p.call(this,E,true);if(!this._sResizeListener){this._sResizeListener=R.register(this,this._resizeProxy);}this._bInitMonth=undefined;}};f.prototype.invalidate=function(O){if(!this._bDateRangeChanged&&(!O||!(O instanceof sap.ui.unified.DateRange))){C.prototype.invalidate.apply(this,arguments);}else if(this.getDomRef()&&this._iMode==0&&!this._sInvalidateMonth){this._sInvalidateMonth=q.sap.delayedCall(0,this,this._invalidateMonth,[O]);}};f.prototype.removeSelectedDate=function(s){this._bDateRangeChanged=true;return this.removeAggregation("selectedDates",s);};f.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var i=this.removeAllAggregation("selectedDates");return i;};f.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var i=this.destroyAggregation("selectedDates");return i;};f.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var i=this.removeAllAggregation("specialDates");return i;};f.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var i=this.destroyAggregation("specialDates");return i;};f.prototype.getSpecialDates=function(){var P=this.getParent();if(P&&P.getSpecialDates){return P.getSpecialDates();}else{return this.getAggregation("specialDates",[]);}};f.prototype.removeAllDisabledDates=function(){this._bDateRangeChanged=true;var i=this.removeAllAggregation("disabledDates");return i;};f.prototype.destroyDisabledDates=function(){this._bDateRangeChanged=true;var i=this.destroyAggregation("disabledDates");return i;};f.prototype.setLocale=function(s){if(this._sLocale!=s){this._sLocale=s;this._oLocaleData=undefined;this.invalidate();}return this;};f.prototype.getLocale=function(){if(!this._sLocale){this._sLocale=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString();}return this._sLocale;};f.prototype._getFocusedDate=function(){if(!this._oFocusedDate){_.call(this);}return this._oFocusedDate;};f.prototype._setFocusedDate=function(i){a._checkCalendarDate(i);this._oFocusedDate=new c(i,this.getPrimaryCalendarType());};f.prototype.focusDate=function(i){h.call(this,i,false);return this;};f.prototype.displayDate=function(i){h.call(this,i,true);return this;};f.prototype.getStartDate=function(){var s;if(this.getDomRef()){var i=this.getAggregation("month");s=c.fromLocalJSDate(i[0].getDate(),this.getPrimaryCalendarType());}else{s=new c(this._getFocusedDate());}s.setDate(1);return s.toLocalJSDate();};f.prototype.setPopupMode=function(P){this._bPoupupMode=P;return this;};f.prototype.setMonths=function(s){this._bDateRangeChanged=undefined;this.setProperty("months",s,false);s=j.call(this);var t=this.getAggregation("month");var i=0;var u;if(t.length<s){for(i=t.length;i<s;i++){u=this._createMonth(this.getId()+"--Month"+i);u.attachEvent("focus",this._handleFocus,this);u.attachEvent("select",m,this);u.attachEvent("_renderMonth",k,this);u.attachEvent("_bindMousemove",n,this);u.attachEvent("_unbindMousemove",o,this);u._bNoThemeChange=true;this.addAggregation("month",u);}}else if(t.length>s){for(i=t.length;i>s;i--){u=this.removeAggregation("month",i-1);u.destroy();}if(s==1){this._bInitMonth=true;}}if(s>1&&t[0].getDate()){t[0].setProperty("date",null,true);}return this;};f.prototype.setPrimaryCalendarType=function(s){var t=this.getAggregation("month");var u=false;if(t.length>1){u=true;}this.setProperty("primaryCalendarType",s,!u);this._oYearFormat=d.getDateInstance({format:"y",calendarType:s});if(this._oFocusedDate){this._oFocusedDate=new c(this._oFocusedDate,s);}this._oMinDate=new c(this._oMinDate,s);this._oMaxDate=new c(this._oMaxDate,s);for(var i=0;i<t.length;i++){var v=t[i];v.setPrimaryCalendarType(s);}if(!this._getSucessorsPickerPopup()){var w=this.getAggregation("monthPicker");w.setPrimaryCalendarType(s);var y=this.getAggregation("yearPicker");y.setPrimaryCalendarType(s);}if(this.getDomRef()){this._updateHeader(this._oFocusedDate);if(!this._getSucessorsPickerPopup()){if(this.iMode!=1&&w.getDomRef()){w.$().remove();}if(this.iMode!=2&&y.getDomRef()){y.$().remove();}}}return this;};f.prototype.setSecondaryCalendarType=function(s){this._bSecondaryCalendarTypeSet=true;this.setProperty("secondaryCalendarType",s,true);this._oYearFormatSecondary=d.getDateInstance({format:"y",calendarType:s});var t=this.getAggregation("month");for(var i=0;i<t.length;i++){var u=t[i];u.setSecondaryCalendarType(s);}if(this.getDomRef()){this._updateHeader(this._getFocusedDate());this.$().toggleClass("sapUiCalSecType",!!this._getSecondaryCalendarType());}return this;};f.prototype._getSecondaryCalendarType=function(){var s;if(this._bSecondaryCalendarTypeSet){s=this.getSecondaryCalendarType();var P=this.getPrimaryCalendarType();if(s==P){s=undefined;}}return s;};f.prototype.setMinDate=function(i){if(q.sap.equal(i,this.getMinDate())){return this;}if(!i){this._oMinDate=a._minDate(this.getPrimaryCalendarType());}else{a._checkJSDateObject(i);this._oMinDate=c.fromLocalJSDate(i,this.getPrimaryCalendarType());var y=this._oMinDate.getYear();a._checkYearInValidRange(y);if(this._oMaxDate.isBefore(this._oMinDate)){q.sap.log.warning("minDate > maxDate -> maxDate set to end of the month",this);this._oMaxDate=c.fromLocalJSDate(i,this.getPrimaryCalendarType());this._oMaxDate.setDate(a._daysInMonth(this._oMaxDate));this.setProperty("maxDate",this._oMaxDate.toLocalJSDate(),true);}this._setMinMaxDateExtend(c.fromLocalJSDate(i,this.getPrimaryCalendarType()));}this.setProperty("minDate",i,false);if(!this._getSucessorsPickerPopup()){var s=this.getAggregation("yearPicker");s._oMinDate.setYear(this._oMinDate.getYear());}return this;};f.prototype.setMaxDate=function(i){if(q.sap.equal(i,this.getMaxDate())){return this;}if(!i){this._oMaxDate=a._maxDate(this.getPrimaryCalendarType());}else{a._checkJSDateObject(i);this._oMaxDate=c.fromLocalJSDate(i,this.getPrimaryCalendarType());var y=this._oMaxDate.getYear();a._checkYearInValidRange(y);if(this._oMinDate.isAfter(this._oMaxDate)){q.sap.log.warning("maxDate < minDate -> minDate set to begin of the month",this);this._oMinDate=c.fromLocalJSDate(i,this.getPrimaryCalendarType());this._oMinDate.setDate(1);this.setProperty("minDate",this._oMinDate.toLocalJSDate(),true);}this._setMinMaxDateExtend(c.fromLocalJSDate(i,this.getPrimaryCalendarType()));}this.setProperty("maxDate",i,false);if(!this._getSucessorsPickerPopup()){var s=this.getAggregation("yearPicker");s._oMaxDate.setYear(this._oMaxDate.getYear());}return this;};f.prototype._setMinMaxDateExtend=function(i){if(this._oFocusedDate){if(a._isOutside(this._oFocusedDate,this._oMinDate,this._oMaxDate)){q.sap.log.warning("focused date is not between [minDate - maxDate] -> refocus to the new max/min date: "+i.toString(),this);this.focusDate(i.toLocalJSDate());}}};f.prototype._getLocaleData=function(){if(!this._oLocaleData){var s=this.getLocale();var i=new e(s);this._oLocaleData=L.getInstance(i);}return this._oLocaleData;};f.prototype._getShowMonthHeader=function(){var i=j.call(this);if(i>2){return true;}else{return false;}};f.prototype.setWidth=function(w){this.setProperty("width",w,true);if(this.getDomRef()){w=this.getWidth();this.$().css("width",w);if(w){this.$().addClass("sapUiCalWidth");}else{this.$().removeClass("sapUiCalWidth");}}return this;};f.prototype.onclick=function(E){if(E.isMarked("delayedMouseEvent")){return;}if(E.target.id==this.getId()+"-cancel"){this.onsapescape(E);}};f.prototype.onmousedown=function(E){E.preventDefault();E.setMark("cancelAutoClose");};f.prototype.onsapescape=function(E){if(this._iMode==0){this.fireCancel();}this._closedPickers();};f.prototype.onsapshow=function(E){if(this._bPoupupMode){this._closedPickers();this.fireCancel();E.preventDefault();}};f.prototype.onsaphide=f.prototype.onsapshow;f.prototype.onsaptabnext=function(E){var s=this.getAggregation("header");if(q.sap.containsOrEquals(this.getDomRef("content"),E.target)){if(this._shouldFocusB2OnTabNext(E)){q.sap.focus(s.getDomRef("B2"));}else{q.sap.focus(s.getDomRef("B1"));}if(!this._bPoupupMode){var t=this.getAggregation("month");for(var i=0;i<t.length;i++){var u=t[i];q(u._oItemNavigation.getItemDomRefs()[u._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}if(!this._getSucessorsPickerPopup()){var v=this.getAggregation("monthPicker");var y=this.getAggregation("yearPicker");if(v.getDomRef()){q(v._oItemNavigation.getItemDomRefs()[v._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}if(y.getDomRef()){q(y._oItemNavigation.getItemDomRefs()[y._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}}}E.preventDefault();}else if(this._shouldFocusB2OnTabNext(E)){q.sap.focus(s.getDomRef("B2"));E.preventDefault();}};f.prototype._shouldFocusB2OnTabNext=function(E){var i=this.getAggregation("header");return(E.target.id==i.getId()+"-B1");};f.prototype._shouldFocusB2OnTabPrevious=function(E){return this._bPoupupMode;};f.prototype.onsaptabprevious=function(E){var s=this.getAggregation("header");if(q.sap.containsOrEquals(this.getDomRef("content"),E.target)){if(this._shouldFocusB2OnTabPrevious()){q.sap.focus(s.getDomRef("B2"));E.preventDefault();}}else if(E.target.id==s.getId()+"-B1"){var t=this.getAggregation("month");var F;switch(this._iMode){case 0:F=this._getFocusedDate();for(var i=0;i<t.length;i++){var u=t[i];var v=c.fromLocalJSDate(u.getDate(),this.getPrimaryCalendarType());if(F.isSame(v)){u._oItemNavigation.focusItem(u._oItemNavigation.getFocusedIndex());}else{q(u._oItemNavigation.getItemDomRefs()[u._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}}break;case 1:if(!this._getSucessorsPickerPopup()){var w=this.getAggregation("monthPicker");w._oItemNavigation.focusItem(w._oItemNavigation.getFocusedIndex());}break;case 2:if(!this._getSucessorsPickerPopup()){var y=this.getAggregation("yearPicker");y._oItemNavigation.focusItem(y._oItemNavigation.getFocusedIndex());}break;}E.preventDefault();}else if(E.target.id==s.getId()+"-B2"){q.sap.focus(s.getDomRef("B1"));E.preventDefault();}};f.prototype.onfocusin=function(E){if(E.target.id==this.getId()+"-end"){var s=this.getAggregation("month");this._focusOnShiftTab();if(!this._bPoupupMode){for(var i=0;i<s.length;i++){var t=s[i];q(t._oItemNavigation.getItemDomRefs()[t._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}if(!this._getSucessorsPickerPopup()){var u=this.getAggregation("monthPicker");var y=this.getAggregation("yearPicker");if(u.getDomRef()){q(u._oItemNavigation.getItemDomRefs()[u._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}if(y.getDomRef()){q(y._oItemNavigation.getItemDomRefs()[y._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}}}}this.$("end").attr("tabindex","-1");};f.prototype._focusOnShiftTab=function(){var i=this.getAggregation("header");q.sap.focus(i.getDomRef("B2"));};f.prototype.onsapfocusleave=function(E){var s,t,u,y;if(!E.relatedControlId||!q.sap.containsOrEquals(this.getDomRef(),sap.ui.getCore().byId(E.relatedControlId).getFocusDomRef())){this.$("end").attr("tabindex","0");if(!this._bPoupupMode){s=this.getAggregation("month");switch(this._iMode){case 0:for(var i=0;i<s.length;i++){t=s[i];q(t._oItemNavigation.getItemDomRefs()[t._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}break;case 1:if(!this._getSucessorsPickerPopup()){u=this.getAggregation("monthPicker");q(u._oItemNavigation.getItemDomRefs()[u._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}break;case 2:if(!this._getSucessorsPickerPopup()){y=this.getAggregation("yearPicker");q(y._oItemNavigation.getItemDomRefs()[y._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}break;}}}};f.prototype.getFocusDomRef=function(){var i=this._oSelectedMonth?this._oSelectedMonth:this.getAggregation("month")[0];return i._oItemNavigation.getItemDomRefs()[i._oItemNavigation.getFocusedIndex()];};f.prototype.onThemeChanged=function(){var s;if(!this.getDomRef()){return;}this._bNamesLengthChecked=undefined;if(!this._getSucessorsPickerPopup()){s=this.getAggregation("monthPicker");this._showMonthPicker(true);s._bNoThemeChange=false;s.onThemeChanged(arguments);s._bNoThemeChange=true;this._bLongMonth=s._bLongMonth;this._hideMonthPicker(true);}var t=this.getAggregation("month");for(var i=0;i<t.length;i++){var u=t[i];u._bNoThemeChange=false;u.onThemeChanged(arguments);u._bNoThemeChange=true;}var v;if(t.length>1){v=c.fromLocalJSDate(t[0].getDate(),this.getPrimaryCalendarType());}else{v=this._getFocusedDate();}this._setHeaderText(v);if(!this._getSucessorsPickerPopup()){g.call(this);}};f.prototype._updateHeader=function(i){this._setHeaderText(i);this._togglePrevNext(i,true);};f.prototype._togglePrevNext=function(i,s){var y=this._oMaxDate.getYear();var t=this._oMinDate.getYear();var u=this._oMaxDate.getMonth();var v=this._oMinDate.getMonth();var w=this.getAggregation("header");var x=j.call(this);var z=new c(i,this.getPrimaryCalendarType());if(this._iMode==0&&x>1){z=r.call(this,i);z.setMonth(z.getMonth()+x-1);z.setDate(a._daysInMonth(z));}else{z.setDate(a._daysInMonth(z));}var A=z.getYear();var B=z.getMonth();if(A>y||(A==y&&(!s||B>=u))||(this._iMode==1&&this._getSucessorsPickerPopup())){w.setEnabledNext(false);}else{w.setEnabledNext(true);}if(this._iMode==0&&x>1){z.setMonth(z.getMonth()-x+1);z.setDate(1);}else{z.setDate(1);}A=z.getYear();B=z.getMonth();if(A<t||(A==t&&(!s||B<=v))||(this._iMode==1&&this._getSucessorsPickerPopup())){w.setEnabledPrevious(false);}else{w.setEnabledPrevious(true);}};f.prototype._togglePrevNexYearPicker=function(){var y=this.getAggregation("yearPicker");var i=y.getYears();var s=c.fromLocalJSDate(y.getFirstRenderedDate());s.setYear(s.getYear()+Math.floor(i/2));var t=this.getAggregation("header");var u=new c(this._oMaxDate,this.getPrimaryCalendarType());u.setYear(u.getYear()-Math.ceil(i/2));u.setMonth(11);u.setDate(31);var v=new c(this._oMinDate,this.getPrimaryCalendarType());v.setYear(v.getYear()+Math.floor(i/2)+1);v.setMonth(0);v.setDate(1);t.setEnabledNext(s.isSameOrBefore(u));t.setEnabledPrevious(s.isSameOrAfter(v));};f.prototype._handlePrevious=function(E){var F=this._getFocusedDate();var i=this.getAggregation("header");var y=this.getAggregation("yearPicker");var s=j.call(this);var t;var u;var S=false;switch(this._iMode){case 0:if(s>1){t=c.fromLocalJSDate(this.getAggregation("month")[0].getDate(),this.getPrimaryCalendarType());t.setDate(1);this._setFocusedDate(t);F=this._getFocusedDate();}else{F.setDate(1);}F.setDate(F.getDate()-1);this._renderMonth(S,true);break;case 1:F.setYear(F.getYear()-1);i.setTextButton2(this._oYearFormat.format(F.toUTCJSDate(),true));var v=this._getSecondaryCalendarType();if(v){u=new c(F,v);u.setMonth(0);u.setDate(1);i.setAdditionalTextButton2(this._oYearFormatSecondary.format(u.toUTCJSDate(),true));}else{i.setAdditionalTextButton2();}this._togglePrevNext(F);this._setDisabledMonths(F.getYear());break;case 2:y.previousPage();this._togglePrevNexYearPicker();break;}};f.prototype._handleNext=function(E){var F=this._getFocusedDate();var i=this.getAggregation("header");var y=this.getAggregation("yearPicker");var s=j.call(this);var t;var u;switch(this._iMode){case 0:if(s>1){t=c.fromLocalJSDate(this.getAggregation("month")[0].getDate(),this.getPrimaryCalendarType());this._setFocusedDate(t);F=this._getFocusedDate();}F.setDate(1);F.setMonth(F.getMonth()+s);this._renderMonth();break;case 1:F.setYear(F.getYear()+1);i.setTextButton2(this._oYearFormat.format(F.toUTCJSDate(),true));var S=this._getSecondaryCalendarType();if(S){u=new c(F,S);u.setMonth(0);u.setDate(1);i.setAdditionalTextButton2(this._oYearFormatSecondary.format(u.toUTCJSDate(),true));}else{i.setAdditionalTextButton2();}this._togglePrevNext(F);this._setDisabledMonths(F.getYear());break;case 2:y.nextPage();this._togglePrevNexYearPicker();break;}};f.prototype._getDisplayedMonths=function(s){var t=[];var u=s.getMonth();var v=j.call(this);if(v>1){for(var i=0;i<v;i++){t.push((u+i)%12);}}else{t.push(u);}return t;};f.prototype._getDisplayedSecondaryMonths=function(P,s){var i=this.getAggregation("month");var F=c.fromLocalJSDate(i[0].getDate(),P);F.setDate(1);F=new c(F,s);var S=F.getMonth();var t=c.fromLocalJSDate(i[i.length-1].getDate(),P);t.setDate(a._daysInMonth(t));t=new c(t,s);var E=t.getMonth();return{start:S,end:E};};f.prototype._closedPickers=function(){switch(this._iMode){case 0:break;case 1:this._hideMonthPicker();break;case 2:this._hideYearPicker();break;}};f.prototype._setDisabledMonths=function(y,i){var s=0;var t=11;if(y==this._oMinDate.getYear()){s=this._oMinDate.getMonth();}if(y==this._oMaxDate.getYear()){t=this._oMaxDate.getMonth();}if(!i){i=this.getAggregation("monthPicker");}i.setMinMax(s,t);};f.prototype._handleFocus=function(E){var i=c.fromLocalJSDate(E.getParameter("date"),this.getPrimaryCalendarType());var O=E.getParameter("otherMonth");var s=E.getParameter("restoreOldDate");if(s){if(!q.sap.equal(this._getFocusedDate(),i)){this._renderMonth(false,false,true);}}else{this._focusDate(i,O);}};f.prototype._getVisibleDays=function(){var i=this.getAggregation("month")[0];return i._getVisibleDays(i._getDate(),false);};f.prototype._renderMonth=function(s,I,N){var t=this._getFocusedDate();var u=this.getAggregation("month");var F=false;var v;var w;var x;var i=0;for(i=0;i<u.length;i++){v=u[i];if(v.checkDateFocusable(t.toLocalJSDate())){F=true;}if(F||u.length==1){if(!s){v.setDate(t.toLocalJSDate());}else{v.displayDate(t.toLocalJSDate());}break;}}if(!F){x=new c(t,this.getPrimaryCalendarType());if(u.length>1){x=r.call(this,x);for(i=0;i<u.length;i++){v=u[i];w=new c(x,this.getPrimaryCalendarType());w.setMonth(x.getMonth()+i);if(!s&&a._isSameMonthAndYear(w,t)){v.setDate(t.toLocalJSDate());}else{v.displayDate(w.toLocalJSDate());}}}this._updateHeader(x);if(!N){this.fireStartDateChange();}}};function _(){var s=this.getSelectedDates();var i=this.getPrimaryCalendarType();if(s&&s[0]&&s[0].getStartDate()){this._oFocusedDate=c.fromLocalJSDate(s[0].getStartDate(),i);}else{this._oFocusedDate=c.fromLocalJSDate(new Date(),i);}if(this._oFocusedDate.isBefore(this._oMinDate)){this._oFocusedDate=new c(this._oMinDate,i);}else if(this._oFocusedDate.isAfter(this._oMaxDate)){this._oFocusedDate=new c(this._oMaxDate,i);}}f.prototype._showMonthPicker=function(s){if(this._iMode==2){this._hideYearPicker(true);}var t=this._getFocusedDate();var u=this.getAggregation("monthPicker");if(u.getDomRef()){u.$().css("display","");}else{var v=sap.ui.getCore().createRenderManager();var $=this.$("content");v.renderControl(u);v.flush($[0],false,true);v.destroy();}this._showOverlay();if(!s){u.setMonth(t.getMonth());this._setDisabledMonths(t.getYear(),u);if(this._iMode==0){var w=this.getAggregation("month");for(var i=0;i<w.length;i++){var x=w[i];q(x._oItemNavigation.getItemDomRefs()[x._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}}}this._iMode=1;this._togglePrevNext(t,false);};f.prototype._hideMonthPicker=function(s){this._iMode=0;var t=this.getAggregation("monthPicker");t.$().css("display","none");this._hideOverlay();if(!s){this._renderMonth();if(j.call(this)>1){var u=this.getAggregation("month");for(var i=0;i<u.length;i++){var v=u[i];q(v._oItemNavigation.getItemDomRefs()[v._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}}}this._togglePrevNext(this._getFocusedDate(),true);};f.prototype._showYearPicker=function(){if(this._iMode==1){this._hideMonthPicker(true);}var s=this._getFocusedDate();var y=this.getAggregation("yearPicker");if(y.getDomRef()){y.$().css("display","");}else{var t=sap.ui.getCore().createRenderManager();var $=this.$("content");t.renderControl(y);t.flush($[0],false,true);t.destroy();}this._showOverlay();y.setDate(s.toLocalJSDate());var u;if(j.call(this)==1){u=this.getAggregation("month")[0];var v=u.$("days").find(".sapUiCalItem");if(v.length==28){y.$().addClass("sapUiCalYearNoTop");}else{y.$().removeClass("sapUiCalYearNoTop");}}if(this._iMode==0){var w=this.getAggregation("month");for(var i=0;i<w.length;i++){u=w[i];q(u._oItemNavigation.getItemDomRefs()[u._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}}this._togglePrevNexYearPicker();this._iMode=2;};f.prototype._hideYearPicker=function(s){this._iMode=0;var y=this.getAggregation("yearPicker");y.$().css("display","none");this._hideOverlay();if(!s){this._renderMonth();if(j.call(this)>1){var t=this.getAggregation("month");for(var i=0;i<t.length;i++){var u=t[i];q(u._oItemNavigation.getItemDomRefs()[u._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}}}this._togglePrevNext(this._getFocusedDate(),true);};function g(){if(!this._bNamesLengthChecked){this._showMonthPicker(true);this._hideMonthPicker(true);var i=this.getAggregation("monthPicker");this._bLongMonth=i._bLongMonth;this._bNamesLengthChecked=true;if(!this._bLongMonth){var s=this.getAggregation("month");var t;if(s.length>1){t=c.fromLocalJSDate(s[0].getDate(),this.getPrimaryCalendarType());}else{t=this._getFocusedDate();}this._setHeaderText(t);}}else if(j.call(this)>1){this._focusDate(this._getFocusedDate(),true,true);}}f.prototype._focusDate=function(i,O,N){var F;var s=false;var t=false;if(i.isBefore(this._oMinDate)){F=this._oMinDate;s=true;}else if(i.isAfter(this._oMaxDate)){F=this._oMaxDate;s=true;}else{F=i;}if(this._focusDateExtend){t=this._focusDateExtend(i,O,N);}var I=F.isBefore(this._getFocusedDate());this._setFocusedDate(F);if(s||O){this._renderMonth(false,I,N);}if(t){this.fireStartDateChange();}};f.prototype._invalidateMonth=function(O){this._sInvalidateMonth=undefined;var s=this.getAggregation("month");if(s){for(var i=0;i<s.length;i++){var t=s[i];t._bDateRangeChanged=true;t._bInvalidateSync=true;t._bNoFocus=true;t.invalidate(O);t._bInvalidateSync=undefined;}}this._bDateRangeChanged=undefined;};f.prototype._setHeaderText=function(i){var s=this.getAggregation("header");var t=this._getLocaleData();var u=[];var v=[];var w=[];var A;var S=false;var T;var y;var P;var x=this.getPrimaryCalendarType();var z=this._getSecondaryCalendarType();if(this._bLongMonth||!this._bNamesLengthChecked){u=t.getMonthsStandAlone("wide",x);}else{S=true;u=t.getMonthsStandAlone("abbreviated",x);v=t.getMonthsStandAlone("wide",x);}if(z){w=t.getMonthsStandAlone("abbreviated",z);var B=this._getDisplayedSecondaryMonths(x,z);if(B.start==B.end){T=w[B.start];}else{P=t.getIntervalPattern();T=P.replace(/\{0\}/,w[B.start]).replace(/\{1\}/,w[B.end]);}}s.setAdditionalTextButton1(T);var E=this._getDisplayedMonths(i);if(E.length>1&&!this._bShowOneMonth){if(!P){P=t.getIntervalPattern();}T=P.replace(/\{0\}/,u[E[0]]).replace(/\{1\}/,u[E[E.length-1]]);if(S){A=P.replace(/\{0\}/,v[E[0]]).replace(/\{1\}/,v[E[E.length-1]]);}}else{T=u[E[0]];if(S){A=v[E[0]];}}s.setTextButton1(T);if(S){s.setAriaLabelButton1(A);}var F=new c(i,x);F.setDate(1);y=this._oYearFormat.format(F.toUTCJSDate(),true);s.setTextButton2(y);if(z){F=new c(F,z);s.setAdditionalTextButton2(this._oYearFormatSecondary.format(F.toUTCJSDate(),true));}else{s.setAdditionalTextButton2();}return{sMonth:T,sYear:y,sAriaLabel:A,bShort:S};};function h(i,s){if(!i){return;}var t=c.fromLocalJSDate(i,this.getPrimaryCalendarType());if(this._oFocusedDate&&this._oFocusedDate.isSame(t)){return;}var y=t.getYear();a._checkYearInValidRange(y);if(a._isOutside(t,this._oMinDate,this._oMaxDate)){throw new Error("Date must not be in valid range (minDate and maxDate); "+this);}this._setFocusedDate(t);if(this.getDomRef()&&this._iMode==0){this._renderMonth(s,false,true);}}function j(){if(D.system.phone){return 1;}else{return this.getMonths();}}f.prototype._handleButton1=function(E){if(this._iMode!=1){this._showMonthPicker();}else{this._hideMonthPicker();}};f.prototype._handleButton2=function(E){if(this._iMode!=2){this._showYearPicker();}else{this._hideYearPicker();}};function k(E){this.fireEvent("_renderMonth",{days:E.getParameter("days")});}function m(E){if(j.call(this)>1){var s=this.getAggregation("month");for(var i=0;i<s.length;i++){var t=s[i];if(t.getId()!=E.oSource.getId()){t._updateSelection();}}}this._oSelectedMonth=E.oSource;this.fireSelect();}function n(E){if(j.call(this)>1){var s=this.getAggregation("month");for(var i=0;i<s.length;i++){var t=s[i];if(t.getId()!=E.oSource.getId()){t._bindMousemove();}}}}function o(E){if(j.call(this)>1){var s=this.getAggregation("month");for(var i=0;i<s.length;i++){var t=s[i];if(t.getId()!=E.oSource.getId()){t._unbindMousemove();}}}}f.prototype._selectMonth=function(){var F=new c(this._getFocusedDate(),this.getPrimaryCalendarType()),i=this.getAggregation("monthPicker"),s=i.getMonth();F.setMonth(s);if(s!=F.getMonth()){F.setDate(0);}this._focusDate(F,true);this._hideMonthPicker();};f.prototype._getSucessorsPickerPopup=function(){return this.getPickerPopup&&this.getPickerPopup();};f.prototype._selectYear=function(){var F=new c(this._getFocusedDate(),this.getPrimaryCalendarType());var y=this.getAggregation("yearPicker");var i=c.fromLocalJSDate(y.getDate(),this.getPrimaryCalendarType());i.setMonth(F.getMonth());i.setDate(F.getDate());F=i;this._focusDate(F,true);this._hideYearPicker();};f.prototype._showOverlay=function(){this.$("contentOver").css("display","");};f.prototype._hideOverlay=function(){this.$("contentOver").css("display","none");};function p(E){var w=E.size.width;if(w<=0){return;}var O=this._iSize;if(w<this._iBreakPointTablet){this._iSize=0;}else if(w<this._iBreakPointDesktop){this._iSize=1;}else if(w<this._iBreakPointLargeDesktop){this._iSize=2;}else{this._iSize=3;}var s=j.call(this);var t;if(O!=this._iSize||this._bInitMonth){switch(this._iSize){case 1:t=2;break;case 2:t=3;break;case 3:t=4;break;default:t=1;break;}if(s<t){t=s;}if(t>2&&s>t){var u=t;var U=0.0;var v=t;while(u>=2){var x=s%u;if(x==0){v=u;break;}else{var N=x/u;if(N>U){U=N;v=u;}}u--;}t=v;}var W;var y=this.getAggregation("month");if(t>1){W=100/t+"%";this.$("content").removeClass("sapUiCalContentSingle");}else{W="100%";this.$("content").addClass("sapUiCalContentSingle");}for(var i=0;i<y.length;i++){var z=y[i];z.setWidth(W);}}}function r(i){var F=new c(i,this.getPrimaryCalendarType());F.setDate(1);var s=j.call(this);if(s<=12){var t=i.getMonth();t=t-t%s;if(12%s>0&&t+s>11){t=12-s;}F.setMonth(t);}return F;}return f;});};if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarAppointment')){jQuery.sap.declare('sap.ui.unified.CalendarAppointment');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.format.DateFormat');sap.ui.define("sap/ui/unified/CalendarAppointment",['jquery.sap.global','./DateTypeRange','sap/ui/core/format/DateFormat','./library'],function(q,D,a,l){"use strict";var C=D.extend("sap.ui.unified.CalendarAppointment",{metadata:{library:"sap.ui.unified",properties:{title:{type:"string",group:"Data"},text:{type:"string",group:"Data"},icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},tentative:{type:"boolean",group:"Data",defaultValue:false},selected:{type:"boolean",group:"Data",defaultValue:false},key:{type:"string",group:"Data",defaultValue:null},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}}}});C.prototype.applyFocusInfo=function(f){var p=this.getParent();if(p){p.applyFocusInfo(f);}return this;};C.prototype._getDateRangeIntersectionText=function(c){var s=this.getStartDate(),e=this.getEndDate()?this.getEndDate():new Date(864000000000000),t,o=new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0),n=new Date(o.getTime()+24*60*60*1000),T=a.getTimeInstance({pattern:"HH:mm"}),r=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(s.getTime()>n.getTime()||e.getTime()<o.getTime()){t="";}else if(s.getTime()<o.getTime()&&e.getTime()>n.getTime()){t=r.getText("PLANNINGCALENDAR_ALLDAY");}else if(s.getTime()<o.getTime()){t=r.getText("PLANNINGCALENDAR_UNTIL",[T.format(e)]);}else if(e.getTime()>n.getTime()){t=T.format(s);}else{t=T.format(s)+" - "+T.format(e);}return t;};C._getComparer=function(d){var O=24*60*60*1000,c=new Date(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0).getTime(),n=c+O;return function(A,o){var s=A.appointment.getStartDate().getTime(),S=o.appointment.getStartDate().getTime(),e=A.appointment.getEndDate()?A.appointment.getEndDate().getTime():864000000000000,E=o.appointment.getEndDate()?o.appointment.getEndDate().getTime():864000000000000,w=s<=c&&e>=n,W=S<=c&&E>=n,r;if((w&&W)||(!w&&!W)){r=s-S;if(r===0){r=E-e;}}else if(w){r=-1;}else{r=1;}return r;};};C.prototype.setColor=function(c){if(c&&c.match(/^#[0-9a-f]{6}$/i)){q.sap.log.warning("setColor accepts only full hex color value with pound symbol.");}return this.setProperty("color",c);};C.prototype._getCSSColorForBackground=function(h){return"rgba("+[parseInt(h.substr(1,2),16),parseInt(h.substr(3,2),16),parseInt(h.substr(5,2),16)].join(",")+", 0.2)";};return C;});};if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarMonthInterval')){jQuery.sap.declare('sap.ui.unified.CalendarMonthInterval');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.core.LocaleData');jQuery.sap.require('sap.ui.core.Renderer');jQuery.sap.require('sap.ui.core.format.DateFormat');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.Locale');sap.ui.define("sap/ui/unified/CalendarMonthInterval",['jquery.sap.global','sap/ui/core/Control','sap/ui/core/LocaleData','sap/ui/unified/calendar/CalendarUtils','./calendar/Header','./calendar/MonthsRow','./calendar/YearPicker','sap/ui/unified/calendar/CalendarDate','sap/ui/core/Renderer','sap/ui/core/format/DateFormat','sap/ui/Device','sap/ui/core/Locale'],function(q,C,L,a,H,M,Y,b,R,D,c,d){"use strict";var e=C.extend("sap.ui.unified.CalendarMonthInterval",{metadata:{library:"sap.ui.unified",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},startDate:{type:"object",group:"Data"},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},months:{type:"int",group:"Appearance",defaultValue:12},pickerPopup:{type:"boolean",group:"Appearance",defaultValue:false},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},header:{type:"sap.ui.unified.calendar.Header",multiple:false,visibility:"hidden"},monthsRow:{type:"sap.ui.unified.calendar.MonthsRow",multiple:false,visibility:"hidden"},yearPicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"},calendarPicker:{type:"sap.ui.unified.Calendar",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},cancel:{},startDateChange:{}}}});e.prototype.init=function(){this._iMode=0;this.data("sap-ui-fastnavgroup","true",true);this._oYearFormat=D.getDateInstance({format:"y"});this._oMinDate=a._minDate();this._oMaxDate=a._maxDate();this._initializeHeader();this._initializeMonthsRow();this._initilizeYearPicker();this._iDaysMonthsHead=15;};e.prototype.exit=function(){if(this._sInvalidateContent){q.sap.clearDelayedCall(this._sInvalidateContent);}};e.prototype.onBeforeRendering=function(){var F=this.getAggregation("monthsRow");var G=this._getFocusedDate();k.call(this);F.displayDate(G.toLocalJSDate());};e.prototype._initializeHeader=function(){var F=new H(this.getId()+"--Head",{visibleButton0:false,visibleButton1:false,visibleButton2:true});F.attachEvent("pressPrevious",this._handlePrevious,this);F.attachEvent("pressNext",this._handleNext,this);F.attachEvent("pressButton2",r,this);this.setAggregation("header",F);};e.prototype._initializeMonthsRow=function(){var F=new M(this.getId()+"--MonthsRow");F.attachEvent("focus",u,this);F.attachEvent("select",t,this);F._bNoThemeChange=true;this.setAggregation("monthsRow",F);};e.prototype._initilizeYearPicker=function(){this.setAggregation("yearPicker",this._createYearPicker());};e.prototype._createYearPicker=function(){var F=new Y(this.getId()+"--YP",{columns:0,years:6});F.attachEvent("select",w,this);F.attachEvent("pageChange",B,this);F._oMinDate.setYear(this._oMinDate.getYear());F._oMaxDate.setYear(this._oMaxDate.getYear());return F;};e.prototype._getCalendarPicker=function(){var F=this.getAggregation("calendarPicker");if(!F){F=new E(this.getId()+"--Cal");F.setPopupMode(true);F.attachEvent("select",v,this);F.attachEvent("cancel",function(G){this._oPopup.close();},this);this.setAggregation("calendarPicker",F);}return F;};e.prototype.setStartDate=function(S){a._checkJSDateObject(S);if(q.sap.equal(this.getStartDate(),S)){return this;}var F=S.getFullYear();a._checkYearInValidRange(F);this.setProperty("startDate",S,true);this._oStartDate=b.fromLocalJSDate(S);this._oStartDate.setDate(1);var G=this.getAggregation("monthsRow");G.setStartDate(S);k.call(this);var I=this._getFocusedDate().toLocalJSDate();if(!G.checkDateFocusable(I)){this._setFocusedDate(this._oStartDate);G.displayDate(S);}return this;};e.prototype.invalidate=function(O){if(!this._bDateRangeChanged&&(!O||!(O instanceof sap.ui.unified.DateRange))){C.prototype.invalidate.apply(this,arguments);}else if(this.getDomRef()&&this._iMode==0&&!this._sInvalidateContent){this._sInvalidateContent=q.sap.delayedCall(0,this,x);}};e.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var F=this.removeAllAggregation("selectedDates");return F;};e.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var F=this.destroyAggregation("selectedDates");return F;};e.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var F=this.removeAllAggregation("specialDates");return F;};e.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var F=this.destroyAggregation("specialDates");return F;};e.prototype.setLocale=function(F){if(this._sLocale!=F){this._sLocale=F;this._oLocaleData=undefined;this.invalidate();}return this;};e.prototype.getLocale=function(){if(!this._sLocale){this._sLocale=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString();}return this._sLocale;};e.prototype._getFocusedDate=function(){if(!this._oFocusedDate){h.call(this);}return this._oFocusedDate;};e.prototype._setFocusedDate=function(F){a._checkCalendarDate(F);this._oFocusedDate=new b(F);};e.prototype.focusDate=function(F){var G=false;var I=this.getAggregation("monthsRow");if(F&&!I.checkDateFocusable(F)){y.call(this,b.fromLocalJSDate(F));G=true;}p.call(this,F,false);if(G){this.fireStartDateChange();}return this;};e.prototype.displayDate=function(F){p.call(this,F,true);return this;};e.prototype.setMonths=function(F){this.setProperty("months",F,true);F=this._getMonths();var G=this.getAggregation("monthsRow");G.setMonths(F);if(!G.checkDateFocusable(this._getFocusedDate().toLocalJSDate())){var S=f.call(this);this._setFocusedDate(this._oStartDate);G.setDate(S.toLocalJSDate());}if(!this.getPickerPopup()){var I=this.getAggregation("yearPicker");var J=Math.floor(F/2);if(J>20){J=20;}I.setYears(J);}k.call(this);if(this.getDomRef()){if(this._getShowItemHeader()){this.$().addClass("sapUiCalIntHead");}else{this.$().removeClass("sapUiCalIntHead");}}return this;};e.prototype._getMonths=function(){var F=this.getMonths();if(c.system.phone&&F>6){return 6;}else{return F;}};e.prototype._getLocaleData=function(){if(!this._oLocaleData){var F=this.getLocale();var G=new d(F);this._oLocaleData=L.getInstance(G);}return this._oLocaleData;};e.prototype.setPickerPopup=function(P){var F;this.setProperty("pickerPopup",P,true);if(P){if(this.getAggregation("yearPicker")){this.getAggregation("yearPicker").destroy();}}else{if(!this.getAggregation("yearPicker")){this.setAggregation("yearPicker",this._createYearPicker());}F=this.getAggregation("yearPicker");F.setColumns(0);F.setYears(6);}return this;};e.prototype.setMinDate=function(F){if(q.sap.equal(F,this.getMinDate())){return this;}if(!F){this._oMinDate=a._minDate();}else{a._checkJSDateObject(F);this._oMinDate=b.fromLocalJSDate(F);this._oMinDate.setDate(1);var G=this._oMinDate.getYear();a._checkYearInValidRange(G);if(this._oMaxDate.isBefore(this._oMinDate)){q.sap.log.warning("minDate > maxDate -> maxDate set to end of the month",this);this._oMaxDate=b.fromLocalJSDate(F);this._oMaxDate.setDate(a._daysInMonth(this._oMaxDate));this.setProperty("maxDate",this._oMaxDate.toLocalJSDate(),true);}if(this._oFocusedDate){if(this._oFocusedDate.isBefore(this._oMinDate)){q.sap.log.warning("focused date < minDate -> minDate focused",this);this.focusDate(F);}}if(this._oStartDate&&this._oStartDate.isBefore(this._oMinDate)){q.sap.log.warning("start date < minDate -> minDate set as start date",this);_.call(this,new b(this._oMinDate),true,true);}}this.setProperty("minDate",F,false);if(this.getPickerPopup()){var I=this._getCalendarPicker();I.setMinDate(F);}else{var J=this.getAggregation("yearPicker");J._oMinDate.setYear(this._oMinDate.getYear());}return this;};e.prototype.setMaxDate=function(F){if(q.sap.equal(F,this.getMaxDate())){return this;}if(!F){this._oMaxDate=a._maxDate();}else{a._checkJSDateObject(F);this._oMaxDate=b.fromLocalJSDate(F);this._oMaxDate.setDate(a._daysInMonth(this._oMaxDate));var G=this._oMaxDate.getYear();a._checkYearInValidRange(G);if(this._oMinDate.isAfter(this._oMaxDate)){q.sap.log.warning("maxDate < minDate -> minDate set to begin of the month",this);this._oMinDate=b.fromLocalJSDate(F);this._oMinDate.setDate(1);this.setProperty("minDate",this._oMinDate.toLocalJSDate(),true);}if(this._oFocusedDate){if(this._oFocusedDate.isAfter(this._oMaxDate)){q.sap.log.warning("focused date > maxDate -> maxDate focused",this);this.focusDate(F);}}if(this._oStartDate){var I=new b(this._oStartDate);I.setDate(1);I.setMonth(I.getMonth()+this._getMonths());I.setDate(0);if(I.isAfter(this._oMaxDate)){var S=new b(this._oMaxDate);S.setDate(1);S.setMonth(S.getMonth()-this._getMonths()+1);if(S.isSameOrAfter(this._oMinDate)){q.sap.log.warning("end date > maxDate -> maxDate set as end date",this);_.call(this,S,true,true);}}}}this.setProperty("maxDate",F,false);if(this.getPickerPopup()){var J=this._getCalendarPicker();J.setMaxDate(F);}else{var K=this.getAggregation("yearPicker");K._oMaxDate.setYear(this._oMaxDate.getYear());}return this;};e.prototype.onclick=function(F){if(F.isMarked("delayedMouseEvent")){return;}if(F.target.id==this.getId()+"-cancel"){this.onsapescape(F);}};e.prototype.onmousedown=function(F){F.preventDefault();F.setMark("cancelAutoClose");};e.prototype.onsapescape=function(F){if(this.getPickerPopup()){s.call(this);this.fireCancel();}else{switch(this._iMode){case 0:this.fireCancel();break;case 1:j.call(this);break;}}};e.prototype.onsaptabnext=function(F){var G=this.getAggregation("header"),I,J;if(q.sap.containsOrEquals(this.getDomRef("content"),F.target)){q.sap.focus(G.getDomRef("B2"));if(!this._bPoupupMode){J=this.getAggregation("monthsRow");q(J._oItemNavigation.getItemDomRefs()[J._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");if(!this.getPickerPopup()){I=this.getAggregation("yearPicker");if(I.getDomRef()){q(I._oItemNavigation.getItemDomRefs()[I._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}}}F.preventDefault();}};e.prototype.onsaptabprevious=function(F){var G=this.getAggregation("header"),I,J;if(q.sap.containsOrEquals(this.getDomRef("content"),F.target)){if(this._bPoupupMode){q.sap.focus(G.getDomRef("B2"));F.preventDefault();}}else if(F.target.id==G.getId()+"-B2"){switch(this._iMode){case 0:I=this.getAggregation("monthsRow");I._oItemNavigation.focusItem(I._oItemNavigation.getFocusedIndex());break;case 1:if(!this.getPickerPopup()){J=this.getAggregation("yearPicker");J._oItemNavigation.focusItem(J._oItemNavigation.getFocusedIndex());}break;}F.preventDefault();}};e.prototype.onfocusin=function(F){if(F.target.id==this.getId()+"-end"){var G=this.getAggregation("header"),I,J;q.sap.focus(G.getDomRef("B2"));if(!this._bPoupupMode){I=this.getAggregation("monthsRow");q(I._oItemNavigation.getItemDomRefs()[I._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");if(!this.getPickerPopup()){J=this.getAggregation("yearPicker");if(J.getDomRef()){q(J._oItemNavigation.getItemDomRefs()[J._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}}}}this.$("end").attr("tabindex","-1");};e.prototype.onsapfocusleave=function(F){var G,I;if(!F.relatedControlId||!q.sap.containsOrEquals(this.getDomRef(),sap.ui.getCore().byId(F.relatedControlId).getFocusDomRef())){this.$("end").attr("tabindex","0");if(!this._bPoupupMode){switch(this._iMode){case 0:G=this.getAggregation("monthsRow");q(G._oItemNavigation.getItemDomRefs()[G._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");break;case 1:if(!this.getPickerPopup()){I=this.getAggregation("yearPicker");q(I._oItemNavigation.getItemDomRefs()[I._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}break;}}}};e.prototype._handlePrevious=function(F){var G,I,S,J;switch(this._iMode){case 0:G=this._getFocusedDate();I=this._getMonths();S=new b(f.call(this));S.setMonth(S.getMonth()-I);G.setMonth(G.getMonth()-I);this._setFocusedDate(G);_.call(this,S,true);break;case 1:if(!this.getPickerPopup()){J=this.getAggregation("yearPicker");J.previousPage();m.call(this);}break;}};e.prototype._handleNext=function(F){var G,I,S,J;switch(this._iMode){case 0:G=this._getFocusedDate();I=this._getMonths();S=new b(f.call(this));S.setMonth(S.getMonth()+I);G.setMonth(G.getMonth()+I);this._setFocusedDate(G);_.call(this,S,true);break;case 1:if(!this.getPickerPopup()){J=this.getAggregation("yearPicker");J.nextPage();m.call(this);}break;}};e.prototype._showOverlay=function(){this.$("contentOver").css("display","");};e.prototype._hideOverlay=function(){this.$("contentOver").css("display","none");};e.prototype._getShowItemHeader=function(){var F=this.getMonths();if(F>this._iDaysMonthsHead){return true;}else{return false;}};function _(S,F,G){var I=new b(this._oMaxDate);I.setDate(1);I.setMonth(I.getMonth()-this._getMonths()+1);if(I.isBefore(this._oMinDate)){I=new b(this._oMinDate);I.setMonth(I.getMonth()+this._getMonths()-1);}if(S.isBefore(this._oMinDate)){S=new b(this._oMinDate);}else if(S.isAfter(I)){S=I;}S.setDate(1);var J=S.toLocalJSDate();this.setProperty("startDate",J,true);this._oStartDate=S;var K=this.getAggregation("monthsRow");K.setStartDate(J);k.call(this);if(F){var N=this._getFocusedDate().toLocalJSDate();if(!K.checkDateFocusable(N)){this._setFocusedDate(S);K.setDate(J);}else{K.setDate(N);}}if(!G){this.fireStartDateChange();}}function f(){if(!this._oStartDate){this._oStartDate=this._getFocusedDate();this._oStartDate.setDate(1);}return this._oStartDate;}function g(N){var F=this._getFocusedDate();var G=this.getAggregation("monthsRow");if(!N){G.setDate(F.toLocalJSDate());}else{G.displayDate(F.toLocalJSDate());}k.call(this);}function h(){var S=this.getSelectedDates();if(S&&S[0]&&S[0].getStartDate()){this._oFocusedDate=b.fromLocalJSDate(S[0].getStartDate());}else{this._oFocusedDate=new b();}this._oFocusedDate.setDate(1);if(this._oFocusedDate.isBefore(this._oMinDate)){this._oFocusedDate=new b(this._oMinDate);}else if(this._oFocusedDate.isAfter(this._oMaxDate)){this._oFocusedDate=new b(this._oMaxDate);}}function i(){var F=this._getFocusedDate();var G=this.getAggregation("yearPicker");if(G.getDomRef()){G.$().css("display","");}else{var I=sap.ui.getCore().createRenderManager();var $=this.$("content");I.renderControl(G);I.flush($[0],false,true);I.destroy();}this._showOverlay();G.setDate(F.toLocalJSDate());if(this._iMode==0){var J=this.getAggregation("monthsRow");q(J._oItemNavigation.getItemDomRefs()[J._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}m.call(this);this._iMode=1;}function j(N){this._iMode=0;var F=this.getAggregation("yearPicker");F.$().css("display","none");this._hideOverlay();if(!N){g.call(this);var G=this.getAggregation("monthsRow");q(G._oItemNavigation.getItemDomRefs()[G._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}}function k(){n.call(this);l.call(this);}function l(){var F=new b(f.call(this));var G=this._getMonths();var I=F.getYear();var J=this._oMaxDate.getYear();var K=this._oMinDate.getYear();var N=F.getMonth();var O=this._oMaxDate.getMonth();var P=this._oMinDate.getMonth();var Q=this.getAggregation("header");if(I<K||(I==K&&N<=P)){Q.setEnabledPrevious(false);}else{Q.setEnabledPrevious(true);}F.setMonth(F.getMonth()+G-1);I=F.getYear();N=F.getMonth();if(I>J||(I==J&&N>=O)){Q.setEnabledNext(false);}else{Q.setEnabledNext(true);}}function m(){var F=this.getAggregation("yearPicker");var G=F.getYears();var I=b.fromLocalJSDate(F.getFirstRenderedDate());I.setYear(I.getYear()+Math.floor(G/2));var J=this.getAggregation("header");var K=new b(this._oMaxDate);K.setYear(K.getYear()-Math.ceil(G/2));K.setMonth(11,31);var N=new b(this._oMinDate);N.setYear(N.getYear()+Math.floor(G/2)+1);N.setMonth(0,1);J.setEnabledNext(!I.isAfter(K));J.setEnabledPrevious(!I.isBefore(N));}function n(){var T;var S=f.call(this);var F=this._oYearFormat.format(S.toUTCJSDate(),true);var G=new b(S);G.setMonth(G.getMonth()+this._getMonths()-1);var I=this._oYearFormat.format(G.toUTCJSDate(),true);if(F!=I){var J=this._getLocaleData();var P=J.getIntervalPattern();T=P.replace(/\{0\}/,F).replace(/\{1\}/,I);}else{T=F;}var K=this.getAggregation("header");K.setTextButton2(T);}function o(F,N){var G;var I=false;if(F.isBefore(this._oMinDate)){G=this._oMinDate;I=true;}else if(F.isAfter(this._oMaxDate)){G=this._oMaxDate;I=true;}else{G=F;}this._setFocusedDate(G);if(I||N){y.call(this,G);g.call(this,false);this.fireStartDateChange();}}function p(F,S){if(!F){return;}var G=b.fromLocalJSDate(F);if(this._oFocusedDate&&this._oFocusedDate.isSame(G)){return;}var I=G.getYear();a._checkYearInValidRange(I);if(a._isOutside(G,this._oMinDate,this._oMaxDate)){throw new Error("Date must not be in valid range (minDate and maxDate); "+this);}this._setFocusedDate(G);if(this.getDomRef()&&this._iMode==0){g.call(this,S);}}function r(F){if(this.getPickerPopup()){this._showCalendarPicker();}else{if(this._iMode!=1){i.call(this);}else{j.call(this);}}}e.prototype._showCalendarPicker=function(){var F=this._getFocusedDate(true).toLocalJSDate();var G=this._getCalendarPicker();var S=new sap.ui.unified.DateRange({startDate:F});G.displayDate(F,false);G.removeAllSelectedDates();G.addSelectedDate(S);G.setMinDate(this.getMinDate());G.setMaxDate(this.getMaxDate());z.call(this,G);this._showOverlay();};function s(N){if(this._oPopup&&this._oPopup.isOpen()){this._oPopup.close();}this._hideOverlay();if(!N){g.call(this);var F=this.getAggregation("monthsRow");q(F._oItemNavigation.getItemDomRefs()[F._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}}function t(F){this.fireSelect();}function u(F){var G=b.fromLocalJSDate(F.getParameter("date"));var N=F.getParameter("notVisible");o.call(this,G,N);}function v(F){var G=new b(this._getFocusedDate());var I=this._getCalendarPicker();var S=I.getSelectedDates()[0].getStartDate();var N=b.fromLocalJSDate(S);N.setMonth(G.getMonth());N.setDate(G.getDate());o.call(this,N,true);s.call(this);}function w(F){var G=new b(this._getFocusedDate());var I=this.getAggregation("yearPicker");var J=b.fromLocalJSDate(I.getDate());J.setMonth(G.getMonth());J.setDate(G.getDate());G=J;o.call(this,G,true);j.call(this);}function x(){this._sInvalidateContent=undefined;var F=this.getAggregation("monthsRow");F._bDateRangeChanged=true;F._bInvalidateSync=true;F.invalidate();F._bInvalidateSync=undefined;this._bDateRangeChanged=undefined;}function y(F){var G=this.getAggregation("monthsRow");var S=f.call(this);var I=G._oItemNavigation.getFocusedIndex();S=new b(F);S.setMonth(S.getMonth()-I);_.call(this,S,false,true);}function z(P){if(!this._oPopup){q.sap.require("sap.ui.core.Popup");this._oPopup=new sap.ui.core.Popup();this._oPopup.setAutoClose(true);this._oPopup.setAutoCloseAreas([this.getDomRef()]);this._oPopup.setDurations(0,0);this._oPopup._oCalendar=this;this._oPopup.attachClosed(A,this);this._oPopup.onsapescape=function(I){this._oCalendar.onsapescape(I);};}this._oPopup.setContent(P);var F=this.getAggregation("header");var G=sap.ui.core.Popup.Dock;this._oPopup.open(0,G.CenterTop,G.CenterTop,F,null,"flipfit",true);}function A(F){s.call(this);}function B(F){m.call(this);}var E=sap.ui.unified.Calendar.extend("CustomYearPicker",{renderer:R.extend(sap.ui.unified.CalendarRenderer)});E.prototype._initializeHeader=function(){var F=new H(this.getId()+"--Head",{visibleButton1:false});F.attachEvent("pressPrevious",this._handlePrevious,this);F.attachEvent("pressNext",this._handleNext,this);F.attachEvent("pressButton2",this._handleButton2,this);this.setAggregation("header",F);};E.prototype.onAfterRendering=function(){sap.ui.unified.Calendar.prototype.onAfterRendering.apply(this,arguments);var F=this.getAggregation("header");F.$("B2").css("background-color","inherit").css("color","inherit").css("cursor","inherit").css("pointer-events","none");this._showYearPicker();};E.prototype.onThemeChanged=function(){sap.ui.unified.Calendar.prototype.onThemeChanged.apply(this,arguments);var F=this.getAggregation("header");F.$("B2").css("background-color","inherit").css("color","inherit").css("cursor","inherit").css("pointer-events","none");};E.prototype._selectYear=function(){var F=this.getAggregation("yearPicker");var G=this.getSelectedDates()[0];if(!G){G=new sap.ui.unified.DateRange();}G.setStartDate(F.getDate());this.addSelectedDate(G);this.fireSelect();};E.prototype.onsapescape=function(F){this.fireCancel();};E.prototype._shouldFocusB2OnTabPrevious=function(F){return false;};return e;});};if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarRowRenderer')){jQuery.sap.declare('sap.ui.unified.CalendarRowRenderer');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.date.UniversalDate');jQuery.sap.require('sap.ui.Device');sap.ui.define("sap/ui/unified/CalendarRowRenderer",['jquery.sap.global','sap/ui/core/date/UniversalDate','sap/ui/unified/CalendarAppointment','sap/ui/unified/CalendarRow','sap/ui/unified/CalendarLegend','sap/ui/Device','sap/ui/unified/library'],function(q,U,C,a,b,D,l){"use strict";var c=l.CalendarDayType;var d=l.CalendarIntervalType;var e=l.CalendarAppointmentVisualization;var f={};f.render=function(r,R){var t=R.getTooltip_AsString();var v=R.getAppointmentsVisualization();var T=this.getLegendItems(R);r.write("<div");r.writeControlData(R);r.addClass("sapUiCalendarRow");if(!D.system.phone&&R.getAppointmentsReducedHeight()){r.addClass("sapUiCalendarRowAppsRedHeight");}if(v!=e.Standard){r.addClass("sapUiCalendarRowVis"+v);}if(R._sFocusedAppointmentId){r.writeAttribute("tabindex","-1");}else{r.writeAttribute("tabindex","0");}if(t){r.writeAttributeEscaped("title",t);}var w=R.getWidth();if(w){r.addStyle("width",w);}var h=R.getHeight();if(h){r.addStyle("height",h);}r.writeAccessibilityState(R);r.writeClasses();r.writeStyles();r.write(">");this.renderAppointmentsRow(r,R,T);r.write("</div>");};f.renderAppointmentsRow=function(r,R,t){var i=R.getId();r.write("<div id=\""+i+"-Apps\" class=\"sapUiCalendarRowApps\">");this.renderAppointments(r,R,t);r.write("</div>");};f.renderAppointments=function(r,R,t){var A=R._getVisibleAppointments();var I=R._getVisibleIntervalHeaders();var s=R._getStartDate();var n=[];var N=[];var S=0;var g=0;var h=[];var j=0;var k=0;var m=R.getIntervals();var o=R.getIntervalType();var w=100/m;var i=0;var p=new U(s);var F=false;var L=false;switch(o){case d.Hour:n=R.getNonWorkingHours()||[];S=s.getUTCHours();g=24;break;case d.Day:case d.Week:case d.OneMonth:n=R._getNonWorkingDays();N=R.getAggregation("_nonWorkingDates");S=s.getUTCDay();g=7;h=R.getNonWorkingHours()||[];j=s.getUTCHours();k=24;break;case d.Month:h=R._getNonWorkingDays();j=s.getUTCDay();k=7;break;default:break;}if(R._isOneMonthIntervalOnSmallSizes()){this.renderSingleDayInterval(r,R,A,t,I,n,S,g,h,j,k,true,true);}else{for(i=0;i<m;i++){if(L){F=true;}else{F=false;}L=false;switch(o){case d.Hour:p.setUTCHours(p.getUTCHours()+1);if(p.getUTCHours()==0){L=true;}break;case d.Day:case d.Week:case d.OneMonth:p.setUTCDate(p.getUTCDate()+1);if(p.getUTCDate()==1){L=true;}break;case d.Month:p.setUTCMonth(p.getUTCMonth()+1);if(p.getUTCMonth()==0){L=true;}break;default:break;}this.renderInterval(r,R,i,w,I,n,N,S,g,h,j,k,F,L);}this.renderIntervalHeaders(r,R,w,I,m);r.write("<div id=\""+R.getId()+"-Now\" class=\"sapUiCalendarRowNow\"></div>");for(i=0;i<A.length;i++){var u=A[i];this.renderAppointment(r,R,u,t);}r.write("<div id=\""+R.getId()+"-DummyApp\" class=\"sapUiCalendarApp sapUiCalendarAppTitleOnly sapUiCalendarAppDummy\"></div>");}};f.renderInterval=function(r,R,I,w,g,n,N,s,h,k,S,m,F,L){var o=R.getId()+"-AppsInt"+I;var i;var p=R.getShowIntervalHeaders()&&(R.getShowEmptyIntervalHeaders()||g.length>0);var M=R.getStartDate().getMonth();var t=new Date(R.getStartDate().getFullYear(),M+1,0).getDate();var u=R.getStartDate();var v;var x;var y;r.write("<div id=\""+o+"\"");r.addClass("sapUiCalendarRowAppsInt");r.addStyle("width",w+"%");if(I>=t&&R.getIntervalType()===d.OneMonth){r.addClass("sapUiCalItemOtherMonth");}for(i=0;i<n.length;i++){if((I+s)%h==n[i]){r.addClass("sapUiCalendarRowAppsNoWork");break;}}if(N&&N.length){v=new Date(u.getTime());v.setHours(0,0,0);v.setDate(u.getDate()+I);var z=function(K){return K===v.getDay();};for(i=0;i<N.length;i++){if(N[i].getStartDate()){x=new Date(N[i].getStartDate().getTime());}if(N[i].getEndDate()){y=new Date(N[i].getEndDate().getTime());}else{y=new Date(N[i].getStartDate().getTime());y.setHours(23,59,59);}if(v.getTime()>=x.getTime()&&v.getTime()<=y.getTime()){var A=n.some(z);if(!A){r.addClass("sapUiCalendarRowAppsNoWork");}}}}if(!p){r.addClass("sapUiCalendarRowAppsIntNoHead");}if(F){r.addClass("sapUiCalendarRowAppsIntFirst");}if(L){r.addClass("sapUiCalendarRowAppsIntLast");}r.writeClasses();r.writeStyles();r.write(">");if(p){r.write("<div");r.addClass("sapUiCalendarRowAppsIntHead");r.writeClasses();r.write(">");r.write("</div>");}if(R.getShowSubIntervals()){var B=R.getIntervalType();var E=0;switch(B){case d.Hour:E=4;break;case d.Day:case d.Week:case d.OneMonth:E=24;break;case d.Month:var G=R._getStartDate();var H=new U(G);H.setUTCMonth(H.getUTCMonth()+I+1,0);E=H.getUTCDate();H.setUTCDate(1);s=H.getUTCDay();break;default:break;}var J=100/E;for(i=0;i<E;i++){r.write("<div");r.addClass("sapUiCalendarRowAppsSubInt");r.addStyle("width",J+"%");for(var j=0;j<k.length;j++){if((i+S)%m==k[j]){r.addClass("sapUiCalendarRowAppsNoWork");break;}}r.writeStyles();r.writeClasses();r.write(">");r.write("</div>");}}r.write("</div>");};f.renderIntervalHeaders=function(r,R,w,I,g){var s=R.getShowIntervalHeaders()&&(R.getShowEmptyIntervalHeaders()||I.length>0);if(s){for(var i=0;i<I.length;i++){var o=I[i],L,h;if(R._bRTL){h=w*o.interval;L=w*(g-o.last-1);}else{L=w*o.interval;h=w*(g-o.last-1);}this.renderIntervalHeader(r,o,R._bRTL,L,h);}}};f.renderIntervalHeader=function(r,i,R,g,h){var I=i.appointment.getId();r.write("<div");r.addClass("sapUiCalendarRowAppsIntHead");if(g!==undefined){r.addStyle("left",g+"%");}if(h!==undefined){r.addStyle("right",h+"%");}r.writeElementData(i.appointment);r.addClass("sapUiCalendarRowAppsIntHeadFirst");if(i.appointment.getSelected()){r.addClass("sapUiCalendarRowAppsIntHeadSel");}if(i.appointment.getTentative()){r.addClass("sapUiCalendarRowAppsIntHeadTent");}var t=i.appointment.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}var T=i.appointment.getType();var s=i.appointment.getColor();if(!s&&T&&T!=c.None){r.addClass("sapUiCalendarRowAppsIntHead"+T);}if(s){if(R){r.addStyle("border-right-color",s);}else{r.addStyle("border-left-color",s);}}r.writeStyles();r.writeClasses();r.write(">");r.write("<div");r.addClass("sapUiCalendarIntervalHeaderCont");r.writeClasses();if(s){r.addStyle("background-color",i.appointment._getCSSColorForBackground(s));r.writeStyles();}r.write(">");var j=i.appointment.getIcon();if(j){var k=["sapUiCalendarRowAppsIntHeadIcon"];var A={};A["id"]=I+"-Icon";A["title"]=null;r.writeIcon(j,k,A);}var m=i.appointment.getTitle();if(m){r.write("<span");r.writeAttribute("id",I+"-Title");r.addClass("sapUiCalendarRowAppsIntHeadTitle");r.writeClasses();r.write(">");r.writeEscaped(m,true);r.write("</span>");}var n=i.appointment.getText();if(n){r.write("<span");r.writeAttribute("id",I+"-Text");r.addClass("sapUiCalendarRowAppsIntHeadText");r.writeClasses();r.write(">");r.writeEscaped(n,true);r.write("</span>");}r.write("</div>");r.write("</div>");};f.renderAppointment=function(r,R,A,t,g){var o=A.appointment;var T=o.getTooltip_AsString();var s=o.getType();var h=o.getColor();var i=o.getTitle();var j=o.getText();var I=o.getIcon();var k=o.getId();var m={labelledby:{value:a._oStaticAppointmentText.getId()+" "+k+"-Descr",append:true}};var n=R.getAriaLabelledBy();if(n.length>0){m["labelledby"].value=m["labelledby"].value+" "+n.join(" ");}if(i){m["labelledby"].value=m["labelledby"].value+" "+k+"-Title";}if(j){m["labelledby"].value=m["labelledby"].value+" "+k+"-Text";}r.write("<div");r.writeElementData(o);r.addClass("sapUiCalendarApp");if(o.getSelected()){r.addClass("sapUiCalendarAppSel");m["labelledby"].value=m["labelledby"].value+" "+a._oStaticSelectedText.getId();}if(o.getTentative()){r.addClass("sapUiCalendarAppTent");m["labelledby"].value=m["labelledby"].value+" "+a._oStaticTentativeText.getId();}if(!j){r.addClass("sapUiCalendarAppTitleOnly");}if(I){r.addClass("sapUiCalendarAppWithIcon");}if(!g){if(R._bRTL){r.addStyle("right",A.begin+"%");r.addStyle("left",A.end+"%");}else{r.addStyle("left",A.begin+"%");r.addStyle("right",A.end+"%");}}r.writeAttribute("data-sap-level",A.level);if(R._sFocusedAppointmentId==k){r.writeAttribute("tabindex","0");}else{r.writeAttribute("tabindex","-1");}if(T){r.writeAttributeEscaped("title",T);}if(!h&&s&&s!=c.None){r.addClass("sapUiCalendarApp"+s);}if(h){if(R._bRTL){r.addStyle("border-right-color",h);}else{r.addStyle("border-left-color",h);}}r.writeAccessibilityState(o,m);r.writeClasses();r.writeStyles();r.write(">");r.write("<div");r.addClass("sapUiCalendarAppCont");if(h&&R.getAppointmentsVisualization()===e.Filled){r.addStyle("background-color",o._getCSSColorForBackground(h));r.writeStyles();}r.writeClasses();r.write(">");if(I){var p=["sapUiCalendarAppIcon"];var u={};u["id"]=k+"-Icon";u["title"]=null;r.writeIcon(I,p,u);}if(i){r.write("<span");r.writeAttribute("id",k+"-Title");r.addClass("sapUiCalendarAppTitle");r.writeClasses();r.write(">");r.writeEscaped(i,true);r.write("</span>");}if(j){r.write("<span");r.writeAttribute("id",k+"-Text");r.addClass("sapUiCalendarAppText");r.writeClasses();r.write(">");r.writeEscaped(j,true);r.write("</span>");}var v=R._oRb.getText("CALENDAR_START_TIME")+": "+R._oFormatAria.format(o.getStartDate());v=v+"; "+R._oRb.getText("CALENDAR_END_TIME")+": "+R._oFormatAria.format(o.getEndDate());if(T){v=v+"; "+T;}if(s&&s!=c.None){v=v+"; "+this.getAriaTextForType(s,t);}r.write("<span id=\""+k+"-Descr\" class=\"sapUiInvisibleText\">"+v+"</span>");r.write("</div>");r.write("</div>");};f.renderSingleDayInterval=function(r,R,A,t,I,n,s,N,g,S,h,F,L){var k=1,w=100,m=R.getId()+"-AppsInt"+k,i,o=R.getShowIntervalHeaders()&&(R.getShowEmptyIntervalHeaders()||I.length>0),p=R.getStartDate(),M=p.getMonth(),u=new Date(p.getFullYear(),M+1,0).getDate(),v,x=A.concat(R.getIntervalHeaders().filter(function(H){var J=H.getStartDate().getTime(),K=H.getStartDate().getTime(),O=p.getTime(),P=O+1000*60*60*24;return(J>=O&&J<P)||(K>=O&&K<P);}).map(function(H){return{appointment:H,isHeader:true};})).sort(C._getComparer(p)),y;r.write("<div id=\""+m+"\"");r.addClass("sapUiCalendarRowAppsInt");r.addClass("sapUiCalendarMonthRowAppsS");r.addStyle("width",w+"%");if(k>=u&&R.getIntervalType()===d.OneMonth){r.addClass("sapUiCalItemOtherMonth");}for(i=0;i<n.length;i++){if((k+s)%N==n[i]){r.addClass("sapUiCalendarRowAppsNoWork");break;}}if(!o){r.addClass("sapUiCalendarRowAppsIntNoHead");}if(F){r.addClass("sapUiCalendarRowAppsIntFirst");}if(L){r.addClass("sapUiCalendarRowAppsIntLast");}r.writeClasses();r.writeStyles();r.write(">");if(o){r.write("<div");r.addClass("sapUiCalendarRowAppsIntHead");r.writeClasses();r.write(">");r.write("</div>");}for(i=0;i<x.length;i++){y=x[i];r.write("<div class=\"sapUiCalendarAppContainer\">");r.write("<div class=\"sapUiCalendarAppContainerLeft\">");r.write("<div>"+y.appointment._getDateRangeIntersectionText(p)+"</div>");r.write("</div>");r.write("<div class=\"sapUiCalendarAppContainerRight\">");if(y.isHeader){this.renderIntervalHeader(r,y);}else{this.renderAppointment(r,R,y,t,true);}r.write("</div>");r.write("</div>");}if(A.length===0){r.write("<div class=\"sapUiCalendarNoApps\">");v=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("PLANNINGCALENDAR_ROW_NO_APPOINTMENTS");r.write(v);r.write("</div>");}r.write("<div id=\""+R.getId()+"-Now\" class=\"sapUiCalendarRowNow\"></div>");r.write("<div id=\""+R.getId()+"-DummyApp\" class=\"sapUiCalendarApp sapUiCalendarAppTitleOnly sapUiCalendarAppDummy\" style='margin:0; height:0px;'></div>");if(R.getShowSubIntervals()){var z=R.getIntervalType();var B=0;switch(z){case d.Hour:B=4;break;case d.Day:case d.Week:case d.OneMonth:B=24;break;case d.Month:var E=new U(p);E.setUTCMonth(E.getUTCMonth()+k+1,0);B=E.getUTCDate();E.setUTCDate(1);s=E.getUTCDay();break;default:break;}var G=100/B;for(i=0;i<B;i++){r.write("<div");r.addClass("sapUiCalendarRowAppsSubInt");r.addStyle("width",G+"%");for(var j=0;j<g.length;j++){if((i+S)%h==g[j]){r.addClass("sapUiCalendarRowAppsNoWork");break;}}r.writeStyles();r.writeClasses();r.write(">");r.write("</div>");}}r.write("</div>");};f.getLegendItems=function(o){var r=[],L,s=o.getLegend();if(s){L=sap.ui.getCore().byId(s);if(L){r=L.getItems();}else{q.sap.log.error("CalendarLegend with id '"+s+"' does not exist!",o);}}return r;};f.getAriaTextForType=function(t,L){var T,s,I,i;if(L&&L.length){for(var i=0;i<L.length;i++){I=L[i];if(I.getType()===t){T=I.getText();break;}}}if(!T){s=b.getTypeAriaText(t);if(s){T=s.getText();}}return T;};return f;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.Menu')){jQuery.sap.declare('sap.ui.unified.Menu');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Element');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.Popup');jQuery.sap.require('sap.ui.core.library');jQuery.sap.require('sap.ui.core.delegate.ScrollEnablement');jQuery.sap.require('jquery.sap.script');jQuery.sap.require('jquery.sap.keycodes');jQuery.sap.require('jquery.sap.events');sap.ui.define("sap/ui/unified/Menu",['jquery.sap.global','sap/ui/core/Element','sap/ui/core/Control','sap/ui/Device','sap/ui/core/Popup','./MenuItemBase','./library','sap/ui/core/library','sap/ui/unified/MenuRenderer','sap/ui/core/delegate/ScrollEnablement','jquery.sap.script','jquery.sap.keycodes','jquery.sap.events'],function(q,E,C,D,P,M,l,c,a,S){"use strict";var b=P.Dock;var O=c.OpenState;var d=C.extend("sap.ui.unified.Menu",{metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},ariaDescription:{type:"string",group:"Accessibility",defaultValue:null},maxVisibleItems:{type:"int",group:"Behavior",defaultValue:0},pageSize:{type:"int",group:"Behavior",defaultValue:5}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.unified.MenuItemBase",multiple:true,singularName:"item"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{itemSelect:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}}});(function(w){d.prototype.bCozySupported=true;d._DELAY_SUBMENU_TIMER=300;d._DELAY_SUBMENU_TIMER_EXT=400;d.prototype.init=function(){var t=this;this.bOpen=false;this.oOpenedSubMenu=null;this.oHoveredItem=null;this.oPopup=null;this._bOpenedAsContextMenu=false;this.fAnyEventHandlerProxy=q.proxy(function(e){var r=this.getRootMenu();if(r!=this||!this.bOpen||!this.getDomRef()||(e.type!="mousedown"&&e.type!="touchstart")){return;}r.handleOuterEvent(this.getId(),e);},this);this.fOrientationChangeHandler=function(){t.close();};this.bUseTopStyle=false;};d.prototype.exit=function(){if(this.oPopup){this.oPopup.detachClosed(this._menuClosed,this);this.oPopup.destroy();delete this.oPopup;}if(this._oScroller){this._oScroller.destroy();this._oScroller=null;}q.sap.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){q(w).unbind("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false;}this._resetDelayedRerenderItems();};d.prototype.invalidate=function(o){if(o instanceof M&&this.getDomRef()){this._delayedRerenderItems();}else{C.prototype.invalidate.apply(this,arguments);}};d.prototype.onBeforeRendering=function(){this._resetDelayedRerenderItems();if(!this._oScroller&&D.os.ios&&D.support.touch){this._oScroller=new S(this,null,{scrollContainerId:this.getId(),horizontal:false,vertical:true});}};d.prototype.getScrollDelegate=function(){return this._oScroller;};d.prototype.onAfterRendering=function(){if(this.$().parent().attr("id")!="sap-ui-static"){q.sap.log.error("sap.ui.unified.Menu: The Menu is popup based and must not be rendered directly as content of the page.");this.close();this.$().remove();}var I=this.getItems();for(var i=0;i<I.length;i++){if(I[i].onAfterRendering&&I[i].getDomRef()){I[i].onAfterRendering();}}if(this.oHoveredItem){this.oHoveredItem.hover(true,this);}g(this);};d.prototype.onThemeChanged=function(){if(this.getDomRef()&&this.getPopup().getOpenState()===O.OPEN){g(this);this.getPopup()._applyPosition(this.getPopup()._oLastPosition);}};d.prototype.setPageSize=function(i){return this.setProperty("pageSize",i,true);};d.prototype.addItem=function(i){this.addAggregation("items",i,!!this.getDomRef());this._delayedRerenderItems();return this;};d.prototype.insertItem=function(i,e){this.insertAggregation("items",i,e,!!this.getDomRef());this._delayedRerenderItems();return this;};d.prototype.removeItem=function(i){this.removeAggregation("items",i,!!this.getDomRef());this._delayedRerenderItems();return this;};d.prototype.removeAllItems=function(){var r=this.removeAllAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return r;};d.prototype.destroyItems=function(){this.destroyAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return this;};d.prototype._delayedRerenderItems=function(){if(!this.getDomRef()){return;}this._resetDelayedRerenderItems();this._discardOpenSubMenuDelayed();this._itemRerenderTimer=q.sap.delayedCall(0,this,function(){var o=this.getDomRef();if(o){var r=sap.ui.getCore().createRenderManager();a.renderItems(r,this);r.flush(o);r.destroy();this.onAfterRendering();this.getPopup()._applyPosition(this.getPopup()._oLastPosition);}});};d.prototype._resetDelayedRerenderItems=function(){if(this._itemRerenderTimer){q.sap.clearDelayedCall(this._itemRerenderTimer);delete this._itemRerenderTimer;}};d.prototype.open=function(W,o,m,e,i,j,k){if(this.bOpen){return;}s(this,true);this.oOpenerRef=o;this.bIgnoreOpenerDOMRef=false;this.getPopup().open(0,m,e,i,j||"0 0",k||"_sapUiCommonsMenuFlip _sapUiCommonsMenuFlip",true);this.bOpen=true;D.resize.attachHandler(this._handleResizeChange,this);var n=this.getDomRef();q(n).attr("tabIndex",0).focus();if(W){this.setHoveredItem(this.getNextSelectableItem(-1));}q.sap.bindAnyEvent(this.fAnyEventHandlerProxy);if(D.support.orientation&&this.getRootMenu()===this){q(w).bind("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=true;}};d.prototype._handleResizeChange=function(){this.getPopup()._applyPosition(this.getPopup()._oLastPosition);};d.prototype.openAsContextMenu=function(e,o){o=o instanceof E?o.getDomRef():o;var x=e.pageX-q(o).offset().left,y=e.pageY-q(o).offset().top,r=sap.ui.getCore().getConfiguration().getRTL(),i=b;if(r){x=o.clientWidth-x;}this._iX=e.clientX;this._iY=e.clientY;this._bOpenedAsContextMenu=true;this.open(true,o,i.BeginTop,i.BeginTop,o,x+" "+y,'fit');};d.prototype._handleOpened=function(){var m,W,i,e,r,B,R,j,k,n;if(!this._bOpenedAsContextMenu){return;}m=this.$();W=q(w);i=this._iX;e=this._iY;r=W.scrollLeft()+W.width();B=W.scrollTop()+W.height();R=sap.ui.getCore().getConfiguration().getRTL();j=false;k=m.width();n=m.height();if(e+n>B){e=e-n;j=true;}if(R){if((r-i)+k>r){i=r-(i+k);j=true;}else{i=r-i;j=true;}}else{if(i+k>r){i=i-k;j=true;}}this._bOpenedAsContextMenu=false;j&&this.oPopup.setPosition("begin top","begin top",W,i+" "+e,"flip");};d.prototype.close=function(){if(!this.bOpen||d._dbg){return;}this._discardOpenSubMenuDelayed();s(this,false);delete this._bFixed;q.sap.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){q(w).unbind("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false;}this.bOpen=false;this.closeSubmenu();this.setHoveredItem();q(this.getDomRef()).attr("tabIndex",-1);this.getPopup().close(0);D.resize.detachHandler(this._handleResizeChange,this);this._resetDelayedRerenderItems();this.$().remove();this.bOutput=false;if(this.isSubMenu()){this.getParent().getParent().oOpenedSubMenu=null;}};d.prototype._menuClosed=function(){if(this.oOpenerRef){if(!this.bIgnoreOpenerDOMRef){try{this.oOpenerRef.focus();}catch(e){q.sap.log.warning("Menu.close cannot restore the focus on opener "+this.oOpenerRef+", "+e);}}this.oOpenerRef=undefined;}};d.prototype.onclick=function(e){this.selectItem(this.getItemByDomRef(e.target),false,!!(e.metaKey||e.ctrlKey));e.preventDefault();e.stopPropagation();};d.prototype.onsapnext=function(e){if(e.keyCode!=q.sap.KeyCodes.ARROW_DOWN){if(this.oHoveredItem&&this.oHoveredItem.getSubmenu()&&this.checkEnabled(this.oHoveredItem)){this.openSubmenu(this.oHoveredItem,true);}return;}var i=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1;this.setHoveredItem(this.getNextSelectableItem(i));e.preventDefault();e.stopPropagation();};d.prototype.onsapprevious=function(e){if(e.keyCode!=q.sap.KeyCodes.ARROW_UP){if(this.isSubMenu()){this.close();}e.preventDefault();e.stopPropagation();return;}var i=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1;this.setHoveredItem(this.getPreviousSelectableItem(i));e.preventDefault();e.stopPropagation();};d.prototype.onsaphome=function(e){this.setHoveredItem(this.getNextSelectableItem(-1));e.preventDefault();e.stopPropagation();};d.prototype.onsapend=function(e){this.setHoveredItem(this.getPreviousSelectableItem(this.getItems().length));e.preventDefault();e.stopPropagation();};d.prototype.onsappagedown=function(e){if(this.getPageSize()<1){this.onsapend(e);return;}var i=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1;i+=this.getPageSize();if(i>=this.getItems().length){this.onsapend(e);return;}this.setHoveredItem(this.getNextSelectableItem(i-1));e.preventDefault();e.stopPropagation();};d.prototype.onsappageup=function(e){if(this.getPageSize()<1){this.onsaphome(e);return;}var i=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1;i-=this.getPageSize();if(i<0){this.onsaphome(e);return;}this.setHoveredItem(this.getPreviousSelectableItem(i+1));e.preventDefault();e.stopPropagation();};d.prototype.onsapselect=function(e){this._sapSelectOnKeyDown=true;e.preventDefault();e.stopPropagation();};d.prototype.onkeyup=function(e){if(this.oHoveredItem&&(q(e.target).prop("tagName")!="INPUT")){var o=this.oHoveredItem.getDomRef();q(o).attr("tabIndex",0).focus();}if(!this._sapSelectOnKeyDown){return;}else{this._sapSelectOnKeyDown=false;}if(!q.sap.PseudoEvents.sapselect.fnCheck(e)){return;}this.selectItem(this.oHoveredItem,true,false);e.preventDefault();e.stopPropagation();};d.prototype.onsapbackspace=function(e){if(q(e.target).prop("tagName")!="INPUT"){e.preventDefault();}};d.prototype.onsapbackspacemodifiers=d.prototype.onsapbackspace;d.prototype.onsapescape=function(e){this.close();e.preventDefault();e.stopPropagation();};d.prototype.onsaptabnext=d.prototype.onsapescape;d.prototype.onsaptabprevious=d.prototype.onsapescape;d.prototype.onmouseover=function(e){if(!D.system.desktop){return;}var i=this.getItemByDomRef(e.target);if(!this.bOpen||!i||i==this.oHoveredItem){return;}if(this.oOpenedSubMenu&&q.sap.containsOrEquals(this.oOpenedSubMenu.getDomRef(),e.target)){return;}this.setHoveredItem(i);if(q.sap.checkMouseEnterOrLeave(e,this.getDomRef())){if(!D.browser.msie&&!D.browser.edge){this.getDomRef().focus();}}this._openSubMenuDelayed(i);};d.prototype._openSubMenuDelayed=function(i){if(!i){return;}this._discardOpenSubMenuDelayed();this._delayedSubMenuTimer=q.sap.delayedCall(i.getSubmenu()&&this.checkEnabled(i)?d._DELAY_SUBMENU_TIMER:d._DELAY_SUBMENU_TIMER_EXT,this,function(){this.closeSubmenu();if(!i.getSubmenu()||!this.checkEnabled(i)){return;}this.setHoveredItem(i);this.openSubmenu(i,false,true);});};d.prototype._discardOpenSubMenuDelayed=function(i){if(this._delayedSubMenuTimer){q.sap.clearDelayedCall(this._delayedSubMenuTimer);this._delayedSubMenuTimer=null;}};d.prototype.onmouseout=function(e){if(!D.system.desktop){return;}if(q.sap.checkMouseEnterOrLeave(e,this.getDomRef())){if(!this.oOpenedSubMenu||!(this.oOpenedSubMenu.getParent()===this.oHoveredItem)){this.setHoveredItem(null);}this._discardOpenSubMenuDelayed();}};d.prototype.onsapfocusleave=function(e){if(this.oOpenedSubMenu||!this.bOpen){return;}this.getRootMenu().handleOuterEvent(this.getId(),e);};d.prototype.handleOuterEvent=function(m,e){var i=false,t=this.getPopup().touchEnabled;this.bIgnoreOpenerDOMRef=false;if(e.type=="mousedown"||e.type=="touchstart"){if(t&&(e.isMarked("delayedMouseEvent")||e.isMarked("cancelAutoClose"))){return;}var j=this;while(j&&!i){if(q.sap.containsOrEquals(j.getDomRef(),e.target)){i=true;}j=j.oOpenedSubMenu;}}else if(e.type=="sapfocusleave"){if(t){return;}if(e.relatedControlId){var j=this;while(j&&!i){if((j.oOpenedSubMenu&&j.oOpenedSubMenu.getId()==e.relatedControlId)||q.sap.containsOrEquals(j.getDomRef(),q.sap.byId(e.relatedControlId).get(0))){i=true;}j=j.oOpenedSubMenu;}}if(!i){this.bIgnoreOpenerDOMRef=true;}}if(!i){this.close();}};d.prototype.getItemByDomRef=function(o){var I=this.getItems(),L=I.length;for(var i=0;i<L;i++){var e=I[i],j=e.getDomRef();if(q.sap.containsOrEquals(j,o)){return e;}}return null;};d.prototype.selectItem=function(i,W,e){if(!i||!(i instanceof M&&this.checkEnabled(i))){return;}var o=i.getSubmenu();if(!o){this.getRootMenu().close();}else{if(!D.system.desktop&&this.oOpenedSubMenu===o){this.closeSubmenu();}else{this.openSubmenu(i,W);}}i.fireSelect({item:i,ctrlKey:e});this.getRootMenu().fireItemSelect({item:i});};d.prototype.isSubMenu=function(){return this.getParent()&&this.getParent().getParent&&this.getParent().getParent()instanceof d;};d.prototype.getRootMenu=function(){var t=this;while(t.isSubMenu()){t=t.getParent().getParent();}return t;};d.prototype.getMenuLevel=function(){var L=1;var t=this;while(t.isSubMenu()){t=t.getParent().getParent();L++;}return L;};d.prototype.getPopup=function(){if(!this.oPopup){this.oPopup=new P(this,false,true,false);this.oPopup.setDurations(0,0);this.oPopup.attachClosed(this._menuClosed,this);this.oPopup.attachOpened(this._handleOpened,this);}return this.oPopup;};d.prototype.setHoveredItem=function(i){if(this.oHoveredItem){this.oHoveredItem.hover(false,this);}if(!i){this.oHoveredItem=null;q(this.getDomRef()).removeAttr("aria-activedescendant");return;}this.oHoveredItem=i;i.hover(true,this);this._setActiveDescendant(this.oHoveredItem);this.scrollToItem(this.oHoveredItem);};d.prototype._setActiveDescendant=function(i){if(sap.ui.getCore().getConfiguration().getAccessibility()&&i){var t=this;t.$().removeAttr("aria-activedescendant");setTimeout(function(){if(t.oHoveredItem===i){t.$().attr("aria-activedescendant",t.oHoveredItem.getId());}},10);}};d.prototype.openSubmenu=function(i,W,e){var o=i.getSubmenu();if(!o){return;}if(this.oOpenedSubMenu&&this.oOpenedSubMenu!==o){this.closeSubmenu();}if(this.oOpenedSubMenu){this.oOpenedSubMenu._bFixed=(e&&this.oOpenedSubMenu._bFixed)||(!e&&!this.oOpenedSubMenu._bFixed);this.oOpenedSubMenu._bringToFront();}else{this.oOpenedSubMenu=o;var j=P.Dock;o.open(W,this,j.BeginTop,j.EndTop,i,"0 0");}};d.prototype.closeSubmenu=function(i,I){if(this.oOpenedSubMenu){if(i&&this.oOpenedSubMenu._bFixed){return;}if(I){this.oOpenedSubMenu.bIgnoreOpenerDOMRef=true;}this.oOpenedSubMenu.close();this.oOpenedSubMenu=null;}};d.prototype.scrollToItem=function(i){var m=this.getDomRef(),I=i?i.getDomRef():null;if(!I||!m){return;}var e=m.scrollTop,j=I.offsetTop,k=q(m).height(),n=q(I).height();if(e>j){m.scrollTop=j;}else if((j+n)>(e+k)){m.scrollTop=Math.ceil(j+n-k);}};d.prototype._bringToFront=function(){q.sap.byId(this.getPopup().getId()).mousedown();};d.prototype.checkEnabled=function(i){return i&&i.getEnabled()&&this.getEnabled();};d.prototype.getNextSelectableItem=function(I){var o=null;var e=this.getItems();for(var i=I+1;i<e.length;i++){if(e[i].getVisible()&&this.checkEnabled(e[i])){o=e[i];break;}}if(!o){for(var i=0;i<=I;i++){if(e[i].getVisible()&&this.checkEnabled(e[i])){o=e[i];break;}}}return o;};d.prototype.getPreviousSelectableItem=function(I){var o=null;var e=this.getItems();for(var i=I-1;i>=0;i--){if(e[i].getVisible()&&this.checkEnabled(e[i])){o=e[i];break;}}if(!o){for(var i=e.length-1;i>=I;i--){if(e[i].getVisible()&&this.checkEnabled(e[i])){o=e[i];break;}}}return o;};d.prototype.setRootMenuTopStyle=function(u){this.getRootMenu().bUseTopStyle=u;d.rerenderMenu(this.getRootMenu());};d.rerenderMenu=function(m){var I=m.getItems();for(var i=0;i<I.length;i++){var o=I[i].getSubmenu();if(o){d.rerenderMenu(o);}}m.invalidate();m.rerender();};d.prototype.focus=function(){if(this.bOpen){C.prototype.focus.apply(this,arguments);this._setActiveDescendant(this.oHoveredItem);}};d.prototype.isCozy=function(){if(!this.bCozySupported){return false;}if(this.hasStyleClass("sapUiSizeCozy")){return true;}if(f(this.oOpenerRef)){return true;}if(f(this.getParent())){return true;}return false;};function f(r){if(!r){return false;}r=r.$?r.$():q(r);return r.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy").hasClass("sapUiSizeCozy");}function s(m,o){var p=m.getParent();if(p&&p instanceof M){p.onSubmenuToggle(o);}}function g(m){var e=m.getMaxVisibleItems(),j=document.documentElement.clientHeight-10,$=m.$();if(e>0){var I=m.getItems();for(var i=0;i<I.length;i++){if(I[i].getDomRef()){j=Math.min(j,I[i].$().outerHeight(true)*e);break;}}}if($.outerHeight(true)>j){$.css("max-height",j+"px").toggleClass("sapUiMnuScroll",true);}else{$.css("max-height","").toggleClass("sapUiMnuScroll",false);}}
/*!
	 * The following code is taken from
	 * jQuery UI 1.10.3 - 2013-11-18
	 * jquery.ui.position.js
	 *
	 * http://jqueryui.com
	 * Copyright 2013 jQuery Foundation and other contributors; Licensed MIT
	 */
function _(e){var i=q(w);e.within={element:i,isWindow:true,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.width(),height:i.height()};e.collisionPosition={marginLeft:0,marginTop:0};return e;}var h={fit:{left:function(p,e){var i=e.within,j=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,k=p.left-e.collisionPosition.marginLeft,m=j-k,n=k+e.collisionWidth-o-j,r;if(e.collisionWidth>o){if(m>0&&n<=0){r=p.left+m+e.collisionWidth-o-j;p.left+=m-r;}else if(n>0&&m<=0){p.left=j;}else{if(m>n){p.left=j+o-e.collisionWidth;}else{p.left=j;}}}else if(m>0){p.left+=m;}else if(n>0){p.left-=n;}else{p.left=Math.max(p.left-k,p.left);}},top:function(p,e){var i=e.within,j=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,k=p.top-e.collisionPosition.marginTop,m=j-k,n=k+e.collisionHeight-o-j,r;if(e.collisionHeight>o){if(m>0&&n<=0){r=p.top+m+e.collisionHeight-o-j;p.top+=m-r;}else if(n>0&&m<=0){p.top=j;}else{if(m>n){p.top=j+o-e.collisionHeight;}else{p.top=j;}}}else if(m>0){p.top+=m;}else if(n>0){p.top-=n;}else{p.top=Math.max(p.top-k,p.top);}}},flip:{left:function(p,e){var i=e.within,j=i.offset.left+i.scrollLeft,o=i.width,k=i.isWindow?i.scrollLeft:i.offset.left,m=p.left-e.collisionPosition.marginLeft,n=m-k,r=m+e.collisionWidth-o-k,t=e.my[0]==="left"?-e.elemWidth:e.my[0]==="right"?e.elemWidth:0,u=e.at[0]==="left"?e.targetWidth:e.at[0]==="right"?-e.targetWidth:0,v=-2*e.offset[0],x,y;if(n<0){x=p.left+t+u+v+e.collisionWidth-o-j;if(x<0||x<Math.abs(n)){p.left+=t+u+v;}}else if(r>0){y=p.left-e.collisionPosition.marginLeft+t+u+v-k;if(y>0||Math.abs(y)<r){p.left+=t+u+v;}}},top:function(p,e){var i=e.within,j=i.offset.top+i.scrollTop,o=i.height,k=i.isWindow?i.scrollTop:i.offset.top,m=p.top-e.collisionPosition.marginTop,n=m-k,r=m+e.collisionHeight-o-k,t=e.my[1]==="top",u=t?-e.elemHeight:e.my[1]==="bottom"?e.elemHeight:0,v=e.at[1]==="top"?e.targetHeight:e.at[1]==="bottom"?-e.targetHeight:0,x=-2*e.offset[1],y,z;if(n<0){z=p.top+u+v+x+e.collisionHeight-o-j;if((p.top+u+v+x)>n&&(z<0||z<Math.abs(n))){p.top+=u+v+x;}}else if(r>0){y=p.top-e.collisionPosition.marginTop+u+v+x-k;if((p.top+u+v+x)>r&&(y>0||Math.abs(y)<r)){p.top+=u+v+x;}}}},flipfit:{left:function(){h.flip.left.apply(this,arguments);h.fit.left.apply(this,arguments);},top:function(){h.flip.top.apply(this,arguments);h.fit.top.apply(this,arguments);}}};q.ui.position._sapUiCommonsMenuFlip={left:function(p,e){if(q.ui.position.flipfit){q.ui.position.flipfit.left.apply(this,arguments);return;}e=_(e);h.flipfit.left.apply(this,arguments);},top:function(p,e){if(q.ui.position.flipfit){q.ui.position.flipfit.top.apply(this,arguments);return;}e=_(e);h.flipfit.top.apply(this,arguments);}};})(window);return d;});};if(!jQuery.sap.isDeclared('sap.ui.unified.MenuItem')){
/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
jQuery.sap.declare('sap.ui.unified.MenuItem');jQuery.sap.require('sap.ui.core.IconPool');sap.ui.define("sap/ui/unified/MenuItem",['sap/ui/core/IconPool','./MenuItemBase','./library'],function(I,M,l){"use strict";var a=M.extend("sap.ui.unified.MenuItem",{metadata:{library:"sap.ui.unified",properties:{text:{type:"string",group:"Appearance",defaultValue:''},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:''}}}});I.getIconInfo("","");a.prototype.render=function(r,i,m,o){var b=r;var s=i.getSubmenu();b.write("<li ");var c="sapUiMnuItm";if(o.iItemNo==1){c+=" sapUiMnuItmFirst";}else if(o.iItemNo==o.iTotalItems){c+=" sapUiMnuItmLast";}if(!m.checkEnabled(i)){c+=" sapUiMnuItmDsbl";}if(i.getStartsSection()){c+=" sapUiMnuItmSepBefore";}b.writeAttribute("class",c);if(i.getTooltip_AsString()){b.writeAttributeEscaped("title",i.getTooltip_AsString());}b.writeElementData(i);if(o.bAccessible){b.writeAccessibilityState(i,{role:"menuitem",disabled:!m.checkEnabled(i),posinset:o.iItemNo,setsize:o.iTotalItems,labelledby:{value:this.getId()+"-txt "+this.getId()+"-scuttxt",append:true}});if(s){b.writeAttribute("aria-haspopup",true);b.writeAttribute("aria-owns",s.getId());}}b.write("><div class=\"sapUiMnuItmL\"></div>");b.write("<div class=\"sapUiMnuItmIco\">");if(i.getIcon()){b.writeIcon(i.getIcon(),null,{title:null});}b.write("</div>");b.write("<div id=\""+this.getId()+"-txt\" class=\"sapUiMnuItmTxt\">");b.writeEscaped(i.getText());b.write("</div>");b.write("<div id=\""+this.getId()+"-scuttxt\" class=\"sapUiMnuItmSCut\"></div>");b.write("<div class=\"sapUiMnuItmSbMnu\">");if(s){b.write("<div class=\"sapUiIconMirrorInRTL\"></div>");}b.write("</div>");b.write("<div class=\"sapUiMnuItmR\"></div>");b.write("</li>");};a.prototype.hover=function(h,m){this.$().toggleClass("sapUiMnuItmHov",h);};return a;});};if(!jQuery.sap.isDeclared('sap.ui.unified.ShellLayout')){jQuery.sap.declare('sap.ui.unified.ShellLayout');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.core.Popup');jQuery.sap.require('sap.ui.core.theming.Parameters');jQuery.sap.require('jquery.sap.dom');jQuery.sap.require('jquery.sap.script');sap.ui.define("sap/ui/unified/ShellLayout",['jquery.sap.global','sap/ui/Device','sap/ui/core/Control','sap/ui/core/Popup','sap/ui/core/theming/Parameters','./SplitContainer','./library','jquery.sap.dom','jquery.sap.script'],function(q,D,C,P,a,S,l){"use strict";var b=C.extend("sap.ui.unified.ShellLayout",{metadata:{library:"sap.ui.unified",properties:{showPane:{type:"boolean",group:"Appearance",defaultValue:false},headerHiding:{type:"boolean",group:"Appearance",defaultValue:false},headerVisible:{type:"boolean",group:"Appearance",defaultValue:true}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},paneContent:{type:"sap.ui.core.Control",multiple:true,singularName:"paneContent"},header:{type:"sap.ui.core.Control",multiple:false},canvasSplitContainer:{type:"sap.ui.unified.SplitContainer",multiple:false,visibility:"hidden"},curtainSplitContainer:{type:"sap.ui.unified.SplitContainer",multiple:false,visibility:"hidden"}}}});b._SIDEPANE_WIDTH_PHONE=208;b._SIDEPANE_WIDTH_TABLET=208;b._SIDEPANE_WIDTH_DESKTOP=240;b._HEADER_ALWAYS_VISIBLE=true;b._HEADER_AUTO_CLOSE=true;b._HEADER_TOUCH_TRESHOLD=15;if(D.browser.chrome&&D.browser.version<36){b._HEADER_TOUCH_TRESHOLD=10;}b.prototype.init=function(){this._rtl=sap.ui.getCore().getConfiguration().getRTL();this._animation=sap.ui.getCore().getConfiguration().getAnimation();this._showHeader=true;this._showCurtain=false;this._iHeaderHidingDelay=3000;this._useStrongBG=false;this._cont=new S(this.getId()+"-container");this._cont._bRootContent=true;if(sap.ui.getCore().getConfiguration().getAccessibility()){var t=this;this._cont.addEventDelegate({onAfterRendering:function(){t._cont.$("canvas").attr("role","main");t._cont.$("pane").attr("role","complementary");}});}this.setAggregation("canvasSplitContainer",this._cont,true);this._curtCont=new S(this.getId()+"-curt-container");this._curtCont._bRootContent=true;this.setAggregation("curtainSplitContainer",this._curtCont,true);this._setSidePaneWidth();D.media.attachHandler(this._handleMediaChange,this,D.media.RANGESETS.SAP_STANDARD);D.resize.attachHandler(this._handleResizeChange,this);};b.prototype.exit=function(){D.media.detachHandler(this._handleMediaChange,this,D.media.RANGESETS.SAP_STANDARD);D.resize.detachHandler(this._handleResizeChange,this);delete this._cont;delete this._curtCont;};b.prototype.onAfterRendering=function(){var t=this;function h(B){var e=q.event.fix(B);if(q.sap.containsOrEquals(t.getDomRef("hdr"),e.target)){t._timedHideHeader(e.type==="focus");}}if(window.addEventListener&&!b._HEADER_ALWAYS_VISIBLE){var H=this.getDomRef("hdr");H.addEventListener("focus",h,true);H.addEventListener("blur",h,true);}this._refreshAfterRendering();};b.prototype.onThemeChanged=function(){this._refreshAfterRendering();};b.prototype.onfocusin=function(e){var i=this.getId();if(e.target.id===i+"-curt-focusDummyOut"){q.sap.focus(this.$("hdrcntnt").firstFocusableDomRef());}else if(e.target.id===i+"-main-focusDummyOut"){q.sap.focus(this.$("curtcntnt").firstFocusableDomRef());}};(function(){function _(s){if(s._startY===undefined||s._currY===undefined){return;}var y=s._currY-s._startY;if(Math.abs(y)>b._HEADER_TOUCH_TRESHOLD){s._doShowHeader(y>0);s._startY=s._currY;}}if(D.support.touch){b._HEADER_ALWAYS_VISIBLE=false;b.prototype.ontouchstart=function(e){this._startY=e.touches[0].pageY;if(this._startY>2*48){this._startY=undefined;}this._currY=this._startY;};b.prototype.ontouchend=function(e){_(this);this._startY=undefined;this._currY=undefined;};b.prototype.ontouchcancel=b.prototype.ontouchend;b.prototype.ontouchmove=function(e){this._currY=e.touches[0].pageY;_(this);};}})();b.prototype.setHeaderHiding=function(e){e=!!e;return this._mod(function(r){return this.setProperty("headerHiding",e,r);},function(){this._doShowHeader(!e?true:this._showHeader);});};b.prototype.setHeaderHidingDelay=function(d){this._iHeaderHidingDelay=d;return this;};b.prototype.getHeaderHidingDelay=function(){return this._iHeaderHidingDelay;};b.prototype.getShowPane=function(){return this._cont.getShowSecondaryContent();};b.prototype.setShowPane=function(s){this._cont.setShowSecondaryContent(s);this.setProperty("showPane",!!s,true);return this;};b.prototype.setShowCurtainPane=function(s){this._curtCont.setShowSecondaryContent(s);return this;};b.prototype.getShowCurtainPane=function(){return this._curtCont.getShowSecondaryContent();};b.prototype.setHeaderVisible=function(h){h=!!h;this.setProperty("headerVisible",h,true);this.$().toggleClass("sapUiUfdShellNoHead",!h);return this;};b.prototype.setShowCurtain=function(s){s=!!s;return this._mod(function(r){this._showCurtain=s;return this;},function(){this.$("main-focusDummyOut").attr("tabindex",s?0:-1);this.$().toggleClass("sapUiUfdShellCurtainHidden",!s).toggleClass("sapUiUfdShellCurtainVisible",s);if(s){var z=P.getNextZIndex();this.$("curt").css("z-index",z+1);this.$("hdr").css("z-index",z+3);this.$("brand").css("z-index",z+7);this.$().toggleClass("sapUiUfdShellCurtainClosed",false);}this._timedCurtainClosed(s);this._doShowHeader(true);});};b.prototype.getShowCurtain=function(){return this._showCurtain;};b.prototype.getContent=function(){return this._cont.getContent();};b.prototype.insertContent=function(c,i){this._cont.insertContent(c,i);return this;};b.prototype.addContent=function(c){this._cont.addContent(c);return this;};b.prototype.removeContent=function(i){return this._cont.removeContent(i);};b.prototype.removeAllContent=function(){return this._cont.removeAllContent();};b.prototype.destroyContent=function(){this._cont.destroyContent();return this;};b.prototype.indexOfContent=function(c){return this._cont.indexOfContent(c);};b.prototype.getPaneContent=function(){return this._cont.getSecondaryContent();};b.prototype.insertPaneContent=function(c,i){this._cont.insertSecondaryContent(c,i);return this;};b.prototype.addPaneContent=function(c){this._cont.addSecondaryContent(c);return this;};b.prototype.removePaneContent=function(i){return this._cont.removeSecondaryContent(i);};b.prototype.removeAllPaneContent=function(){return this._cont.removeAllSecondaryContent();};b.prototype.destroyPaneContent=function(){this._cont.destroySecondaryContent();return this;};b.prototype.indexOfPaneContent=function(c){return this._cont.indexOfSecondaryContent(c);};b.prototype.setHeader=function(h){this.setAggregation("header",h,true);h=this.getHeader();if(this.getDomRef()){if(!h){this.$("hdrcntnt").html("");}else{var r=sap.ui.getCore().createRenderManager();r.renderControl(h);r.flush(this.getDomRef("hdrcntnt"));r.destroy();}}return this;};b.prototype.destroyHeader=function(){this.destroyAggregation("header",true);this.$("hdrcntnt").html("");return this;};b.prototype.getCurtainContent=function(){return this._curtCont.getContent();};b.prototype.insertCurtainContent=function(c,i){this._curtCont.insertContent(c,i);return this;};b.prototype.addCurtainContent=function(c){this._curtCont.addContent(c);return this;};b.prototype.removeCurtainContent=function(i){return this._curtCont.removeContent(i);};b.prototype.removeAllCurtainContent=function(){return this._curtCont.removeAllContent();};b.prototype.destroyCurtainContent=function(){this._curtCont.destroyContent();return this;};b.prototype.indexOfCurtainContent=function(c){return this._curtCont.indexOfCurtainContent(c);};b.prototype.getCurtainPaneContent=function(){return this._curtCont.getSecondaryContent();};b.prototype.insertCurtainPaneContent=function(c,i){this._curtCont.insertSecondaryContent(c,i);return this;};b.prototype.addCurtainPaneContent=function(c){this._curtCont.addSecondaryContent(c);return this;};b.prototype.removeCurtainPaneContent=function(i){return this._curtCont.removeSecondaryContent(i);};b.prototype.removeAllCurtainPaneContent=function(){return this._curtCont.removeAllSecondaryContent();};b.prototype.destroyCurtainPaneContent=function(){this._curtCont.destroySecondaryContent();return this;};b.prototype.indexOfCurtainPaneContent=function(c){return this._curtCont.indexOfSecondaryContent(c);};b.prototype._setStrongBackground=function(u){this._useStrongBG=!!u;this.$("strgbg").toggleClass("sapUiStrongBackgroundColor",this._useStrongBG);};b.prototype._mod=function(m,d){var r=!!this.getDomRef();var c=m.apply(this,[r]);if(r&&d){if(d instanceof l._ContentRenderer){d.render();}else{d.apply(this);}}return c;};b.prototype._doShowHeader=function(s){var w=this._showHeader;this._showHeader=this._isHeaderHidingActive()?!!s:true;this.$().toggleClass("sapUiUfdShellHeadHidden",!this._showHeader).toggleClass("sapUiUfdShellHeadVisible",this._showHeader);if(this._showHeader){this._timedHideHeader();}if(w!=this._showHeader&&this._isHeaderHidingActive()){q.sap.delayedCall(500,this,function(){try{var r=document.createEvent("UIEvents");r.initUIEvent("resize",true,false,window,0);window.dispatchEvent(r);}catch(e){q.sap.log.error(e);}});}};b.prototype._timedHideHeader=function(c){if(this._headerHidingTimer){q.sap.clearDelayedCall(this._headerHidingTimer);this._headerHidingTimer=null;}if(c||!b._HEADER_AUTO_CLOSE||!this._isHeaderHidingActive()||this._iHeaderHidingDelay<=0){return;}this._headerHidingTimer=q.sap.delayedCall(this._iHeaderHidingDelay,this,function(){if(this._isHeaderHidingActive()&&this._iHeaderHidingDelay>0&&!q.sap.containsOrEquals(this.getDomRef("hdr"),document.activeElement)){this._doShowHeader(false);}});};b.prototype._timedCurtainClosed=function(c){if(this._curtainClosedTimer){q.sap.clearDelayedCall(this._curtainClosedTimer);this._curtainClosedTimer=null;}if(c){return;}var d=parseInt(a.get("_sap_ui_unified_ShellLayout_AnimDuration"),10);if(!this._animation||(D.browser.internet_explorer&&D.browser.version<10)){d=0;}this._curtainClosedTimer=q.sap.delayedCall(d,this,function(){this._curtainClosedTimer=null;this.$("curt").css("z-index","");this.$("hdr").css("z-index","");this.$("brand").css("z-index","");this.$().toggleClass("sapUiUfdShellCurtainClosed",true);});};b.prototype._isHeaderHidingActive=function(){if(b._HEADER_ALWAYS_VISIBLE||this.getShowCurtain()||!this.getHeaderHiding()||l._iNumberOfOpenedShellOverlays>0||!this.getHeaderVisible()){return false;}return true;};b.prototype._refreshCSSWorkaround=function(){if(!D.browser.webkit||!D.support.touch){return;}if(this._cssWorkaroundTimer){q.sap.clearDelayedCall(this._cssWorkaroundTimer);this._cssWorkaroundTimer=null;}this.$("css").remove();this._cssWorkaroundTimer=q.sap.delayedCall(10,this,function(){this._cssWorkaroundTimer=null;q.sap.log.debug("sap.ui.unified.ShellLayout: CSS Workaround applied.");q("head").append("<link type='text/css' rel='stylesheet' id='"+this.getId()+"-css' href='data:text/css;base64,LnNhcFVpVWZkU2hlbGxDaHJvbWVSZXBhaW50e291dGxpbmUtY29sb3I6aW5pdGlhbDt9'/>");this._cssWorkaroundTimer=q.sap.delayedCall(100,this,function(){this.$("css").remove();});});};b.prototype._setSidePaneWidth=function(r){if(!r){r=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;}var w=b["_SIDEPANE_WIDTH_"+r.toUpperCase()]+"px";this._cont.setSecondaryContentSize(w);this._curtCont.setSecondaryContentSize(w);};b.prototype._handleMediaChange=function(p){if(!this.getDomRef()){return false;}this._setSidePaneWidth(p.name);};b.prototype._handleResizeChange=function(p){};b.prototype._refreshAfterRendering=function(){var d=this.getDomRef();if(!d){return false;}this._repaint(d);this._timedHideHeader();return true;};b.prototype._repaint=function(d){if(D.browser.webkit){var c=d.style.display;d.style.display="none";d.offsetHeight;d.style.display=c;this._refreshCSSWorkaround();}};b.prototype._getSearchWidth=function(){return-1;};return b;});};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.DatesRow')){jQuery.sap.declare('sap.ui.unified.calendar.DatesRow');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/ui/unified/calendar/DatesRow",['jquery.sap.global','sap/ui/unified/calendar/CalendarUtils','sap/ui/unified/calendar/CalendarDate','sap/ui/unified/calendar/Month','sap/ui/unified/library'],function(q,C,a,M,l){"use strict";var D=M.extend("sap.ui.unified.calendar.DatesRow",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},days:{type:"int",group:"Appearance",defaultValue:7},showDayNamesLine:{type:"boolean",group:"Appearance",defaultValue:true}}}});D.prototype.init=function(){M.prototype.init.apply(this,arguments);this._iColumns=1;this._aWeekNumbers=[];};D.prototype.setStartDate=function(s){C._checkJSDateObject(s);var y=s.getFullYear();C._checkYearInValidRange(y);this.setProperty("startDate",s,true);this._oStartDate=a.fromLocalJSDate(s,this.getPrimaryCalendarType());if(this.getDomRef()){var o=this._getDate().toLocalJSDate();this._bNoRangeCheck=true;this.displayDate(s);this._bNoRangeCheck=false;if(o&&this.checkDateFocusable(o)){this.displayDate(o);}}return this;};D.prototype._getStartDate=function(){if(!this._oStartDate){this._oStartDate=a.fromLocalJSDate(new Date(),this.getPrimaryCalendarType());}return this._oStartDate;};D.prototype.setDate=function(d){if(!this._bNoRangeCheck&&!this.checkDateFocusable(d)){throw new Error("Date must be in visible date range; "+this);}M.prototype.setDate.apply(this,arguments);return this;};D.prototype.displayDate=function(d){if(!this._bNoRangeCheck&&!this.checkDateFocusable(d)){throw new Error("Date must be in visible date range; "+this);}M.prototype.displayDate.apply(this,arguments);return this;};D.prototype.setPrimaryCalendarType=function(c){M.prototype.setPrimaryCalendarType.apply(this,arguments);if(this._oStartDate){this._oStartDate=new a(this._oStartDate,c);}return this;};D.prototype.setFirstDayOfWeek=function(f){if(f==-1){return this.setProperty("firstDayOfWeek",f,false);}else{throw new Error("Property firstDayOfWeek not supported "+this);}};D.prototype._handleBorderReached=function(c){var e=c.getParameter("event");var d=this.getDays();var o=this._getDate();var f=new a(o,this.getPrimaryCalendarType());if(e.type){switch(e.type){case"sapnext":case"sapnextmodifiers":f.setDate(f.getDate()+1);break;case"sapprevious":case"sappreviousmodifiers":f.setDate(f.getDate()-1);break;case"sappagedown":f.setDate(f.getDate()+d);break;case"sappageup":f.setDate(f.getDate()-d);break;default:break;}this.fireFocus({date:f.toLocalJSDate(),otherMonth:true,_outsideBorder:true});}};D.prototype.checkDateFocusable=function(d){C._checkJSDateObject(d);if(this._bNoRangeCheck){return false;}var s=this._getStartDate();var e=new a(s,this.getPrimaryCalendarType());e.setDate(e.getDate()+this.getDays());var c=a.fromLocalJSDate(d,this.getPrimaryCalendarType());return c.isSameOrAfter(s)&&c.isBefore(e);};D.prototype._renderHeader=function(){var s=this._getStartDate();var S=s.getDay();var L=this._getLocaleData();var w=this.$("Names").children();var W=[];if(this._bLongWeekDays||!this._bNamesLengthChecked){W=L.getDaysStandAlone("abbreviated");}else{W=L.getDaysStandAlone("narrow");}var b=L.getDaysStandAlone("wide");var i=0;for(i=0;i<w.length;i++){var $=q(w[i]);$.text(W[(i+S)%7]);$.attr("aria-label",b[(i+S)%7]);}if(this._getShowHeader()){var c=this.$("Head");if(c.length>0){var r=sap.ui.getCore().createRenderManager();this.getRenderer().renderHeaderLine(r,this,L,s);r.flush(c[0]);r.destroy();}}};D.prototype._getFirstWeekDay=function(){return this._getStartDate().getDay();};D.prototype.getWeekNumbers=function(){var d=this.getDays(),L=this._getLocale(),o=this._getLocaleData(),c=this.getPrimaryCalendarType(),s=this._getStartDate(),b=new a(s,c),e=new a(s,c).setDate(b.getDate()+d),f=[];while(b.isBefore(e)){f.push(new a(b,c));b.setDate(b.getDate()+1);}this._aWeekNumbers=f.reduce(function(w,g){var W=C.calculateWeekNumber(g.toUTCJSDate(),g.getYear(),L,o);if(!w.length||w[w.length-1].number!==W){w.push({len:0,number:W});}w[w.length-1].len++;return w;},[]);return this._aWeekNumbers;};D.prototype._getCachedWeekNumbers=function(){return this._aWeekNumbers;};return D;});};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.DatesRowRenderer')){jQuery.sap.declare('sap.ui.unified.calendar.DatesRowRenderer');jQuery.sap.require('sap.ui.core.Renderer');sap.ui.define("sap/ui/unified/calendar/DatesRowRenderer",['sap/ui/core/Renderer','sap/ui/unified/calendar/CalendarDate','./MonthRenderer'],function(R,C,M){"use strict";var D=R.extend(M);D.getStartDate=function(d){return d._getStartDate();};D.getClass=function(r,d){var c="sapUiCalDatesRow sapUiCalRow";if(!d.getShowDayNamesLine()){c=c+" sapUiCalNoNameLine";}return c;};D.renderMonth=function(r,d,o){M.renderMonth.apply(this,arguments);this.renderWeekNumbers(r,d);};D.renderWeekNumbers=function(r,d){var o,i,a,w;if(d.getShowWeekNumbers()&&d.getPrimaryCalendarType()===sap.ui.core.CalendarType.Gregorian){o=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");r.write("<div id=\""+d.getId()+"-weeks\"");r.addClass("sapUiCalRowWeekNumbers");r.writeClasses();r.write(">");i=d.getDays();a=100/i;w=d.getWeekNumbers();w.forEach(function(W){r.write("<div");r.addClass('sapUiCalRowWeekNumber');r.writeClasses();r.addStyle("width",W.len*a+"%");r.writeStyles();r.writeAttribute("data-sap-ui-week",W.number);r.write(">"+o.getText('CALENDAR_DATES_ROW_WEEK_NUMBER',[W.number])+"</div>");});r.write("</div>");}};D.renderHeader=function(r,d,o){var l=d._getLocaleData();var i=d.getId();var a=d.getDays();var w="";if(d._getShowHeader()){r.write("<div id=\""+i+"-Head\">");this.renderHeaderLine(r,d,l,o);r.write("</div>");}w=(100/a)+"%";if(d.getShowDayNamesLine()){r.write("<div id=\""+i+"-Names\" style=\"display: inline;\">");this.renderDayNames(r,d,l,o.getDay(),a,false,w);r.write("</div>");}};D.renderHeaderLine=function(r,d,l,o){var I=d.getId();var a=d.getDays();var b=new C(o,d.getPrimaryCalendarType());var w="";var m=0;var c=[];var i=0;for(i=0;i<a;i++){m=b.getMonth();if(c.length>0&&c[c.length-1].iMonth==m){c[c.length-1].iDays++;}else{c.push({iMonth:m,iDays:1});}b.setDate(b.getDate()+1);}var e=l.getMonthsStandAlone("wide");for(i=0;i<c.length;i++){var f=c[i];w=(100/a*f.iDays)+"%";r.write("<div id=\""+I+"-Head"+i+"\"class=\"sapUiCalHeadText\" style=\"width:"+w+"\">");r.write(e[f.iMonth]);r.write("</div>");}};D.renderDays=function(r,d,o){var a=d.getDays();var w=(100/a)+"%";var s=d.getShowDayNamesLine();if(!o){o=d._getFocusedDate();}var h=this.getDayHelper(d,o);if(!s){if(d._bLongWeekDays||!d._bNamesLengthChecked){h.aWeekDays=h.oLocaleData.getDaysStandAlone("abbreviated");}else{h.aWeekDays=h.oLocaleData.getDaysStandAlone("narrow");}h.aWeekDaysWide=h.oLocaleData.getDaysStandAlone("wide");}var b=new C(o,d.getPrimaryCalendarType());for(var i=0;i<a;i++){this.renderDay(r,d,b,h,false,false,i,w,!s);b.setDate(b.getDate()+1);}};return D;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.OneMonthDatesRow')){jQuery.sap.declare('sap.ui.unified.calendar.OneMonthDatesRow');sap.ui.define("sap/ui/unified/calendar/OneMonthDatesRow",['sap/ui/unified/calendar/DatesRow','sap/ui/unified/calendar/CalendarUtils','sap/ui/unified/calendar/CalendarDate','sap/ui/unified/library'],function(D,C,a,l){"use strict";var O=D.extend("sap.ui.unified.calendar.OneMonthDatesRow",{metadata:{library:"sap.ui.unified"}});O.prototype.init=function(){D.prototype.init.apply(this,arguments);this.iMode=2;};O.prototype.setMode=function(m){var s=this.getSelectedDates(),S,c=this.iMode!==m;this.iMode=m;if(c&&s.length){if(this.iMode<2){S=this.getStartDate();}s[0].setProperty('startDate',S,true);}return this;};O.prototype.getMode=function(){return this.iMode;};O.prototype.selectDate=function(d){if(this.iMode<2&&this.getSelectedDates().length){this.getSelectedDates()[0].setStartDate(d);}return this;};O.prototype.setDate=function(d){if(!this._bNoRangeCheck&&!this.checkDateFocusable(d)){return this;}D.prototype.setDate.apply(this,arguments);return this;};O.prototype.displayDate=function(d){if(!this._bNoRangeCheck&&!this.checkDateFocusable(d)){return this;}D.prototype.displayDate.apply(this,arguments);return this;};O.prototype.onsaphome=function(e){var c=a.fromLocalJSDate(this.getStartDate());i(e);this._setDate(c);this._focusDate(c);this.fireFocus({date:c.toLocalJSDate(),otherMonth:false});};O.prototype.onsapend=function(e){var s=this.getStartDate(),L;L=a.fromLocalJSDate(s);L.setDate(C._daysInMonth(L));i(e);this._setDate(L);this._focusDate(L);this.fireFocus({date:L.toLocalJSDate(),otherMonth:false});};function i(e){e.stopPropagation();e.preventDefault();e.stopImmediatePropagation(true);}return O;});};if(!jQuery.sap.isDeclared('sap.ui.unified.calendar.OneMonthDatesRowRenderer')){jQuery.sap.declare('sap.ui.unified.calendar.OneMonthDatesRowRenderer');jQuery.sap.require('sap.ui.core.Renderer');sap.ui.define("sap/ui/unified/calendar/OneMonthDatesRowRenderer",['sap/ui/core/Renderer','./MonthRenderer','./DatesRowRenderer'],function(R,M,D){"use strict";var O=R.extend(D);["getClass","renderMonth","renderDays","renderHeader"].forEach(function(h){O[h]=function(r,d){if(d.iMode<2){return M[h].apply(M,arguments);}else{return D[h].apply(D,arguments);}};});return O;},true);};if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarDateInterval')){jQuery.sap.declare('sap.ui.unified.CalendarDateInterval');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.Device');sap.ui.define("sap/ui/unified/CalendarDateInterval",['jquery.sap.global','sap/ui/unified/calendar/CalendarUtils','./Calendar','./calendar/DatesRow','./calendar/MonthPicker','./calendar/YearPicker','sap/ui/unified/calendar/CalendarDate','./library','sap/ui/Device'],function(q,C,a,D,M,Y,b,l,c){"use strict";var d=a.extend("sap.ui.unified.CalendarDateInterval",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},days:{type:"int",group:"Appearance",defaultValue:7},showDayNamesLine:{type:"boolean",group:"Appearance",defaultValue:true},pickerPopup:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{calendarPicker:{type:"sap.ui.unified.Calendar",multiple:false,visibility:"hidden"}}}});d.prototype.init=function(){a.prototype.init.apply(this,arguments);this._iDaysMonthHead=35;};d.prototype._initilizeMonthPicker=function(){this.setAggregation("monthPicker",this._createMonthPicker());};d.prototype._initilizeYearPicker=function(){this.setAggregation("yearPicker",this._createYearPicker());};d.prototype.setPickerPopup=function(p){this.setProperty("pickerPopup",p,true);var h=this.getAggregation("header"),m,y;if(p){if(this.getAggregation("monthPicker")){this.getAggregation("monthPicker").destroy();}if(this.getAggregation("yearPicker")){this.getAggregation("yearPicker").destroy();}h.setVisibleButton2(false);h.detachEvent("pressButton2",this._handleButton2,this);this._setHeaderText(this._getFocusedDate(true));}else{if(!this.getAggregation("monthPicker")){this.setAggregation("monthPicker",this._createMonthPicker());}if(!this.getAggregation("yearPicker")){this.setAggregation("yearPicker",this._createYearPicker());}m=this.getAggregation("monthPicker");y=this.getAggregation("yearPicker");m.setColumns(0);m.setMonths(6);y.setColumns(0);y.setYears(6);y._oMinDate.setYear(this._oMinDate.getYear());y._oMaxDate.setYear(this._oMaxDate.getYear());h.setVisibleButton2(true);h.detachEvent("pressButton2",this._handleButton2,this);h.attachEvent("pressButton2",this._handleButton2,this);}return this;};d.prototype._createMonthPicker=function(){var m=new M(this.getId()+"--MP");m.attachEvent("select",this._selectMonth,this);m._bNoThemeChange=true;m.setColumns(0);m.setMonths(3);m.attachEvent("pageChange",_,this);return m;};d.prototype._createYearPicker=function(){var y=new Y(this.getId()+"--YP");y.attachEvent("select",this._selectYear,this);y.setColumns(0);y.setYears(3);y.attachEvent("pageChange",e,this);return y;};d.prototype._getCalendarPicker=function(){var o=this.getAggregation("calendarPicker");if(!o){o=new a(this.getId()+"--Cal");o.setPopupMode(true);o.attachEvent("select",this._handleCalendarPickerDateSelect,this);o.attachEvent("cancel",function(E){this._closeCalendarPicker();},this);this.setAggregation("calendarPicker",o);}return o;};d.prototype._handleButton1=function(E){if(this.getPickerPopup()){this._showCalendarPicker();}else{if(this._iMode!=1){this._showMonthPicker();}else{this._hideMonthPicker();}}};d.prototype._setHeaderText=function(o){var t=a.prototype._setHeaderText.apply(this,arguments);var T,A,h=this.getAggregation("header");var L=this._getLocaleData();if(this.getPickerPopup()){if(L.oLocale.sLanguage.toLowerCase()==="ja"||L.oLocale.sLanguage.toLowerCase()==="zh"){T=t.sYear+" "+t.sMonth;A=t.sYear+t.sAriaLabel;}else{T=t.sMonth+" "+t.sYear;A=t.sAriaLabel+t.sYear;}h.setTextButton1(T,true);if(t.bShort){h.setAriaLabelButton1(A);}}};d.prototype._showCalendarPicker=function(){var s=this.getStartDate(),o=this._getCalendarPicker(),S=new sap.ui.unified.DateRange(),E=new Date(s.getTime());E.setDate(E.getDate()+this._getDays()-1);S.setStartDate(s);S.setEndDate(E);o.displayDate(this._getFocusedDate().toLocalJSDate());o.removeAllSelectedDates();o.addSelectedDate(S);o.setMinDate(this.getMinDate());o.setMaxDate(this.getMaxDate());this._openPickerPopup(o);this._showOverlay();};d.prototype._handleCalendarPickerDateSelect=function(E){var o=this._getCalendarPicker(),n=new b(o._getFocusedDate());this._setStartDate(n);this._setFocusedDate(n);this._closeCalendarPicker();};d.prototype._closeCalendarPicker=function(s){if(this._oPopup&&this._oPopup.isOpen()){this._oPopup.close();}this._hideOverlay();if(!s){this._renderMonth();var m=this.getAggregation("month");for(var i=0;i<m.length;i++){var o=m[i];q(o._oItemNavigation.getItemDomRefs()[o._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}}};d.prototype._getDaysLarge=function(){return 10;};d.prototype._createMonth=function(i){var m=new D(i);return m;};d.prototype.setStartDate=function(s){C._checkJSDateObject(s);if(q.sap.equal(this.getStartDate(),s)){return this;}var y=s.getFullYear();C._checkYearInValidRange(y);var o=b.fromLocalJSDate(s,this.getPrimaryCalendarType());if(C._isOutside(o,this._oMinDate,this._oMaxDate)){throw new Error("Date must be in valid range (minDate and maxDate); "+this);}var m=this.getMinDate();if(m&&s.getTime()<m.getTime()){q.sap.log.warning("startDate < minDate -> minDate as startDate set",this);s=new Date(m.getTime());}var f=this.getMaxDate();if(f&&s.getTime()>f.getTime()){q.sap.log.warning("startDate > maxDate -> maxDate as startDate set",this);s=new Date(f.getTime());}this.setProperty("startDate",s,true);o=b.fromLocalJSDate(s,this.getPrimaryCalendarType());this._oStartDate=o;var g=this.getAggregation("month")[0];g.setStartDate(s);this._updateHeader(o);var h=this._getFocusedDate(true).toLocalJSDate();if(!g.checkDateFocusable(h)){this._setFocusedDate(o);g.displayDate(s);}return this;};d.prototype.getStartDate=function(){return this.getProperty("startDate");};d.prototype.setDays=function(i){this.setProperty("days",i,true);i=this._getDays();var o=this.getAggregation("month")[0];o.setDays(i);if(!this.getPickerPopup()){var m=this.getAggregation("monthPicker");var f=Math.ceil(i/3);if(f>12){f=12;}m.setMonths(f);var y=this.getAggregation("yearPicker");var g=Math.floor(i/2);if(g>20){g=20;}y.setYears(g);}var s=this._getStartDate();this._updateHeader(s);if(this.getDomRef()){if(i>this._getDaysLarge()){this.$().addClass("sapUiCalIntLarge");}else{this.$().removeClass("sapUiCalIntLarge");}if(i>this._iDaysMonthHead){this.$().addClass("sapUiCalIntHead");}else{this.$().removeClass("sapUiCalIntHead");}}return this;};d.prototype._getDays=function(){var i=this.getDays();if(c.system.phone&&i>8){return 8;}else{return i;}};d.prototype.setShowDayNamesLine=function(s){this.setProperty("showDayNamesLine",s,true);var o=this.getAggregation("month")[0];o.setShowDayNamesLine(s);return this;};d.prototype._getShowMonthHeader=function(){var i=this._getDays();if(i>this._iDaysMonthHead){return true;}else{return false;}};d.prototype._getFocusedDate=function(f){if(!this._oFocusedDate||f){this._oFocusedDate=null;a.prototype._getFocusedDate.apply(this,arguments);var s=this.getStartDate();var o=this.getAggregation("month")[0];if(!s){this._setStartDate(this._oFocusedDate,false,true);}else if(!o.checkDateFocusable(this._oFocusedDate.toLocalJSDate())){this._oFocusedDate=b.fromLocalJSDate(s,this.getPrimaryCalendarType());}}return this._oFocusedDate;};d.prototype.setMonths=function(m){if(m==1){return this.setProperty("months",m,false);}else{throw new Error("Property months not supported "+this);}};d.prototype.setFirstDayOfWeek=function(f){if(f==-1){return this.setProperty("firstDayOfWeek",f,false);}else{throw new Error("Property firstDayOfWeek not supported "+this);}};d.prototype.focusDate=function(o){var f=this.getAggregation("month")[0];if(!f.checkDateFocusable(o)){this._focusDateExtend(b.fromLocalJSDate(o,this.getPrimaryCalendarType()),true,true);}a.prototype.focusDate.apply(this,arguments);return this;};d.prototype._shouldFocusB2OnTabNext=function(E){var h=this.getAggregation("header");return(!this.getPickerPopup()&&E.target.id==h.getId()+"-B1");};d.prototype._focusOnShiftTab=function(){var h=this.getAggregation("header");if(this.getPickerPopup()){q.sap.focus(h.getDomRef("B1"));}else{q.sap.focus(h.getDomRef("B2"));}};d.prototype.onsapescape=function(E){if(this.getPickerPopup()){this._closeCalendarPicker();this.fireCancel();}else{if(this._iMode===0){this.fireCancel();}this._closedPickers();}};d.prototype._focusDateExtend=function(o,O,n){if(O){var f=this._getFocusedDate();var g=this._getStartDate();var i=C._daysBetween(f,g);var N=new b(o,this.getPrimaryCalendarType());N.setDate(N.getDate()-i);this._setStartDate(N,false,true);if(!n){return true;}}return false;};d.prototype._setMinMaxDateExtend=function(o){if(this._oStartDate){if(this._oStartDate.isBefore(this._oMinDate)){q.sap.log.warning("start date < minDate -> minDate will be start date",this);this._setStartDate(new b(this._oMinDate,this.getPrimaryCalendarType()),true,true);}else{var E=new b(this._oStartDate);E.setDate(E.getDate()+this._getDays()-1);if(E.isAfter(this._oMaxDate)){q.sap.log.warning("end date > maxDate -> start date will be changed",this);var s=new b(this._oMaxDate);s.setDate(s.getDate()-this._getDays()+1);this._setStartDate(s,true,true);}}}};d.prototype._togglePrevNext=function(o,f){if(this._iMode>1||(this._iMode==1&&this.getPickerPopup())){return a.prototype._togglePrevNext.apply(this,arguments);}var y=this._oMaxDate.getYear();var i=this._oMinDate.getYear();var m=this._oMaxDate.getMonth();var g=this._oMinDate.getMonth();var h=this._oMinDate.getDate();var j=this._oMaxDate.getDate();var H=this.getAggregation("header");var k=this._getDays();var n;var s;var E;var p;var r;if(this._iMode==1&&!f){var t=this.getAggregation("monthPicker");var u=t.getMonths();var S=t.getStartMonth();var v=S+u-1;n=o.getYear();if(S==0||(n==i&&S<=g)){H.setEnabledPrevious(false);}else{H.setEnabledPrevious(true);}if(v>10||(n==y&&v>=m)){H.setEnabledNext(false);}else{H.setEnabledNext(true);}return;}s=this._getStartDate();E=new b(s,this.getPrimaryCalendarType());E.setDate(E.getDate()+k-1);if(C._isOutside(o,s,E)){s=new b(o,this.getPrimaryCalendarType());E=new b(s,this.getPrimaryCalendarType());E.setDate(E.getDate()+k-1);}n=s.getYear();p=s.getMonth();r=s.getDate();if(n<i||(n==i&&(!f||p<g||(p==g&&r<=h)))){H.setEnabledPrevious(false);}else{H.setEnabledPrevious(true);}n=E.getYear();p=E.getMonth();r=E.getDate();if(n>y||(n==y&&(!f||p>m||(p==m&&r>=j)))){H.setEnabledNext(false);}else{H.setEnabledNext(true);}};d.prototype._shiftStartFocusDates=function(s,f,i){s.setDate(s.getDate()+i);f.setDate(f.getDate()+i);this._setFocusedDate(f);this._setStartDate(s,true);};d.prototype._handlePrevious=function(E){var f=new b(this._getFocusedDate(),this.getPrimaryCalendarType()),m,y,s,i;switch(this._iMode){case 0:s=new b(this._getStartDate(),this.getPrimaryCalendarType());i=this._getDays();this._shiftStartFocusDates(s,f,(i*-1));break;case 1:if(!this.getPickerPopup()){m=this.getAggregation("monthPicker");if(m.getMonths()<12){m.previousPage();this._togglePrevNext(f);}else{f.setYear(f.getYear()-1);var F=this._focusDateExtend(f,true,false);this._setFocusedDate(f);this._updateHeader(f);this._setDisabledMonths(f.getYear());if(F){this.fireStartDateChange();}}}break;case 2:if(!this.getPickerPopup()){y=this.getAggregation("yearPicker");y.previousPage();this._togglePrevNexYearPicker();}break;}};d.prototype._handleNext=function(E){var f=new b(this._getFocusedDate(),this.getPrimaryCalendarType()),m,y,s,i;switch(this._iMode){case 0:s=new b(this._getStartDate(),this.getPrimaryCalendarType());i=this._getDays();this._shiftStartFocusDates(s,f,i);break;case 1:if(!this.getPickerPopup()){m=this.getAggregation("monthPicker");if(m.getMonths()<12){m.nextPage();this._togglePrevNext(f);}else{f.setYear(f.getYear()+1);var F=this._focusDateExtend(f,true,false);this._setFocusedDate(f);this._updateHeader(f);this._setDisabledMonths(f.getYear());if(F){this.fireStartDateChange();}}}break;case 2:if(!this.getPickerPopup()){y=this.getAggregation("yearPicker");y.nextPage();this._togglePrevNexYearPicker();}break;}};d.prototype._getDisplayedMonths=function(o){var m=[];var i=o.getMonth();var f=this._getDays();m.push(i);if(f>this._getDaysLarge()){var E=new b(o,this.getPrimaryCalendarType());E.setDate(E.getDate()+f-1);var g=E.getMonth();while(i!=g){i=(i+1)%12;m.push(i);}}return m;};d.prototype._getDisplayedSecondaryMonths=function(p,s){var i=this._getDays();var S=new b(this._getStartDate(),s);var f=S.getMonth();var E=new b(S,this.getPrimaryCalendarType());E.setDate(E.getDate()+i-1);E=new b(E,s);var g=E.getMonth();return{start:f,end:g};};d.prototype._openPickerPopup=function(p){if(!this._oPopup){q.sap.require("sap.ui.core.Popup");this._oPopup=new sap.ui.core.Popup();this._oPopup.setAutoClose(true);this._oPopup.setAutoCloseAreas([this.getDomRef()]);this._oPopup.setDurations(0,0);this._oPopup._oCalendar=this;this._oPopup.attachClosed(function(){this._closeCalendarPicker(true);},this);this._oPopup.onsapescape=function(E){this._oCalendar.onsapescape(E);};}this._oPopup.setContent(p);var h=this.getAggregation("header");var f=sap.ui.core.Popup.Dock;this._oPopup.open(0,f.CenterTop,f.CenterTop,h,null,"flipfit",true);};d.prototype._setStartDate=function(s,S,n){var m=new b(this._oMaxDate,this.getPrimaryCalendarType());m.setDate(m.getDate()-this._getDays()+1);if(m.isBefore(this._oMinDate)){m=new b(this._oMinDate);m.setDate(m.getDate()+this._getDays()-1);}if(s.isBefore(this._oMinDate)){s=new b(this._oMinDate,this.getPrimaryCalendarType());}else if(s.isAfter(m)){s=m;}var L=s.toLocalJSDate();this.setProperty("startDate",L,true);this._oStartDate=s;var o=this.getAggregation("month")[0];o.setStartDate(L);this._updateHeader(s);if(S){var f=this._getFocusedDate().toLocalJSDate();if(!o.checkDateFocusable(f)){this._setFocusedDate(s);o.setDate(L);}else{o.setDate(f);}}if(!n){this.fireStartDateChange();}};d.prototype._getStartDate=function(){if(!this._oStartDate){this._oStartDate=this._getFocusedDate();}return this._oStartDate;};function _(E){var f=new b(this._getFocusedDate(),this.getPrimaryCalendarType());this._togglePrevNext(f);}function e(E){this._togglePrevNexYearPicker();}return d;});};if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarOneMonthInterval')){jQuery.sap.declare('sap.ui.unified.CalendarOneMonthInterval');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Renderer');sap.ui.define("sap/ui/unified/CalendarOneMonthInterval",['jquery.sap.global','sap/ui/unified/calendar/CalendarUtils','sap/ui/unified/calendar/CalendarDate','./library','sap/ui/unified/CalendarDateInterval','sap/ui/unified/CalendarDateIntervalRenderer','sap/ui/unified/calendar/OneMonthDatesRow','sap/ui/core/Renderer'],function(q,C,a,l,b,c,O,R){"use strict";var d=b.extend("sap.ui.unified.CalendarOneMonthInterval",{renderer:c});d.prototype.init=function(){b.prototype.init.apply(this,arguments);this._bShowOneMonth=true;};d.prototype._getCalendarPicker=function(){var o=this.getAggregation("calendarPicker");if(!o){o=new e(this.getId()+"--Cal");o.setPopupMode(true);o.attachEvent("select",function(){var o=this._getCalendarPicker(),f=o._getFocusedDate(),n=C._getFirstDateOfMonth(f);this._setStartDate(n);this._adjustSelectedDate(n,false);this._oFocusDateOneMonth=n;this._closeCalendarPicker(true);this._focusDate(f,false,true);},this);o.attachEvent("cancel",function(E){var o=this._getCalendarPicker(),f=o._getFocusedDate();this._closeCalendarPicker(true);this._oFocusDateOneMonth=f;this._focusDate(f,true);},this);this.setAggregation("calendarPicker",o);}return o;};d.prototype._createMonth=function(i){return new O(i);};d.prototype._handleFocus=function(E){var o=!!E.getParameter("_outsideBorder"),D=E.getParameter("date"),f=a.fromLocalJSDate(D),g=a.fromLocalJSDate(this.getStartDate()),i=!C._isSameMonthAndYear(f,g),h,F,s;if(o||i){if(C._isLastDateInMonth(f)){this._oFocusDateOneMonth=f;}else{this._oFocusDateOneMonth=C._getFirstDateOfMonth(f);}h=f.isBefore(g)?-1:1;F=new a(this._getFocusedDate(),this.getPrimaryCalendarType());s=new a(this._getStartDate(),this.getPrimaryCalendarType());b.prototype._shiftStartFocusDates.call(this,F,s,h);}return b.prototype._handleFocus.apply(this,arguments);};d.prototype._focusDateExtend=function(D,o,n){var f,L;if(!this._oFocusDateOneMonth){return b.prototype._focusDateExtend.apply(this,arguments);}f=this.getAggregation("month")[0];L=this._oFocusDateOneMonth.toLocalJSDate();this._setFocusedDate(this._oFocusDateOneMonth);f._bNoRangeCheck=true;f.setDate(L);f._bNoRangeCheck=false;if(this.getSelectedDates().length){this._setRowsStartDate(this.getSelectedDates()[0].getStartDate());}this._oFocusDateOneMonth=null;return!n;};d.prototype._setDisplayMode=function(m){this.getAggregation("month")[0].setMode(m);};d.prototype._shiftStartFocusDates=function(s,f,D){var S=D,o=this.getAggregation("month")[0];if(S!==0){S=S>0?1:-1;}s.setMonth(s.getMonth()+S);f.setYear(s.getYear());f.setMonth(s.getMonth());f.setDate(s.getDate());this._setFocusedDate(f);this._setStartDate(s,true);o.selectDate(s.toLocalJSDate());};d.prototype._adjustSelectedDate=function(D,u){var m=this.getAggregation("month")[0],s;s=u?C._getFirstDateOfMonth(D):D;if(m.getMode&&m.getMode()<2){this._selectDate(s);}};d.prototype._selectDate=function(D){var m=this.getAggregation("month")[0],L=D.toLocalJSDate();this.removeAllSelectedDates();this.addSelectedDate(new sap.ui.unified.DateRange({startDate:L}));m.selectDate(L);this._bDateRangeChanged=undefined;};d.prototype._dateMatchesVisibleRange=function(D){return C._isSameMonthAndYear(a.fromLocalJSDate(this.getStartDate()),a.fromLocalJSDate(D));};var e=sap.ui.unified.Calendar.extend("CustomMonthPicker",{renderer:R.extend(sap.ui.unified.CalendarRenderer)});e.prototype._initializeHeader=function(){var h=new sap.ui.unified.calendar.Header(this.getId()+"--Head",{visibleButton1:false});h.attachEvent("pressPrevious",this._handlePrevious,this);h.attachEvent("pressNext",this._handleNext,this);h.attachEvent("pressButton2",this._handleButton2,this);this.setAggregation("header",h);};e.prototype._shouldFocusB2OnTabNext=function(E){return q.sap.containsOrEquals(this.getDomRef("content"),E.target);};e.prototype.onAfterRendering=function(){this._showMonthPicker();};e.prototype._selectYear=function(){var y=this.getAggregation("yearPicker");var f=this._getFocusedDate();f.setYear(y.getYear());this._focusDate(f,true);this._showMonthPicker();};e.prototype._selectMonth=function(){var m=this.getAggregation("monthPicker");var s=this.getSelectedDates()[0];var f=this._getFocusedDate();f.setMonth(m.getMonth());if(!s){s=new sap.ui.unified.DateRange();}s.setStartDate(f.toLocalJSDate());this.addSelectedDate(s);this.fireSelect();};e.prototype.onsapescape=function(E){this.fireCancel();};return d;});};if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarTimeInterval')){jQuery.sap.declare('sap.ui.unified.CalendarTimeInterval');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');jQuery.sap.require('sap.ui.core.LocaleData');jQuery.sap.require('sap.ui.core.date.UniversalDate');jQuery.sap.require('sap.ui.core.format.DateFormat');jQuery.sap.require('sap.ui.Device');jQuery.sap.require('sap.ui.core.Locale');jQuery.sap.require('sap.ui.core.library');sap.ui.define("sap/ui/unified/CalendarTimeInterval",['jquery.sap.global','sap/ui/core/Control','sap/ui/core/LocaleData','sap/ui/unified/calendar/CalendarUtils','./calendar/Header','./calendar/TimesRow','./calendar/DatesRow','./calendar/MonthPicker','./calendar/YearPicker','sap/ui/core/date/UniversalDate','./library','sap/ui/core/format/DateFormat','sap/ui/Device','sap/ui/core/Locale','sap/ui/core/library'],function(q,C,L,a,H,T,D,M,Y,U,l,b,c,d,e){"use strict";var f=e.CalendarType;var g=C.extend("sap.ui.unified.CalendarTimeInterval",{metadata:{library:"sap.ui.unified",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},startDate:{type:"object",group:"Data"},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},items:{type:"int",group:"Appearance",defaultValue:12},intervalMinutes:{type:"int",group:"Appearance",defaultValue:60},pickerPopup:{type:"boolean",group:"Appearance",defaultValue:false},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},header:{type:"sap.ui.unified.calendar.Header",multiple:false,visibility:"hidden"},timesRow:{type:"sap.ui.unified.calendar.TimesRow",multiple:false,visibility:"hidden"},datesRow:{type:"sap.ui.unified.calendar.Month",multiple:false,visibility:"hidden"},monthPicker:{type:"sap.ui.unified.calendar.MonthPicker",multiple:false,visibility:"hidden"},yearPicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"},calendarPicker:{type:"sap.ui.unified.Calendar",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},cancel:{},startDateChange:{}}}});g.prototype.init=function(){this._iMode=0;this._oYearFormat=b.getDateInstance({format:"y"});this.data("sap-ui-fastnavgroup","true",true);this._oMinDate=new U(new Date(Date.UTC(1,0,1)));this._oMinDate.getJSDate().setUTCFullYear(1);this._oMaxDate=new U(new Date(Date.UTC(9999,11,31,23,59,59)));this._initializeHeader();this._initializeTimesRow();this._initilizeMonthPicker();this._initilizeYearPicker();this.setPickerPopup(false);this._iItemsHead=15;};g.prototype._initializeHeader=function(){var Z=new H(this.getId()+"--Head");Z.attachEvent("pressPrevious",this._handlePrevious,this);Z.attachEvent("pressNext",this._handleNext,this);this.setAggregation("header",Z);};g.prototype._initializeTimesRow=function(){var Z=new T(this.getId()+"--TimesRow");Z.attachEvent("focus",F,this);Z.attachEvent("select",E,this);Z._bNoThemeChange=true;this.setAggregation("timesRow",Z);};g.prototype._initilizeMonthPicker=function(){this.setAggregation("monthPicker",this._createMonthPicker());};g.prototype._initilizeYearPicker=function(){this.setAggregation("yearPicker",this._createYearPicker());};g.prototype._createDatesRow=function(){var Z=new D(this.getId()+"--DatesRow",{days:18,selectedDates:[new sap.ui.unified.DateRange(this.getId()+"--Range")]});Z.attachEvent("focus",J,this);Z.attachEvent("select",I,this);Z._bNoThemeChange=true;Z.getIntervalSelection=function(){return this.getProperty("intervalSelection");};Z.getSingleSelection=function(){return this.getProperty("singleSelection");};Z.getSelectedDates=function(){return this.getAggregation("selectedDates",[]);};Z.getSpecialDates=function(){return this.getAggregation("specialDates",[]);};Z.getAriaLabelledBy=function(){return this.getAssociation("ariaLabelledBy",[]);};return Z;};g.prototype._createMonthPicker=function(){var Z=new M(this.getId()+"--MP",{columns:0,months:6});Z.attachEvent("select",K,this);Z._bNoThemeChange=true;Z.attachEvent("pageChange",W,this);return Z;};g.prototype._createYearPicker=function(){var Z=new Y(this.getId()+"--YP",{columns:0,years:6});Z.attachEvent("select",N,this);Z.attachEvent("pageChange",X,this);Z._oMinDate.setYear(this._oMinDate.getUTCFullYear());Z._oMaxDate.setYear(this._oMaxDate.getUTCFullYear());return Z;};g.prototype.exit=function(){if(this._sInvalidateContent){q.sap.clearDelayedCall(this._sInvalidateContent);}};g.prototype.onBeforeRendering=function(){var Z=this.getAggregation("timesRow");var $=this._getFocusedDate();t.call(this);Z.displayDate(a._createLocalDate($,true));};g.prototype._getCalendarPicker=function(){var Z=this.getAggregation("calendarPicker");if(!Z){Z=new sap.ui.unified.Calendar(this.getId()+"--Cal",{});Z.setPopupMode(true);Z.attachEvent("select",G,this);Z.attachEvent("cancel",function($){this._oPopup.close();},this);this.setAggregation("calendarPicker",Z);}return Z;};g.prototype.setStartDate=function(Z){a._checkJSDateObject(Z);if(q.sap.equal(this.getStartDate(),Z)){return this;}var $=Z.getFullYear();a._checkYearInValidRange($);var a1=this.getMinDate();if(a1&&Z.getTime()<a1.getTime()){q.sap.log.warning("startDate < minDate -> minDate as startDate set",this);Z=new Date(a1);}var b1=this.getMaxDate();if(b1&&Z.getTime()>b1.getTime()){q.sap.log.warning("startDate > maxDate -> maxDate as startDate set",this);Z=new Date(b1);}this.setProperty("startDate",Z,true);var c1=this.getAggregation("timesRow");c1.setStartDate(Z);this._oUTCStartDate=new U(c1._getStartDate().getTime());t.call(this);var d1=a._createLocalDate(this._getFocusedDate(),true);if(!c1.checkDateFocusable(d1)){this._setFocusedDate(this._oUTCStartDate);c1.displayDate(Z);}return this;};g.prototype.invalidate=function(Z){if(!this._bDateRangeChanged&&(!Z||!(Z instanceof sap.ui.unified.DateRange))){if(!Z||(!(Z instanceof D||Z instanceof M||Z instanceof Y||Z instanceof H))){C.prototype.invalidate.apply(this,arguments);}}else if(this.getDomRef()&&this._iMode==0&&!this._sInvalidateContent){this._sInvalidateContent=q.sap.delayedCall(0,this,O);}};g.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var Z=this.removeAllAggregation("selectedDates");return Z;};g.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var Z=this.destroyAggregation("selectedDates");return Z;};g.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var Z=this.removeAllAggregation("specialDates");return Z;};g.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var Z=this.destroyAggregation("specialDates");return Z;};g.prototype.setIntervalMinutes=function(Z){if(Z>=720){throw new Error("Only intervals < 720 minutes are allowed; "+this);}if(1440%Z>0){throw new Error("A day must be divisible by the interval size; "+this);}this.setProperty("intervalMinutes",Z,false);var $=this.getAggregation("timesRow");var a1=a._createLocalDate(this._getFocusedDate(),true);if(!$.checkDateFocusable(a1)){var b1=h.call(this);this._setFocusedDate(b1);$.setDate(a._createLocalDate(b1,true));}return this;};g.prototype.setLocale=function(Z){if(this._sLocale!=Z){this._sLocale=Z;this._oLocaleData=undefined;this.invalidate();}return this;};g.prototype.getLocale=function(){if(!this._sLocale){this._sLocale=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString();}return this._sLocale;};g.prototype._getFocusedDate=function(){if(!this._oFocusedDate){j.call(this);}return this._oFocusedDate;};g.prototype._setFocusedDate=function(Z){if(!(Z instanceof U)){throw new Error("Date must be a UniversalDate object "+this);}this._oFocusedDate=new U(Z.getTime());};g.prototype.focusDate=function(Z){var $=false;var a1=this.getAggregation("timesRow");if(!a1.checkDateFocusable(Z)){var b1=a._createUniversalUTCDate(Z,undefined,true);P.call(this,b1);$=true;}y.call(this,Z,false);if($){this.fireStartDateChange();}return this;};g.prototype.displayDate=function(Z){y.call(this,Z,true);return this;};g.prototype.setItems=function(Z){this.setProperty("items",Z,true);Z=this._getItems();var $=this.getAggregation("timesRow");$.setItems(Z);var a1=a._createLocalDate(this._getFocusedDate(),true);if(!$.checkDateFocusable(a1)){var b1=h.call(this);this._setFocusedDate(b1);$.setDate(a._createLocalDate(b1,true));}if(!this.getPickerPopup()){var c1=this.getAggregation("datesRow");var d1=Math.floor(Z*1.5);if(d1>31){d1=31;}c1.setDays(d1);var e1=this.getAggregation("monthPicker");var f1=Math.floor(Z/2);if(f1>12){f1=12;}e1.setMonths(f1);var g1=this.getAggregation("yearPicker");var h1=Math.floor(Z/2);if(h1>20){h1=20;}g1.setYears(h1);}t.call(this);if(this.getDomRef()){if(this._getShowItemHeader()){this.$().addClass("sapUiCalIntHead");}else{this.$().removeClass("sapUiCalIntHead");}}return this;};g.prototype._getItems=function(){var Z=this.getItems();if(c.system.phone&&Z>6){return 6;}else{return Z;}};g.prototype._getLocaleData=function(){if(!this._oLocaleData){var Z=this.getLocale();var $=new d(Z);this._oLocaleData=L.getInstance($);}return this._oLocaleData;};g.prototype.setPickerPopup=function(Z){var $=this.getAggregation("header"),a1,b1,c1;this.setProperty("pickerPopup",Z,true);if(a1){a1.destroy();}if(Z){$.setVisibleButton0(false);$.setVisibleButton1(true);$.setVisibleButton2(false);$.detachEvent("pressButton1",A,this);$.attachEvent("pressButton1",A,this);if(this.getAggregation("datesRow")){this.getAggregation("datesRow").destroy();}if(this.getAggregation("monthPicker")){this.getAggregation("monthPicker").destroy();}if(this.getAggregation("yearPicker")){this.getAggregation("yearPicker").destroy();}}else{$.setVisibleButton0(true);$.setVisibleButton1(true);$.setVisibleButton2(true);$.detachEvent("pressButton0",z,this);$.attachEvent("pressButton0",z,this);$.detachEvent("pressButton1",A,this);$.attachEvent("pressButton1",A,this);$.detachEvent("pressButton2",B,this);$.attachEvent("pressButton2",B,this);if(!this.getAggregation("datesRow")){this.setAggregation("datesRow",this._createDatesRow());}if(!this.getAggregation("yearPicker")){this.setAggregation("yearPicker",this._createYearPicker());}if(!this.getAggregation("monthPicker")){this.setAggregation("monthPicker",this._createMonthPicker());}b1=this.getAggregation("monthPicker");c1=this.getAggregation("yearPicker");b1.setColumns(0);b1.setMonths(6);c1.setColumns(0);c1.setYears(6);}return this;};g.prototype.setMinDate=function(Z){var $,a1,b1,c1;if(q.sap.equal(Z,this.getMinDate())){return this;}if(!Z){a._updateUTCDate(this._oMinDate.getJSDate(),1,0,1,0,0,0,0);}else{a._checkJSDateObject(Z);this._oMinDate=a._createUniversalUTCDate(Z,undefined,true);$=this.getAggregation("timesRow");this._oMinDate=$._getIntervalStart(this._oMinDate);a1=this._oMinDate.getUTCFullYear();a._checkYearInValidRange(a1);if(this._oMaxDate.getTime()<this._oMinDate.getTime()){q.sap.log.warning("minDate > maxDate -> maxDate set to end of the month",this);this._oMaxDate=a._createUniversalUTCDate(Z,undefined,true);a._updateUTCDate(this._oMaxDate,null,this._oMaxDate.getUTCMonth()+1,0,23,59,59,0);this.setProperty("maxDate",a._createLocalDate(this._oMaxDate,true),true);}if(this._oFocusedDate){if(this._oFocusedDate.getTime()<this._oMinDate.getTime()){q.sap.log.warning("focused date < minDate -> minDate focused",this);this.focusDate(Z);}}if(this._oUTCStartDate&&this._oUTCStartDate.getTime()<this._oMinDate.getTime()){q.sap.log.warning("start date < minDate -> minDate set as start date",this);_.call(this,new U(this._oMinDate.getTime()),true,true);}}this.setProperty("minDate",Z,false);if(this.getPickerPopup()){c1=this._getCalendarPicker();c1.setMinDate(Z);}else{b1=this.getAggregation("yearPicker");b1._oMinDate.setYear(this._oMinDate.getUTCFullYear());}return this;};g.prototype.setMaxDate=function(Z){var $,a1,b1,c1,d1,e1;if(q.sap.equal(Z,this.getMaxDate())){return this;}if(!Z){a._updateUTCDate(this._oMaxDate.getJSDate(),9999,11,31,23,59,59,0);}else{a._checkJSDateObject(Z);this._oMaxDate=a._createUniversalUTCDate(Z,undefined,true);$=this.getAggregation("timesRow");this._oMaxDate=$._getIntervalStart(this._oMaxDate);this._oMaxDate.setUTCMinutes(this._oMaxDate.getUTCMinutes()+this.getIntervalMinutes());this._oMaxDate.setUTCMilliseconds(-1);a1=this._oMaxDate.getUTCFullYear();a._checkYearInValidRange(a1);if(this._oMinDate.getTime()>this._oMaxDate.getTime()){q.sap.log.warning("maxDate < minDate -> minDate set to begin of the month",this);this._oMinDate=a._createUniversalUTCDate(Z,undefined,true);a._updateUTCDate(this._oMinDate,null,null,1,0,0,0,0);this.setProperty("minDate",a._createLocalDate(this._oMinDate,true),true);}if(this._oFocusedDate){if(this._oFocusedDate.getTime()>this._oMaxDate.getTime()){q.sap.log.warning("focused date > maxDate -> maxDate focused",this);this.focusDate(Z);}}if(this._oUTCStartDate){b1=new U(this._oUTCStartDate.getTime());b1.setUTCMinutes(b1.getUTCMinutes()+this.getIntervalMinutes()*(this._getItems()-1));if(b1.getTime()>this._oMaxDate.getTime()){c1=new U(this._oMaxDate.getTime());c1.setUTCMinutes(c1.getUTCMinutes()-this.getIntervalMinutes()*(this._getItems()-1));if(c1.getTime()>=this._oMinDate.getTime()){q.sap.log.warning("end date > maxDate -> maxDate set as end date",this);_.call(this,c1,true,true);}}}}this.setProperty("maxDate",Z,false);if(this.getPickerPopup()){e1=this._getCalendarPicker();e1.setMaxDate(Z);}else{d1=this.getAggregation("yearPicker");d1._oMaxDate.setYear(this._oMaxDate.getUTCFullYear());}return this;};g.prototype.onclick=function(Z){if(Z.isMarked("delayedMouseEvent")){return;}if(Z.target.id==this.getId()+"-cancel"){this.onsapescape(Z);}};g.prototype.onmousedown=function(Z){Z.preventDefault();Z.setMark("cancelAutoClose");};g.prototype.onsapescape=function(Z){if(this.getPickerPopup()){k.call(this);this.fireCancel();}else{switch(this._iMode){case 0:this.fireCancel();break;case 1:n.call(this);break;case 2:p.call(this);break;case 3:s.call(this);break;}}};g.prototype.onsaptabnext=function(Z){var $=this.getAggregation("header"),a1,b1,c1;if(q.sap.containsOrEquals(this.getDomRef("content"),Z.target)){if(this.getPickerPopup()){q.sap.focus($.getDomRef("B1"));}else{q.sap.focus($.getDomRef("B0"));}if(!this._bPoupupMode){c1=this.getAggregation("timesRow");q(c1._oItemNavigation.getItemDomRefs()[c1._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");if(!this.getPickerPopup()){a1=this.getAggregation("monthPicker");b1=this.getAggregation("yearPicker");if(a1.getDomRef()){q(a1._oItemNavigation.getItemDomRefs()[a1._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}if(b1.getDomRef()){q(b1._oItemNavigation.getItemDomRefs()[b1._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}}}Z.preventDefault();}else if(Z.target.id==$.getId()+"-B0"){q.sap.focus($.getDomRef("B1"));Z.preventDefault();}else if(!this.getPickerPopup()&&(Z.target.id==$.getId()+"-B1")){q.sap.focus($.getDomRef("B2"));Z.preventDefault();}};g.prototype.onsaptabprevious=function(Z){var $=this.getAggregation("header"),a1,b1,c1;if(q.sap.containsOrEquals(this.getDomRef("content"),Z.target)){if(this._bPoupupMode){q.sap.focus($.getDomRef("B2"));Z.preventDefault();}}else if(Z.target.id==$.getId()+"-B0"){c1=this.getAggregation("timesRow");switch(this._iMode){case 0:c1._oItemNavigation.focusItem(c1._oItemNavigation.getFocusedIndex());break;case 2:if(!this.getPickerPopup()){a1=this.getAggregation("monthPicker");a1._oItemNavigation.focusItem(a1._oItemNavigation.getFocusedIndex());}break;case 3:if(!this.getPickerPopup()){b1=this.getAggregation("yearPicker");b1._oItemNavigation.focusItem(b1._oItemNavigation.getFocusedIndex());}break;}Z.preventDefault();}else if(Z.target.id==$.getId()+"-B2"){q.sap.focus($.getDomRef("B1"));Z.preventDefault();}else if(Z.target.id==$.getId()+"-B1"){if(!this.getPickerPopup()){q.sap.focus($.getDomRef("B0"));}else{c1=this.getAggregation("timesRow");c1._oItemNavigation.focusItem(c1._oItemNavigation.getFocusedIndex());}Z.preventDefault();}};g.prototype.onfocusin=function(Z){if(Z.target.id==this.getId()+"-end"){var $=this.getAggregation("header"),a1,b1,c1;if(this.getPickerPopup()){q.sap.focus($.getDomRef("B1"));}else{q.sap.focus($.getDomRef("B2"));}if(!this._bPoupupMode){a1=this.getAggregation("timesRow");q(a1._oItemNavigation.getItemDomRefs()[a1._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");if(!this.getPickerPopup()){b1=this.getAggregation("monthPicker");c1=this.getAggregation("yearPicker");if(b1.getDomRef()){q(b1._oItemNavigation.getItemDomRefs()[b1._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}if(c1.getDomRef()){q(c1._oItemNavigation.getItemDomRefs()[c1._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}}}}this.$("end").attr("tabindex","-1");};g.prototype.onsapfocusleave=function(Z){if(!Z.relatedControlId||!q.sap.containsOrEquals(this.getDomRef(),sap.ui.getCore().byId(Z.relatedControlId).getFocusDomRef())){this.$("end").attr("tabindex","0");if(!this._bPoupupMode){var $,a1,b1;switch(this._iMode){case 0:$=this.getAggregation("timesRow");q($._oItemNavigation.getItemDomRefs()[$._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");break;case 2:if(!this.getPickerPopup()){a1=this.getAggregation("monthPicker");q(a1._oItemNavigation.getItemDomRefs()[a1._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}break;case 3:if(!this.getPickerPopup()){b1=this.getAggregation("yearPicker");q(b1._oItemNavigation.getItemDomRefs()[b1._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}break;}}}};g.prototype._handlePrevious=function(Z){var $=this._getFocusedDate(),a1,b1,c1,d1,e1,f1,g1,h1;switch(this._iMode){case 0:a1=this._getItems();b1=new U(h.call(this).getTime());c1=this.getIntervalMinutes();b1.setUTCMinutes(b1.getUTCMinutes()-a1*c1);$.setUTCMinutes($.getUTCMinutes()-a1*c1);this._setFocusedDate($);_.call(this,b1,true);break;case 1:if(!this.getPickerPopup()){d1=this.getAggregation("datesRow");e1=a._createUniversalUTCDate(d1.getDate());f1=d1.getDays();if(e1.getUTCDate()<=f1){e1.setUTCDate(1);}else{e1.setUTCDate(e1.getUTCDate()-f1);}Q.call(this,e1);}break;case 2:if(!this.getPickerPopup()){g1=this.getAggregation("monthPicker");if(g1.getMonths()<12){g1.previousPage();u.call(this);}else{$.setUTCFullYear($.getUTCFullYear()-1);P.call(this,$);this._setFocusedDate($);t.call(this);V.call(this,$.getUTCFullYear(),g1);this.fireStartDateChange();}}break;case 3:if(!this.getPickerPopup()){h1=this.getAggregation("yearPicker");h1.previousPage();v.call(this);}break;}};g.prototype._handleNext=function(Z){var $=this._getFocusedDate();switch(this._iMode){case 0:var a1=this._getItems();var b1=new U(h.call(this).getTime());var c1=this.getIntervalMinutes();b1.setUTCMinutes(b1.getUTCMinutes()+a1*c1);$.setUTCMinutes($.getUTCMinutes()+a1*c1);this._setFocusedDate($);_.call(this,b1,true);break;case 1:if(!this.getPickerPopup()){var d1=this.getAggregation("datesRow");var e1=a._createUniversalUTCDate(d1.getDate());var f1=new U(e1.getTime());f1.setUTCDate(1);f1.setUTCMonth(f1.getUTCMonth()+1);f1.setUTCDate(0);var g1=d1.getDays();if(e1.getUTCDate()+g1>f1.getUTCDate()){e1.setUTCDate(f1.getUTCDate());}else{e1.setUTCDate(e1.getUTCDate()+g1);}Q.call(this,e1);}break;case 2:if(!this.getPickerPopup()){var h1=this.getAggregation("monthPicker");if(h1.getMonths()<12){h1.nextPage();u.call(this);}else{$.setUTCFullYear($.getUTCFullYear()+1);P.call(this,$);this._setFocusedDate($);t.call(this);V.call(this,$.getUTCFullYear(),h1);this.fireStartDateChange();}}break;case 3:if(!this.getPickerPopup()){var i1=this.getAggregation("yearPicker");i1.nextPage();v.call(this);}break;}};g.prototype._getShowItemHeader=function(){var Z=this.getItems();if(Z>this._iItemsHead){return true;}else{return false;}};function _(Z,$,a1){var b1=new U(this._oMaxDate.getTime());b1.setUTCMinutes(b1.getUTCMinutes()-this.getIntervalMinutes()*(this._getItems()-1));if(b1.getTime()<this._oMinDate.getTime()){b1=new U(this._oMinDate.getTime());b1.setUTCMinutes(b1.getUTCMinutes()+this.getIntervalMinutes()*(this._getItems()-1));}if(Z.getTime()<this._oMinDate.getTime()){Z=new U(this._oMinDate.getTime());}else if(Z.getTime()>b1.getTime()){Z=b1;}var c1=this.getAggregation("timesRow");var d1=a._createLocalDate(Z,true);c1.setStartDate(d1);this._oUTCStartDate=new U(c1._getStartDate().getTime());d1=a._createLocalDate(this._oUTCStartDate,true);this.setProperty("startDate",d1,true);t.call(this);if($){var e1=a._createLocalDate(this._getFocusedDate(),true);if(!c1.checkDateFocusable(e1)){this._setFocusedDate(Z);c1.setDate(d1);}else{c1.setDate(e1);}}if(!a1){this.fireStartDateChange();}}function h(){if(!this._oUTCStartDate){var Z=this.getAggregation("timesRow");Z.setStartDate(a._createLocalDate(this._getFocusedDate(),true));this._oUTCStartDate=new U(Z._getStartDate().getTime());this._setFocusedDate(this._oUTCStartDate);}return this._oUTCStartDate;}function i(Z){var $=this._getFocusedDate();var a1=this.getAggregation("timesRow");if(!Z){a1.setDate(a._createLocalDate($,true));}else{a1.displayDate(a._createLocalDate($,true));}t.call(this);}function j(){var Z=this.getSelectedDates();if(Z&&Z[0]&&Z[0].getStartDate()){this._oFocusedDate=a._createUniversalUTCDate(Z[0].getStartDate(),undefined,true);}else{var $=new Date();this._oFocusedDate=a._createUniversalUTCDate($,undefined,true);}if(this._oFocusedDate.getTime()<this._oMinDate.getTime()){this._oFocusedDate=new U(this._oMinDate.getTime());}else if(this._oFocusedDate.getTime()>this._oMaxDate.getTime()){this._oFocusedDate=new U(this._oMaxDate.getTime());}}g.prototype._showCalendarPicker=function(){var Z=a._createLocalDate(this._getFocusedDate(),true);var $=this._getCalendarPicker();var a1=new sap.ui.unified.DateRange({startDate:Z});$.displayDate(Z,false);$.removeAllSelectedDates();$.addSelectedDate(a1);$.setMinDate(this.getMinDate());$.setMaxDate(this.getMaxDate());R.call(this,$);this._showOverlay();};g.prototype._showOverlay=function(){this.$("contentOver").css("display","");};g.prototype._hideOverlay=function(){this.$("contentOver").css("display","none");};function k(Z){if(this._oPopup&&this._oPopup.isOpen()){this._oPopup.close();}this._hideOverlay();if(!Z){i.call(this);var $=this.getAggregation("timesRow");q($._oItemNavigation.getItemDomRefs()[$._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}}function m(){if(this._iMode==3){s.call(this,true);}else if(this._iMode==2){p.call(this,true);}var Z=this._getFocusedDate();var $=this._getItems();var a1=this.getAggregation("datesRow");var b1=a1.getSelectedDates()[0];b1.setStartDate(a._createLocalDate(Z,true));var c1=new U(Z.getTime());c1.setUTCDate(1);c1.setUTCMonth(c1.getUTCMonth()+1);c1.setUTCDate(0);var d1=c1.getUTCDate();var e1=Math.floor($*1.5);if(e1>d1){e1=d1;}a1.setDays(e1);if(a1.getDomRef()){a1.$().css("display","");}else{var f1=sap.ui.getCore().createRenderManager();var g1=this.$("content");f1.renderControl(a1);f1.flush(g1[0],false,true);f1.destroy();}this._showOverlay();Q.call(this,Z);if(this._iMode==0){var h1=this.getAggregation("timesRow");q(h1._oItemNavigation.getItemDomRefs()[h1._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}this._iMode=1;}function n(Z){this._iMode=0;var $=this.getAggregation("datesRow");$.$().css("display","none");this._hideOverlay();if(!Z){i.call(this);var a1=this.getAggregation("timesRow");q(a1._oItemNavigation.getItemDomRefs()[a1._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}}function o(){if(this._iMode==1){n.call(this,true);}else if(this._iMode==3){s.call(this,true);}var Z=this._getFocusedDate();var $=this.getAggregation("monthPicker");if($.getDomRef()){$.$().css("display","");}else{var a1=sap.ui.getCore().createRenderManager();var b1=this.$("content");a1.renderControl($);a1.flush(b1[0],false,true);a1.destroy();}this._showOverlay();$.setMonth(Z.getUTCMonth());V.call(this,Z.getUTCFullYear(),$);if(this._iMode==0){var c1=this.getAggregation("timesRow");q(c1._oItemNavigation.getItemDomRefs()[c1._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}this._iMode=2;u.call(this);}function p(Z){this._iMode=0;var $=this.getAggregation("monthPicker");$.$().css("display","none");this._hideOverlay();if(!Z){i.call(this);var a1=this.getAggregation("timesRow");q(a1._oItemNavigation.getItemDomRefs()[a1._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}}function r(){if(this._iMode==1){n.call(this,true);}else if(this._iMode==2){p.call(this,true);}var Z=this._getFocusedDate();var $=this.getAggregation("yearPicker");if($.getDomRef()){$.$().css("display","");}else{var a1=sap.ui.getCore().createRenderManager();var b1=this.$("content");a1.renderControl($);a1.flush(b1[0],false,true);a1.destroy();}this._showOverlay();$.setDate(Z.getJSDate());if(this._iMode==0){var c1=this.getAggregation("timesRow");q(c1._oItemNavigation.getItemDomRefs()[c1._oItemNavigation.getFocusedIndex()]).attr("tabindex","-1");}v.call(this);this._iMode=3;}function s(Z){this._iMode=0;var $=this.getAggregation("yearPicker");$.$().css("display","none");this._hideOverlay();if(!Z){i.call(this);var a1=this.getAggregation("timesRow");q(a1._oItemNavigation.getItemDomRefs()[a1._oItemNavigation.getFocusedIndex()]).attr("tabindex","0");}}function t(){w.call(this);u.call(this,true);}function u(Z){var $=new U(h.call(this).getTime());var a1=this._getItems();var b1=$.getJSDate().getUTCFullYear();var c1=this._oMaxDate.getJSDate().getUTCFullYear();var d1=this._oMinDate.getJSDate().getUTCFullYear();var e1=$.getJSDate().getUTCMonth();var f1=this._oMaxDate.getJSDate().getUTCMonth();var g1=this._oMinDate.getJSDate().getUTCMonth();var h1=$.getJSDate().getUTCDate();var i1=this._oMaxDate.getJSDate().getUTCDate();var j1=this._oMinDate.getJSDate().getUTCDate();var k1=$.getJSDate().getUTCHours();var l1=this._oMaxDate.getJSDate().getUTCHours();var m1=this._oMinDate.getJSDate().getUTCHours();var n1=$.getJSDate().getUTCMinutes();var o1=this._oMaxDate.getJSDate().getUTCMinutes();var p1=this._oMinDate.getJSDate().getUTCMinutes();var q1=this.getAggregation("header");if(this._iMode==2&&!Z){var r1=this.getAggregation("monthPicker");var s1=r1.getMonths();var t1=r1.getStartMonth();var u1=t1+s1-1;if(t1==0||(b1==d1&&t1<=g1)){q1.setEnabledPrevious(false);}else{q1.setEnabledPrevious(true);}if(u1>10||(b1==c1&&u1>=f1)){q1.setEnabledNext(false);}else{q1.setEnabledNext(true);}return;}if((b1<d1||(b1==d1&&(!Z||(e1<g1||(e1==g1&&(h1<j1||(h1==j1&&(k1<m1||(k1==m1&&n1<=p1)))))))))||((this._iMode==1||this._iMode==2)&&this.getPickerPopup())){q1.setEnabledPrevious(false);}else{q1.setEnabledPrevious(true);}$.setUTCMinutes($.getUTCMinutes()+(a1)*this.getIntervalMinutes()-1);b1=$.getJSDate().getUTCFullYear();e1=$.getJSDate().getUTCMonth();h1=$.getJSDate().getUTCDate();k1=$.getJSDate().getUTCHours();n1=$.getJSDate().getUTCMinutes();if((b1>c1||(b1==c1&&(!Z||(e1>f1||(e1==f1&&(h1>i1||(h1==i1&&(k1>l1||(k1==l1&&n1>=o1)))))))))||((this._iMode==1||this._iMode==2)&&this.getPickerPopup())){q1.setEnabledNext(false);}else{q1.setEnabledNext(true);}}function v(){var Z=this.getAggregation("yearPicker");var $=Z.getYears();var a1=a._createUniversalUTCDate(Z.getFirstRenderedDate());a1.setUTCFullYear(a1.getUTCFullYear()+Math.floor($/2));var b1=this.getAggregation("header");var c1=new U(this._oMaxDate);c1.setUTCFullYear(c1.getUTCFullYear()-Math.ceil($/2));c1.setUTCMonth(11,31);var d1=new U(this._oMinDate);d1.setUTCFullYear(d1.getUTCFullYear()+Math.floor($/2)+1);d1.setUTCMonth(0,1);if(a1.getTime()>c1.getTime()){b1.setEnabledNext(false);}else{b1.setEnabledNext(true);}if(a1.getTime()<d1.getTime()){b1.setEnabledPrevious(false);}else{b1.setEnabledPrevious(true);}}function w(){var Z=this.getAggregation("header");var $;var a1=h.call(this);var b1;var c1=this._getLocaleData();var d1=[];var e1=[];var f1;var g1=false;var h1;var i1=f.Gregorian;var j1=false;if(c1.oLocale.sLanguage.toLowerCase()==="ja"||c1.oLocale.sLanguage.toLowerCase()==="zh"){h1=b.getDateInstance({format:"d"}).format(a1,true);}else{h1=(a1.getUTCDate()).toString();}if(this._bLongMonth||!this._bNamesLengthChecked){d1=c1.getMonthsStandAlone("wide");}else{g1=true;d1=c1.getMonthsStandAlone("abbreviated");e1=c1.getMonthsStandAlone("wide");}var k1=a1.getUTCMonth();$=d1[k1];if(g1){f1=e1[d1[k1]];}if(!this.getPickerPopup()){Z.setTextButton0(h1);Z.setTextButton1($);Z.setTextButton2(this._oYearFormat.format(a1,true));}else{b1=b.getInstance({style:"long",strictParsing:true,relative:j1,calendarType:i1},c1.oLocale);f1=h1=b1.format(a._createLocalDate(a1,true));Z.setTextButton1(h1);}if(g1){Z.setAriaLabelButton1(f1);}}function x(Z,$){var a1;var b1=false;if(Z.getTime()<this._oMinDate.getTime()){a1=this._oMinDate;b1=true;}else if(Z.getTime()>this._oMaxDate.getTime()){a1=this._oMaxDate;b1=true;}else{a1=Z;}this._setFocusedDate(a1);if(b1||$){P.call(this,a1);i.call(this,false);this.fireStartDateChange();}}function y(Z,$){if(Z&&(!this._oFocusedDate||this._oFocusedDate.getTime()!=Z.getTime())){a._checkJSDateObject(Z);Z=a._createUniversalUTCDate(Z,undefined,true);var a1=Z.getUTCFullYear();a._checkYearInValidRange(a1);if(Z.getTime()<this._oMinDate.getTime()||Z.getTime()>this._oMaxDate.getTime()){throw new Error("Date must not be in valid range (minDate and maxDate); "+this);}this._setFocusedDate(Z);if(this.getDomRef()&&this._iMode==0){i.call(this,$);}}}function z(Z){if(this._iMode!=1){m.call(this);}else{n.call(this);}}function A(Z){if(this.getPickerPopup()){this._showCalendarPicker();}else{if(this._iMode!=2){o.call(this);}else{p.call(this);}}}function B(Z){if(this._iMode!=3){r.call(this);}else{s.call(this);}}function E(Z){this.fireSelect();}function F(Z){var $=a._createUniversalUTCDate(Z.getParameter("date"),undefined,true);var a1=Z.getParameter("notVisible");x.call(this,$,a1);}function G(Z){var $=Z.getSource(),a1=$.getSelectedDates()[0].getStartDate();var b1=new U(this._getFocusedDate().getTime());var c1=a._createUniversalUTCDate(a1);b1.setUTCDate(c1.getUTCDate());b1.setUTCMonth(c1.getUTCMonth());b1.setUTCFullYear(c1.getUTCFullYear());x.call(this,b1,true);k.call(this);}function I(Z){var $=new U(this._getFocusedDate().getTime());var a1=Z.oSource;var b1=a1.getSelectedDates()[0];var c1=a._createUniversalUTCDate(b1.getStartDate());if(!this.getPickerPopup()||c1.getUTCMonth()==$.getUTCMonth()){$.setUTCDate(c1.getUTCDate());$.setUTCMonth(c1.getUTCMonth());$.setUTCFullYear(c1.getUTCFullYear());x.call(this,$,true);n.call(this);}}function J(Z){var $=new U(this._getFocusedDate().getTime());var a1=a._createUniversalUTCDate(Z.getParameter("date"),undefined,true);var b1=Z.getParameter("otherMonth");if(b1&&a1.getUTCMonth()==$.getUTCMonth()&&a1.getUTCFullYear()==$.getUTCFullYear()){Q.call(this,a1);}}function K(Z){var $=new U(this._getFocusedDate().getTime());var a1=this.getAggregation("monthPicker");var b1=a1.getMonth();$.setUTCMonth(b1);if(b1!=$.getUTCMonth()){$.setUTCDate(0);}x.call(this,$,true);p.call(this);}function N(Z){var $=new U(this._getFocusedDate().getTime());var a1=this.getAggregation("yearPicker");var b1=a._createUniversalUTCDate(a1.getDate());var c1=$.getUTCMonth();b1.setUTCMonth($.getUTCMonth(),$.getUTCDate());b1.setUTCHours($.getUTCHours());b1.setUTCMinutes($.getUTCMinutes());$=b1;if(c1!=$.getUTCMonth()){$.setUTCDate(0);}x.call(this,$,true);s.call(this);}function O(){this._sInvalidateContent=undefined;var Z=this.getAggregation("timesRow");Z._bDateRangeChanged=true;Z._bInvalidateSync=true;Z.invalidate();Z._bInvalidateSync=undefined;this._bDateRangeChanged=undefined;}function P(Z){var $=this.getAggregation("timesRow");var a1=h.call(this);var b1=$._oItemNavigation.getFocusedIndex();a1=new U(Z.getTime());a1.setUTCMinutes(a1.getUTCMinutes()-b1*this.getIntervalMinutes());_.call(this,a1,false,true);}function Q(Z){var $=this.getAggregation("datesRow");var a1=this.getAggregation("header");if(!this.getPickerPopup()){var b1=new U(Z.getTime());b1.setUTCDate(1);b1.setUTCMonth(b1.getUTCMonth()+1);b1.setUTCDate(0);var c1=$.getDays();var d1=new U(Z.getTime());d1.setUTCDate(1+(Math.ceil(Z.getUTCDate()/c1)-1)*c1);if(b1.getUTCDate()-d1.getUTCDate()<c1){d1.setUTCDate(b1.getUTCDate()-c1+1);}$.setStartDate(a._createLocalDate(d1,true));var e1=d1.getJSDate().getUTCFullYear();var f1=this._oMaxDate.getJSDate().getUTCFullYear();var g1=this._oMinDate.getJSDate().getUTCFullYear();var h1=d1.getJSDate().getUTCMonth();var i1=this._oMaxDate.getJSDate().getUTCMonth();var j1=this._oMinDate.getJSDate().getUTCMonth();var k1=d1.getJSDate().getUTCDate();var l1=this._oMaxDate.getJSDate().getUTCDate();var m1=this._oMinDate.getJSDate().getUTCDate();if(k1<=1||(e1==g1&&h1==j1&&k1<=m1)){a1.setEnabledPrevious(false);}else{a1.setEnabledPrevious(true);}if((k1+c1)>=b1.getUTCDate()||(e1==f1&&h1==i1&&k1>=l1)){a1.setEnabledNext(false);}else{a1.setEnabledNext(true);}}else{a1.setEnabledPrevious(false);a1.setEnabledNext(false);}$.setDate(a._createLocalDate(Z,true));}function R(Z){if(!this._oPopup){q.sap.require("sap.ui.core.Popup");this._oPopup=new sap.ui.core.Popup();this._oPopup.setAutoClose(true);this._oPopup.setAutoCloseAreas([this.getDomRef()]);this._oPopup.setDurations(0,0);this._oPopup._oCalendar=this;this._oPopup.attachClosed(S,this);this._oPopup.onsapescape=function(b1){this._oCalendar.onsapescape(b1);};}this._oPopup.setContent(Z);var $=this.getAggregation("header");var a1=sap.ui.core.Popup.Dock;this._oPopup.open(0,a1.CenterTop,a1.CenterTop,$,null,"flipfit",true);}function S(Z){k.call(this);}function V(Z,$){var a1=0;var b1=11;if(Z==this._oMinDate.getUTCFullYear()){a1=this._oMinDate.getUTCMonth();}if(Z==this._oMaxDate.getUTCFullYear()){b1=this._oMaxDate.getUTCMonth();}$.setMinMax(a1,b1);}function W(Z){u.call(this);}function X(Z){v.call(this);}return g;});};if(!jQuery.sap.isDeclared('sap.ui.unified.CalendarWeekInterval')){jQuery.sap.declare('sap.ui.unified.CalendarWeekInterval');sap.ui.define("sap/ui/unified/CalendarWeekInterval",['sap/ui/unified/calendar/CalendarUtils','sap/ui/unified/calendar/CalendarDate','./library','sap/ui/unified/CalendarDateInterval','sap/ui/unified/CalendarDateIntervalRenderer'],function(C,a,l,b,c){"use strict";var d=b.extend("sap.ui.unified.CalendarWeekInterval",{renderer:c});d.prototype._getDaysLarge=function(){return 6;};d.prototype._handleFocus=function(e){var o=!!e.getParameter("_outsideBorder"),D,f,g;if(o){D=e.getParameter("date");this._oFocusDateWeek=a.fromLocalJSDate(D);f=C._getFirstDateOfWeek(this._oFocusDateWeek);g=this.getAggregation("month")[0];if(g.getDomRef()){this._setStartDate(f,false,true);}}return b.prototype._handleFocus.apply(this,arguments);};d.prototype._focusDateExtend=function(D,o,n){var e,L;if(!this._oFocusDateWeek){return b.prototype._focusDateExtend.apply(this,arguments);}e=this.getAggregation("month")[0];L=this._oFocusDateWeek.toLocalJSDate();this._setFocusedDate(this._oFocusDateWeek);e.setDate(L);this._oFocusDateWeek=null;return!n;};d.prototype._dateMatchesVisibleRange=function(D){var i=this.getDays(),o=a.fromLocalJSDate(D),s=a.fromLocalJSDate(this.getStartDate()),e=a.fromLocalJSDate(this.getStartDate());e.setDate(e.getDate()+i);return o.isSameOrAfter(s)&&o.isBefore(e);};d.prototype._showCalendarPicker=function(){var o=this._getFocusedDate(),e=this._getStartDate(),f=this._getCalendarPicker(),s=new sap.ui.unified.DateRange(),g;g=new a(e);g.setDate(g.getDate()+this._getDays()-1);s.setStartDate(e.toLocalJSDate());s.setEndDate(g.toLocalJSDate());f.displayDate(o.toLocalJSDate(),false);f.removeAllSelectedDates();f.addSelectedDate(s);f.setMinDate(this.getMinDate());f.setMaxDate(this.getMaxDate());this._openPickerPopup(f);this._showOverlay();};d.prototype._handleCalendarPickerDateSelect=function(e){var o=this._getCalendarPicker(),f=o._getFocusedDate(),F;if(this._dateMatchesVisibleRange(f.toLocalJSDate())){this._oFocusDateWeek=o._getFocusedDate();this._focusDate(this._oFocusDateWeek,false,true);}else{F=C._getFirstDateOfWeek(f);this._setStartDate(F);this._oFocusDateWeek=o._getFocusedDate();this._focusDate(this._oFocusDateWeek,false,true);}this._closeCalendarPicker(true);};return d;});};if(!jQuery.sap.isDeclared('sap.ui.unified.Shell')){jQuery.sap.declare('sap.ui.unified.Shell');sap.ui.define("sap/ui/unified/Shell",['./ShellHeader','./ShellLayout','./library'],function(S,a,l){"use strict";var b=a.extend("sap.ui.unified.Shell",{metadata:{library:"sap.ui.unified",properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},showCurtain:{type:"boolean",group:"Appearance",defaultValue:null,deprecated:true},showCurtainPane:{type:"boolean",group:"Appearance",defaultValue:null,deprecated:true},searchVisible:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{curtainContent:{type:"sap.ui.core.Control",multiple:true,singularName:"curtainContent"},curtainPaneContent:{type:"sap.ui.core.Control",multiple:true,singularName:"curtainPaneContent"},headItems:{type:"sap.ui.unified.ShellHeadItem",multiple:true,singularName:"headItem"},headEndItems:{type:"sap.ui.unified.ShellHeadItem",multiple:true,singularName:"headEndItem"},search:{type:"sap.ui.core.Control",multiple:false},user:{type:"sap.ui.unified.ShellHeadUserItem",multiple:false}}}});b.prototype.init=function(){a.prototype.init.apply(this,arguments);this._header=new S(this.getId()+"-header");this.setHeader(this._header);};b.prototype.exit=function(){a.prototype.exit.apply(this,arguments);this._header.destroy();delete this._header;};b.prototype._getSearchWidth=function(){if(this._header===this.getHeader()&&this._header.getDomRef()){var s=this._header.$("hdr-center").children();if(s.length){return s.width();}}return-1;};b.prototype.setIcon=function(i){this.setProperty("icon",i,true);this._header.setLogo(i);return this;};b.prototype.getIcon=function(){return this._header.getLogo();};b.prototype.setSearchVisible=function(s){this.setProperty("searchVisible",s,true);this._header.setSearchVisible(s);return this;};b.prototype.getSearchVisible=function(){return this._header.getSearchVisible();};b.prototype.setSearch=function(s){this._header.setSearch(s);return this;};b.prototype.getSearch=function(){return this._header.getSearch();};b.prototype.setUser=function(u){this._header.setUser(u);return this;};b.prototype.getUser=function(){return this._header.getUser();};b.prototype.getHeadItems=function(){return this._header.getHeadItems();};b.prototype.insertHeadItem=function(h,i){this._header.insertHeadItem(h,i);return this;};b.prototype.addHeadItem=function(h){this._header.addHeadItem(h);return this;};b.prototype.removeHeadItem=function(i){return this._header.removeHeadItem(i);};b.prototype.removeAllHeadItems=function(){return this._header.removeAllHeadItems();};b.prototype.destroyHeadItems=function(){this._header.destroyHeadItems();return this;};b.prototype.indexOfHeadtem=function(h){return this._header.indexOfHeadItem(h);};b.prototype.getHeadEndItems=function(){return this._header.getHeadEndItems();};b.prototype.insertHeadEndItem=function(h,i){this._header.insertHeadEndItem(h,i);return this;};b.prototype.addHeadEndItem=function(h){this._header.addHeadEndItem(h);return this;};b.prototype.removeHeadEndItem=function(i){return this._header.removeHeadEndItem(i);};b.prototype.removeAllHeadEndItems=function(){return this._header.removeAllHeadEndItems();};b.prototype.destroyHeadEndItems=function(){this._header.destroyHeadEndItems();return this;};b.prototype.indexOfHeadEndItem=function(h){return this._header.indexOfHeadEndItem(h);};b.prototype.setHeader=function(h){return a.prototype.setHeader.apply(this,[h?h:this._header]);};b.prototype.destroyHeader=function(){if(this.getHeader()===this._header){return this;}return a.prototype.destroyHeader.apply(this,[]);};return b;});};
