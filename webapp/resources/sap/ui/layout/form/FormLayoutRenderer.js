/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/layout/library","sap/ui/core/library"],function(l,c){"use strict";var T=c.TitleLevel;var B=l.BackgroundDesign;var F={};F.render=function(r,L){var a=r;var f=L.getParent();if(f&&f instanceof sap.ui.layout.form.Form){this.renderForm(a,L,f);}};F.renderForm=function(r,L,f){var t=f.getToolbar();r.write("<div");r.writeControlData(L);r.addClass(this.getMainClass());if(t){r.addClass("sapUiFormToolbar");}this.addBackgroundClass(r,L);r.writeClasses();r.write(">");if(t){r.renderControl(t);}else{var s=sap.ui.core.theming.Parameters.get('sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize');this.renderTitle(r,f.getTitle(),undefined,false,s,f.getId());}this.renderContainers(r,L,f);r.write("</div>");};F.getMainClass=function(){return"sapUiFormLayout";};F.addBackgroundClass=function(r,L){var b=L.getBackgroundDesign();if(b!=B.Transparent){r.addClass("sapUiFormBackgr"+b);}};F.renderContainers=function(r,L,f){var C=f.getFormContainers();for(var i=0,a=C.length;i<a;i++){var o=C[i];if(o.isVisible()){this.renderContainer(r,L,o);}}};F.renderContainer=function(r,L,C){var e=C.getExpandable();var t=C.getToolbar();var o=C.getTitle();r.write("<section");r.writeElementData(C);r.addClass("sapUiFormContainer");if(t){r.addClass("sapUiFormContainerToolbar");}else if(o){r.addClass("sapUiFormContainerTitle");}if(C.getTooltip_AsString()){r.writeAttributeEscaped('title',C.getTooltip_AsString());}r.writeClasses();this.writeAccessibilityStateContainer(r,C);r.write(">");if(t){r.renderControl(t);}else{this.renderTitle(r,o,C._oExpandButton,e,T.H4,C.getId());}if(e){r.write("<div id='"+C.getId()+"-content'");if(!C.getExpanded()){r.addStyle("display","none");r.writeStyles();}r.write(">");}var E=C.getFormElements();for(var j=0,a=E.length;j<a;j++){var b=E[j];if(b.isVisible()){this.renderElement(r,L,b);}}if(e){r.write("</div>");}r.write("</section>");};F.renderElement=function(r,L,e){var o=e.getLabelControl();r.write("<div");r.writeElementData(e);r.addClass("sapUiFormElement");if(o){r.addClass("sapUiFormElementLbl");}r.writeClasses();r.write(">");if(o){r.renderControl(o);}var f=e.getFields();if(f&&f.length>0){for(var k=0,a=f.length;k<a;k++){var b=f[k];r.renderControl(b);}}r.write("</div>");};F.renderTitle=function(r,t,e,E,L,C){if(t){var s=sap.ui.core.theming.Parameters.get('sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize');if(L){s=L;}if(typeof t!=="string"&&t.getLevel()!=T.Auto){s=t.getLevel();}r.write("<"+s+" ");r.addClass("sapUiFormTitle");r.addClass("sapUiFormTitle"+s);if(typeof t!=="string"){r.writeElementData(t);if(t.getTooltip_AsString()){r.writeAttributeEscaped('title',t.getTooltip_AsString());}if(t.getEmphasized()){r.addClass("sapUiFormTitleEmph");}}else{r.writeAttribute("id",C+"--title");}r.writeClasses();r.write(">");if(E&&e){r.renderControl(e);}if(typeof t==="string"){r.writeEscaped(t,true);}else{var i=t.getIcon();if(i){var a=[];var A={"title":null};A["id"]=t.getId()+"-ico";r.writeIcon(i,a,A);}r.writeEscaped(t.getText(),true);}r.write("</"+s+">");}};F.writeAccessibilityStateContainer=function(r,C){var a={};var t=C.getTitle();var o=C.getToolbar();if(o){if(!C.getAriaLabelledBy()||C.getAriaLabelledBy().length==0){a["labelledby"]={value:o.getId(),append:true};}}else if(t){var i="";if(typeof t=="string"){i=C.getId()+"--title";}else{i=t.getId();}a["labelledby"]={value:i,append:true};}if(a["labelledby"]||C.getAriaLabelledBy().length>0){a["role"]="form";}r.writeAccessibilityState(C,a);};return F;},true);
